//!Portions of this code are licensed under the following license:
//!  For license information please see fs.js.LICENSE 
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/s",n(n.s=34)}([function(e,t,n){"use strict";var r;t.__esModule=!0,function(e){e.MUT_INSERT=2,e.MUT_REMOVE=3,e.MUT_ATTR=4,e.MUT_TEXT=6,e.MOUSEMOVE=8,e.MOUSEMOVE_CURVE=9,e.SCROLL_LAYOUT=10,e.SCROLL_LAYOUT_CURVE=11,e.MOUSEDOWN=12,e.MOUSEUP=13,e.KEYDOWN=14,e.KEYUP=15,e.CLICK=16,e.FOCUS=17,e.VALUECHANGE=18,e.RESIZE_LAYOUT=19,e.DOMLOADED=20,e.LOAD=21,e.PLACEHOLDER_SIZE=22,e.UNLOAD=23,e.BLUR=24,e.SET_FRAME_BASE=25,e.TOUCHSTART=32,e.TOUCHEND=33,e.TOUCHCANCEL=34,e.TOUCHMOVE=35,e.TOUCHMOVE_CURVE=36,e.NAVIGATE=37,e.PLAY=38,e.PAUSE=39,e.RESIZE_VISUAL=40,e.RESIZE_VISUAL_CURVE=41,e.LOG=48,e.ERROR=49,e.DBL_CLICK=50,e.FORM_SUBMIT=51,e.WINDOW_FOCUS=52,e.WINDOW_BLUR=53,e.HEARTBEAT=54,e.WATCHED_ELEM=56,e.PERF_ENTRY=57,e.REC_FEAT_SUPPORTED=58,e.SELECT=59,e.CSSRULE_INSERT=60,e.CSSRULE_DELETE=61,e.FAIL_THROTTLED=62,e.AJAX_REQUEST=63,e.SCROLL_VISUAL_OFFSET=64,e.SCROLL_VISUAL_OFFSET_CURVE=65,e.MEDIA_QUERY_CHANGE=66,e.RESOURCE_TIMING_BUFFER_FULL=67,e.MUT_SHADOW=68,e.DISABLE_STYLESHEET=69,e.FULLSCREEN=70,e.FULLSCREEN_ERROR=71,e.ADOPTED_STYLESHEETS=72,e.SYS_SETVAR=8193,e.SYS_RESOURCEHASH=8195,e.SYS_SETCONSENT=8196,e.SYS_CUSTOM=8197,e.SYS_REPORTCONSENT=8198}(r=t.RawEventKind||(t.RawEventKind={})),function(e){e.Unknown=0,e.Api=1,e.FsShutdownFrame=2,e.Hibernation=3,e.Reidentify=4,e.SettingsBlocked=5,e.Size=6,e.Unload=7}(t.UnloadReason||(t.UnloadReason={})),function(e){e.Timing=0,e.Navigation=1,e.Resource=2,e.Paint=3,e.Mark=4,e.Measure=5,e.Memory=6}(t.PerfEntryType||(t.PerfEntryType={})),function(e){e.Performance=0,e.PerformanceEntries=1,e.PerformanceMemory=2,e.Console=3,e.Ajax=4,e.PerformanceObserver=5}(t.RecFeature||(t.RecFeature={})),function(e){e.Node=1,e.Sheet=2}(t.SheetOwner||(t.SheetOwner={})),function(e){e.StyleSheetHooks=0,e.SetPropertyHooks=1}(t.ThrottledTask||(t.ThrottledTask={})),function(e){e.User="user",e.Account="acct",e.Event="evt"}(t.VarScope||(t.VarScope={})),t.isUserActionEvent=function(e){switch(e){case r.MOUSEDOWN:case r.MOUSEMOVE:case r.MOUSEMOVE_CURVE:case r.MOUSEUP:case r.KEYDOWN:case r.KEYUP:case r.TOUCHSTART:case r.TOUCHEND:case r.TOUCHMOVE:case r.TOUCHMOVE_CURVE:case r.TOUCHCANCEL:case r.CLICK:case r.SCROLL_LAYOUT:case r.SCROLL_LAYOUT_CURVE:case r.SCROLL_VISUAL_OFFSET:case r.SCROLL_VISUAL_OFFSET_CURVE:case r.NAVIGATE:return!0;}return!1},function(e){e.Elide=0,e.Record=1,e.Whitelist=2}(t.AjaxBodyPolicy||(t.AjaxBodyPolicy={})),function(e){e.Unset=0,e.Exclude=1,e.Block=2,e.Record=3}(t.BlockType||(t.BlockType={})),function(e){e.MaxLogsPerPage=1024,e.MutationProcessingInterval=250,e.CurveSamplingInterval=142,e.DefaultBundleUploadInterval=5e3,e.HeartbeatInitial=4e3,e.HeartbeatMax=256200,e.PageInactivityTimeout=18e5,e.BackoffMax=3e5,e.ScrollSampleInterval=e.MutationProcessingInterval/5,e.InactivityThreshold=4e3,e.MaxPayloadLength=16384}(t.Constants||(t.Constants={})),t.SwanSongLocalStorageKey="_fs_swan_song",t.UidLocalStorageKey="_fs_uid"},function(e,t,n){"use strict";var r,i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r["throw"](e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};t.__esModule=!0;var u=n(8),c=n(9),d=n(4),h=n(3),l=n(17);t._native_bind=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return e.bind.apply(e,a([t],n))},t._js_bind=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){var r=Array.prototype.slice.call(arguments);e.call.apply(e,a([t],n,r))}},t.bind=Function.prototype.bind?t._native_bind:t._js_bind,t._native_map=function(e,t,n){return e.map(t,n)},t._js_map=function(e,t,n){for(var r=Array(e.length),i=0;i<e.length;i++)r[i]=t.call(n,e[i],i,e);return r},t.map=Array.prototype.map?t._native_map:t._js_map,t._native_trim=function(e){return e.trim()},t._js_trim=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},t.trim=String.prototype.trim?t._native_trim:t._js_trim,t._native_filter=function(e,t,n){return e.filter(t,n)},t._js_filter=function(e,t,n){for(var r=Array(e.length),i=0;i<e.length;i++)r[i]=t.call(n,e[i],i,e);return r},t.filter=Array.prototype.filter?t._native_filter:t._js_filter;function f(){var e=function(e){return e.matches||e.msMatchesSelector||e.webkitMatchesSelector},t=e(window.Element.prototype),n=window.document?window.document.documentElement:void 0;return!n||t&&n instanceof window.Element||(t=e(n)),[t,function(e,n){return t.call(e,n)}]}t.isArray=d.windex.arrayIsArray?function(e){return d.windex.arrayIsArray(e)}:function(e){return"[object Array]"==d.windex.objectToString(e)},t._native_keys=function(e){return d.windex.objectKeys(e)},t._js_keys=function(e){var t=[];for(var n in e)d.windex.objectHasOwnProp(e,n)&&t.push(n);return t},t.keys="function"==typeof d.windex.objectKeys?t._native_keys:t._js_keys,t.setMatchesSelector=function(e){t.matchesSelector=e},t.setUpMatchesSelector=f,r=f(),t._native_matchesSelector=r[0],t.matchesSelector=r[1],t.hasPrefix=function(e,t){return 0==e.lastIndexOf(t,0)},t.hasSuffix=function(e,t){return!(t.length>e.length)&&e.substring(e.length-t.length)==t},t.forIn=function(e,t){for(var n in e)d.windex.objectHasOwnProp(e,n)&&t(e[n],n,e)},t.forInAsync=function(e,t){return o(this,void 0,c.FSPromise,function(){var n,r,i,o;return s(this,function(s){switch(s.label){case 0:for(r in n=[],e)n.push(r);i=0,s.label=1;case 1:return i<n.length?(o=n[i],d.windex.objectHasOwnProp(e,o)?[4,t(e[o],o,e)]:[3,3]):[3,4];case 2:s.sent(),s.label=3;case 3:return i++,[3,1];case 4:return[2];}})})},t.firstKey=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return t},t.firstValue=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},t.hasNKeys=function(e,t){var n=0;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&++n>t)return!1;return n==t},t.hasMoreThanNKeys=function(e,t){var n=0;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&++n>t)return!0;return!1};t.nextSibling=u.uaIsIE?function(e){var t=e.nextSibling;return t&&e.parentNode&&t===e.parentNode.firstChild?null:t}:function(e){return e.nextSibling};t.forEachNextSibling=u.uaIsIE?function(e,t){if(e){var n=e.parentNode?e.parentNode.firstChild:null;do{t(e),e=e.nextSibling}while(e&&e!=n)}}:function(e,t){for(;e;e=e.nextSibling)t(e)};function p(e,t){if(!e)return l.doNothing;var n=function(e){try{var t=window;return t.Zone&&t.Zone.root&&"function"==typeof t.Zone.root.wrap?t.Zone.root.wrap(e):e}catch(t){return e}}(e);return t&&(n=n.bind(t)),l.guard(n,function(e){h.logIfDebug("Unexpected error: "+e)})}function _(e){var t="Internal error: unable to determine what JSON error was";try{t=(t=""+e).replace(/[^a-zA-Z0-9\.\:\!\, ]/g,"_")}catch(e){}return"\""+t+"\""}t.previousSibling=u.uaIsIE?function(e){var t=e.previousSibling;return t&&e.parentNode&&t===e.parentNode.lastChild?null:t}:function(e){return e.previousSibling},t.values=function(e){if(d.windex.objectValues)return d.windex.objectValues(e||{});var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},t.$entry=p,t.stringify=function(e){var t,n=Array.prototype.toJSON,r=String.prototype.toJSON;n&&(Array.prototype.toJSON=void 0),r&&(String.prototype.toJSON=void 0);try{t=d.windex.jsonStringify(e)}catch(e){t=_(e)}finally{n&&(Array.prototype.toJSON=n),r&&(String.prototype.toJSON=r)}return t},t.jsonErrorString=_,t.doctypeString=function(e){var t=e.doctype;if(!t)return"";var n="<!DOCTYPE ";return n+=t.name,t.publicId&&(n+=" PUBLIC \""+t.publicId+"\""),t.systemId&&(n+=" \""+t.systemId+"\""),n+">"},t.parseJson=function(e){return d.windex.jsonParse(e)},t.tryGetScreenDims=function(e){var t=0,n=0;return null==e.screen?[t,n]:(t=parseInt(String(e.screen.width)),n=parseInt(String(e.screen.height)),[t=isNaN(t)?0:t,n=isNaN(n)?0:n])};var g=function(){function e(e,t){this.target=e,this.propertyName=t,this._before=l.doNothing,this._afterSync=l.doNothing,this._afterAsync=l.doNothing,this.on=!1}return e.prototype.before=function(e){return this._before=p(e),this},e.prototype.afterSync=function(e){return this._afterSync=p(e),this},e.prototype.afterAsync=function(e){var t=this;return this._afterAsync=p(function(e){d.windex.setWindowTimeout(window,l.guard(function(){t._afterAsync(e)}),0)}),this},e.prototype.disable=function(){if(this.on=!1,this.shim){var e=this.shim,t=e.override,n=e["native"];this.target[this.propertyName]===t&&(this.target[this.propertyName]=n,this.shim=void 0)}},e.prototype.enable=function(){if(this.on=!0,this.shim)return!0;this.shim=this.makeShim();try{this.target[this.propertyName]=this.shim.override}catch(e){return!1}return!0},e.prototype.makeShim=function(){var e=this,t=this.target[this.propertyName];return{"native":t,override:function(){var n={that:this,args:arguments};e.on&&e._before(n);var r=t.apply(this,arguments);return e.on&&(e._afterSync(n),e._afterAsync(n)),r}}},e}(),v={};t.activateHook=function(e,t){if(!e||"function"!=typeof e[t])return null;var n;v[t]=v[t]||[];for(var r=0;r<v[t].length;r++)v[t][r].obj==e&&(n=v[t][r].hook);return n||(n=new g(e,t),v[t].push({obj:e,hook:n})),n.enable()?n:null},t.shimProp=function(e,t,n){if(!e)return function(){};var r=Object.getOwnPropertyDescriptor(e.prototype,t);if(!r||!r.set)return function(){};var o=r.set,s=p(n),a=!0;function u(e){o.call(this,e),a&&s(this,e)}return Object.defineProperty(e.prototype,t,i(i({},r),{set:u})),function(){a=!1;var n=Object.getOwnPropertyDescriptor(e.prototype,t);n&&u===n.set&&Object.defineProperty(e.prototype,t,i(i({},n),{set:o}))}}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(21),i=n(3),o=n(10);n(0);var s=n(17),a=n(11),u=10,c="[anonymous]",d=/function\s*([\w\-$]+)?\s*\(/i;function h(e){return e.stack||e.backtrace||e.stacktrace}function l(){var e,t;try{throw new Error("")}catch(n){e="<generated>\n",t=h(n)}if(!t){e="<generated-ie>\n";var n=[];try{for(var r=arguments.callee.caller.caller;r&&n.length<u;){var o=d.test(r.toString())&&RegExp.$1||c;n.push(o),r=r.caller}}catch(e){i.logIfDebug(e)}t=n.join("\n")}return e+t}function f(){try{return window.self!==window.top}catch(e){return!0}}var p=function(){function e(){}return e.wrap=function(t,n){return void 0===n&&(n="error"),s.guard(t,function(t){return e.sendToBugsnag(t,n)})},e.errorLimit=15,e.sendToBugsnag=function(t,n,i){if(!(e.errorLimit<=0)){e.errorLimit--,"string"==typeof t&&(t=new Error(t));var s=r.getCookies(document).fs_uid,u=s?r.parseIdentityCookie(s):void 0;u&&u.orgId!=o._fs_org(window)&&(u=void 0);var c=new Date(1575988695e3).toISOString(),d={projectRoot:window.location.origin,deviceTime:a.now(),inIframe:f(),CompiledTimestamp:1575988695,CompiledTime:c,orgId:o._fs_org(window),"userId:sessionId":u?u.userId+":"+u.sessionId:"NA",context:document.location&&document.location.pathname,message:t.message,name:"Recording Error",releaseStage:"production "+c,severity:n,language:navigator.language||navigator.userLanguage||"en-GB",stacktrace:h(t)||l()};if(i)for(var p in i)d["aux_"+p]=i[p];var _=[];for(var p in d)_.push(encodeURIComponent(p)+"="+encodeURIComponent(d[p]));new Image().src="https://"+o._fs_rec_host(window)+"/rec/except?"+_.join("&")}},e}();t.FsBugSnag=p;var _={};t.assert=function(e,t,n){if(void 0===n&&(n=1),e)return!0;if(_[t]=_[t]||0,_[t]++,_[t]>n)return!1;var r=new Error("Assertion failed: "+t);return p.sendToBugsnag(r,"error"),e}},function(e,t,n){"use strict";t.__esModule=!0;var r=!1;function i(){return r}t.initDebug=function(e){r=e},t.isDebug=i,t.logIfDebug=function(e){i()&&window.console&&console.log(e)}},function(e,t,n){"use strict";t.__esModule=!0,n(19);var r=n(8),i=n(3),o=n(2),s=n(9);function a(e,t){try{return{done:t,jsonParse:e.JSON.parse,jsonStringify:e.JSON.stringify,arrayShift:u(e.Array.prototype.shift),arrayIsArray:e.Array.isArray,objectToString:u(e.Object.prototype.toString),objectKeys:e.Object.keys,objectValues:e.Object.values||null,objectHasOwnProp:u(e.Object.prototype.hasOwnProperty),matchMedia:c(e.matchMedia),setWindowTimeout:u(e.setTimeout),setWindowInterval:u(e.setInterval),clearWindowTimeout:u(e.clearTimeout),clearWindowInterval:u(e.clearInterval),requestWindowAnimationFrame:c(e.requestAnimationFrame),requestWindowIdleCallback:c(e.requestIdleCallback)}}catch(e){return}}function u(e){return function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.apply(t,n)}}function c(e){return e?u(e):null}t.initWindex=function(e){try{if(r.uaIsIE||r.uaIsEdge||function(e){var t=[function(){throw new Error("")},Function.prototype.toString].map(function(e){try{return void e.call(null)}catch(e){return e.stack||""}}),n=t[0],r=t[1];if(!n||!r)return!1;for(var i="\n".charCodeAt(0),o=Math.min(n.length,r.length),s=1,a=s;a<o;a++){var u=n.charCodeAt(n.length-a),c=r.charCodeAt(r.length-a);if(u!=c)break;c!=i&&a!=o-1||(s=a)}if(r.slice(0,r.length-s+1).match(/\.js:\d+([:)]|$)/m))return!1;var d=function(e){return"function"==typeof e&&Function.prototype.toString.call(e).indexOf("[native code]")<0};return!(d(e.JSON.parse)||d(e.JSON.stringify)||d(e.Array)||d(e.Array.prototype.shift)||d(e.Array.isArray)||d(e.Object.prototype.toString)||d(e.Object.keys)||d(e.Object.values)||d(e.Object.prototype.hasOwnProperty)||d(e.setTimeout)||d(e.setInterval)||d(e.clearTimeout)||d(e.clearInterval)||d(e.requestIdleCallback))}(e))return t.windex.done=!0,s.FSPromise.resolve();if(!e.document||t.windex.done)return s.FSPromise.resolve();i.logIfDebug("Window object doesn't look clean; creating windex.");var n=e.document.createElement("iframe");n.id="FullStory-iframe",n.className="fs-hide",n.style.display="none";var u=e.document.body||e.document.head||e.document.documentElement||e.document;try{u.appendChild(n)}catch(e){return s.FSPromise.resolve()}if(n.src="about:blank",!n.contentWindow)return s.FSPromise.resolve();var c,d=a(n.contentWindow,!0);if(n.parentNode&&n.parentNode.removeChild(n),!d)return s.FSPromise.resolve();var h=new s.FSPromise(function(e){return c=e});return setTimeout(function(){try{if(!d)throw"";d.jsonParse("[]").push(0),t._setWindex(d)}catch(e){t.windex.done=!0}c()}),h}catch(e){return o.FsBugSnag.sendToBugsnag(e,"error"),s.FSPromise.resolve()}},t._makeWindex=a,t.windex=a(window,!1),t._setWindex=function(e){for(var n in t.windex)t.windex[n]=e[n]}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var o=n(1),s=n(2),a=n(9),u=n(4),c=n(11),d=function(){function e(){var t=this;this._wrappedTick=s.FsBugSnag.wrap(function(){t.unregister(),t._tick()}),this._due=0,this._id=e.nextId++}return e._rearm=function(){e.checkedAlready=!1,e.lastCheck=0},e.checkForBrokenSchedulers=function(){if(u.windex.requestWindowAnimationFrame&&!e.checkedAlready){var t=c.now();if(!(t-e.lastCheck<100)){e.lastCheck=t,e.checkedAlready=!0;var n=[];return o.forIn(e.registry,function(e){var r=e.maybeForceTick(t);r&&n.push(r)}),a.FSPromise.all(n).then(function(){u.windex.requestWindowAnimationFrame(window,s.FsBugSnag.wrap(function(){e.checkedAlready=!1}))})}}},e.stopAll=function(){o.forIn(this.registry,function(e){return e.stop()})},e.prototype.setTick=function(e){this._tick=e},e.prototype.stop=function(){this.cancel(),delete e.registry[this._id]},e.prototype.register=function(t){this._due=c.now()+100+1.5*t,e.registry[this._id]=this},e.prototype.unregister=function(){delete e.registry[this._id]},e.prototype.maybeForceTick=function(e){if(e>this._due)return a.FSPromise.resolve().then(this._wrappedTick)["catch"](function(){})},e.registry={},e.nextId=0,e.checkedAlready=!1,e.lastCheck=0,e}();t.Scheduler=d;var h=function(e){function t(t){var n=e.call(this)||this;return n._interval=t,n._handle=-1,n}return i(t,e),t.prototype.start=function(e){var t=this;-1==this._handle&&(this.setTick(function(){e(),t.register(t._interval)}),this._handle=u.windex.setWindowInterval(window,this._wrappedTick,this._interval),this.register(this._interval))},t.prototype.cancel=function(){-1!=this._handle&&(u.windex.clearWindowInterval(window,this._handle),this._handle=-1,this.setTick(function(){}))},t}(d);t.RealTicker=h;var l=function(e){function t(t,n,r){void 0===n&&(n=0);for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=e.call(this)||this;return s.delay=n,s.timer=-1,s.setTick(function(){t.apply(void 0===r?window:r,i),s.stop()}),s}return i(t,e),t.prototype.start=function(e){return void 0===e&&(e=this.delay),this.delay=e,u.windex.clearWindowTimeout(window,this.timer),this.timer=u.windex.setWindowTimeout(window,this._wrappedTick,this.delay),this.register(e),this},t.prototype.cancel=function(){-1!=this.timer&&(u.windex.clearWindowTimeout(window,this.timer),this.timer=-1)},t}(d);t.RealTimeout=l,t.idleMoment=function(e){return new a.FSPromise(function(t){u.windex.requestWindowIdleCallback?u.windex.requestWindowIdleCallback(window,s.FsBugSnag.wrap(t),e):u.windex.setWindowTimeout(window,s.FsBugSnag.wrap(function(){return t(new f(c.now()+25))}),e&&e.timeout||50)})};var f=function(){function e(e){this.deadlineTime=e,this.didTimeout=this.deadlineTime<=c.now()}return e.prototype.timeRemaining=function(){return this.deadlineTime-c.now()},e}(),p=function(){function e(e,t,n){this.limit=e,this.breaker=n,this.remaining=0,this.ticker=new h(t),this.open()}return e.prototype.guard=function(e){var t=this;return function(){return 0==t.remaining?(t.breaker(),void t.remaining--):t.remaining<0?void 0:(t.remaining--,e.apply(this,arguments))}},e.prototype.close=function(){return this.ticker.stop(),this},e.prototype.open=function(){var e=this;return this.remaining=this.limit,this.ticker.start(function(){e.remaining=e.limit}),this},e}();t.Throttle=p;var _=function(){function e(){this._reported=0,this._skew=0,this._startTime=this.wallTime()}return e.prototype.wallTime=function(){return c.now()},e.prototype.now=function(){var e=this.wallTime()-this._startTime;return e<0&&this._reportTimeSkew("timekeeper now() is negative"),e},e.prototype.startTime=function(){return this._startTime},e.prototype.setStartTime=function(e){var t=this.wallTime();this._startTime=e,e>t&&(this._skew=e-t,this._reportTimeSkew("timekeeper set with future ts"))},e.prototype._reportTimeSkew=function(e){this._reported++<=2&&s.FsBugSnag.sendToBugsnag(e,"error",{skew:this._skew,startTime:this._startTime,wallTime:this.wallTime()})},e}();t.Timekeeper=_},function(e,t,n){"use strict";t.__esModule=!0;var r=n(14),i=n(2);t._mirrors={};var o=1;function s(e){var t=a(e);return!!t&&t.watchKind==r.WatchKind.Exclude}function a(e){return e?t._mirrors[e._fs]:null}function u(e){try{return e&&e._fs||0}catch(e){return 0}}function c(e,n){e.parent&&(n.unobserveSubtree(e.node),e.parent.child==e&&(e.parent.child=e.next),e.parent.lastChild==e&&(e.parent.lastChild=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent=e.prev=e.next=null,delete t._mirrors[e.id],e.node._fs==e.id&&(e.node._fs=0),e.id=0,e.child&&d(e.child))}function d(e){for(var n=[e];n.length>0&&n.length<1e4;){var r=n.pop();delete t._mirrors[r.id],r.node._fs==r.id&&(r.node._fs=0),r.id=0,r.next&&n.push(r.next),r.child&&n.push(r.child)}i.assert(n.length<1e4,"clearIds is fast")}t.tryTokenize=function(e){var t=o;try{return e(),!0}catch(e){return o=t,!1}},t.clearMirrors=function(){t._mirrors={},o=1},t.newMirror=function(e){var n={id:o++,node:e};return t._mirrors[n.id]=n,e._fs=n.id,n},t.isWatched=function(e){var t=a(e);return!!t&&void 0!==t.watchKind},t.isExcluded=s,t.isMasked=function(e){var t=a(e);return!!t&&!!t.mask},t.watchKind=function(e){var t=a(e);return t?t.watchKind:void 0},t.mirrorFor=a,t.fsid=u,t.fsidIfNotExcluded=function(e){return s(e)?0:u(e)},t.insertMirror=function(e,t,n,r){c(t,r),t.parent=e,t.next=n,n&&(t.prev=n.prev,n.prev=t),null==t.next?(t.prev=e.lastChild,e.lastChild=t):t.next.prev=t,null==t.prev?e.child=t:t.prev.next=t},t.removeMirror=c,t.clearIds=d},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};t.__esModule=!0;var i=n(46),o=n(13),s=n(12),a=n(6),u=n(0),c=n(2),d=n(28),h=r(n(48)),l="(redacted)";function f(e,t,n){switch(n.source){case"dom":switch(r=n.type){case"frame":case"iframe":return _(e,t);default:return p(e,t);}case"event":switch(r=n.type){case u.RawEventKind.AJAX_REQUEST:case u.RawEventKind.NAVIGATE:return p(e,t);case u.RawEventKind.SET_FRAME_BASE:return _(e,t);default:return i.assertExhaustive(r);}case"log":return _(e,t);case"page":var r;switch(r=n.type){case"base":return _(e,t);case"referrer":case"url":return p(e,t);default:return i.assertExhaustive(r);}case"perfEntry":switch(n.type){case"frame":case"iframe":case"navigation":return _(e,t);default:return p(e,t);}default:return i.assertExhaustive(n);}}function p(e,t){return v(e,t,function(e){if(!(e in y)){var t=["password","token","^jwt$"];switch("4K3FQ"!==e&&"NQ829"!==e&&t.push("^code$"),e){case"2FVM4":t.push("^e$","^eref$","^fn$");break;case"35500":t.push("share_token","password-reset-key");break;case"1HWDJ":t.push("email_id","invite","join");break;case"J82WF":t=[".*"];break;case"8MM83":t=["^creditCard"];break;case"PAN8Z":t.push("code","hash","ol","aeh");}y[e]=new RegExp(t.join("|"),"i")}return y[e]}(t))}function _(e,t){return v(e,t,m)}function g(e,t,n,r){var i=new RegExp("(\\/"+t+"\\/).*$","i");n==r&&e.pathname.indexOf(t)>=0&&(e.pathname=e.pathname.replace(i,"$1"+l))}function v(e,t,n){var r=s.parseUrl("",e);return r.hash.indexOf("access_token")>=0&&(r.hash="#"+l),g(r,"reset_password",t,"AGQFM"),g(r,"reset-password",t,"95NJ7"),r.search.length>0&&(r.search=function(e,t){return e.split("?").map(function(e){return function(e,t){return e.replace("?","").split("&").map(function(e){return e.split("=")}).map(function(e){var n=e[0],r=e[1],i=e.slice(2);return t.test(n)&&void 0!==r?[n,l].concat(i):[n,r].concat(i)}).map(function(e){var t=e[0],n=e[1],r=e.slice(2);return void 0===n?t:[t,n].concat(r).join("=")}).join("&")}(e,t)}).join("?")}(r.search,n)),r.href.substring(0,2048)}t.MaxTextSizeBytes=16e6,t.setMaxTextSizeBytes=function(e){t.MaxTextSizeBytes=e},t.scrubTextNode=function(e,n){var r=e.textContent;if(!r)return"";if(!n&&!(n=a.mirrorFor(e)))return"";var i=r.length;return i>t.MaxTextSizeBytes?(c.FsBugSnag.sendToBugsnag("Ignoring huge text node","warning",{length:i}),""):e.parentNode&&"style"==o.tagName(e.parentNode)?r:n.mask?d.maskText(r):r},t.scrubAttrName=function(e){return h["default"][e]||e.toLowerCase()},t.scrubAttrValue=function(e,t,n,r){var i=o.tagName(t);switch(i){case"frame":case"iframe":switch(n){case"src":r=f(r,e,{source:"dom",type:i});break;case"srcdoc":return null;}}if(a.isExcluded(t))switch(n){case"alt":case"checked":case"data":case"placeholder":case"src":case"srcset":case"href":case"title":case"value":return null;}else if(a.isMasked(t))switch(n){case"checked":case"data":return null;case"alt":case"placeholder":case"title":case"value":return d.maskText(r);}return r},t.scrubUrl=f;var y={};var m=new RegExp(".*","i")},function(e,t,n){"use strict";t.__esModule=!0;var r=navigator.userAgent;t.uaIsIE=r.indexOf("MSIE ")>-1||r.indexOf("Trident/")>-1,t.uaIsIE11=t.uaIsIE&&r.indexOf("rv:11")>-1,t.uaIsEdge=r.indexOf("Edge/")>-1,t.uaIsSafari=/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent),t.uaPrefixedPropety=function(e,t){for(var n=0===t.indexOf("on")?function(e){return"on"+e+t.slice(2)}:function(e){return""+e+t.charAt(0).toUpperCase()+t.slice(1)},r=0,i=[function(){return t},function(){return n("webkit")},function(){return n("moz")},function(){return n("ms")}];r<i.length;r++){var o=(0,i[r])();if(o in e)return o}return t}},function(e,t,n){"use strict";function r(e){return"function"==typeof e}t.__esModule=!0;var i=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,s=function(e,t){_[o]=e,_[o+1]=t,2===(o+=2)&&c()};var a=window.MutationObserver||window.WebKitMutationObserver,u="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof self&&void 0!==self.importScripts&&"undefined"!=typeof MessageChannel;var c,d,h,l,f,p,_=new Array(1e3);function g(){for(var e=0;e<o;e+=2){(0,_[e])(_[e+1]),_[e]=void 0,_[e+1]=void 0}o=0}function v(e,t){var n=arguments,r=this,i=new this.constructor(w);void 0===i[m]&&L(i);var o,a=r._state;return a?(o=n[a-1],s(function(){return D(a,i,o,r._result)})):O(r,i,e,t),i}function y(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(w);return k(t,e),t}a?(l=0,f=new a(g),p=document.createTextNode(""),f.observe(p,{characterData:!0}),c=function(){var e=l=++l%2;p.data=e+""}):u?((h=new MessageChannel).port1.onmessage=g,c=function(){return h.port2.postMessage(0)}):(d=setTimeout,c=function(){return d(g,1)});var m=Math.random().toString(36).substring(16);function w(){}var S=void 0,b=1,E=2,T=new F;function I(e){try{return e.then}catch(e){return T.error=e,T}}function R(e,t,n){t.constructor===e.constructor&&n===v&&t.constructor.resolve===y?function(e,t){t._state===b?x(e,t._result):t._state===E?A(e,t._result):O(t,void 0,function(t){return k(e,t)},function(t){return A(e,t)})}(e,t):n===T?(A(e,T.error),T.error=null):void 0===n?x(e,t):r(n)?function(e,t,n){s(function(e){var r=!1,i=function(e,t,n,r,i){try{e.call(t,n,r)}catch(e){return e}}(n,t,function(n){r||(r=!0,t!==n?k(e,n):x(e,n))},function(t){r||(r=!0,A(e,t))},e._label);!r&&i&&(r=!0,A(e,i))},e)}(e,t,n):x(e,t)}function k(e,t){var n;e===t?A(e,new TypeError("You cannot resolve a promise with itself")):"function"==typeof(n=t)||"object"==typeof n&&null!==n?R(e,t,I(t)):x(e,t)}function C(e){e._onerror&&e._onerror(e._result),M(e)}function x(e,t){e._state===S&&(e._result=t,e._state=b,0!==e._subscribers.length&&s(M,e))}function A(e,t){e._state===S&&(e._state=E,e._result=t,s(C,e))}function O(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+b]=n,i[o+E]=r,0===o&&e._state&&s(M,e)}function M(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,i,o=e._result,s=0;s<t.length;s+=3)r=t[s],i=t[s+n],r?D(n,r,i,o):i(o);e._subscribers.length=0}}function F(){this.error=null}var P=new F;function D(e,t,n,i){var o,s,a,u,c=r(n);if(c){if((o=function(e,t){try{return e(t)}catch(e){return P.error=e,P}}(n,i))===P?(u=!0,s=o.error,o.error=null):a=!0,t===o)return void A(t,new TypeError("A promises callback cannot return that same promise."))}else o=i,a=!0;t._state!==S||(c&&a?k(t,o):u?A(t,s):e===b?x(t,o):e===E&&A(t,o))}var N=0;function L(e){e[m]=N++,e._state=void 0,e._result=void 0,e._subscribers=[]}function U(e,t){this._instanceConstructor=e,this.promise=new e(w),this.promise[m]||L(this.promise),i(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&x(this.promise,this._result))):A(this.promise,new Error("Array Methods must be provided an Array"))}U.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===S&&n<e;n++)this._eachEntry(t[n],n)},U.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===y){var i=I(e);if(i===v&&e._state!==S)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===B){var o=new n(w);R(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},U.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===S&&(this._remaining--,e===E?A(r,n):this._result[t]=n),0===this._remaining&&x(r,this._result)},U.prototype._willSettleAt=function(e,t){var n=this;O(e,void 0,function(e){return n._settledAt(b,t,e)},function(e){return n._settledAt(E,t,e)})};var B=function(e){this[m]=N++,this._result=this._state=void 0,this._subscribers=[],w!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof B?function(e,t){try{t(function(t){k(e,t)},function(t){A(e,t)})}catch(t){A(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())};B.all=function(e){return new U(this,e).promise},B.race=function(e){var t=this;return i(e)?new t(function(n,r){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(n,r)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},B.resolve=y,B.reject=function(e){var t=new this(w);return A(t,e),t},B._setAsap=function(e){s=e},B._asap=s,B.prototype={constructor:B,then:v,"catch":function(e){return this.then(null,e)}},t.FSPromise="function"==typeof window.Promise?window.Promise:B},function(e,t,n){"use strict";t.__esModule=!0;var r=n(16),i=n(26);function o(e){return e._fs_ext_host||e._fs_host}function s(e){if(!e)return e;if(i.isLocalhost(i.domainFromHost(e)))return e;return 0==e.indexOf("www.")?"rs."+e.slice(4):0==e.indexOf("app.")?"rs."+e.slice(4):"rs."+e}function a(e){return e?i.isLocalhost(i.domainFromHost(e))?e:0==e.indexOf("www.")?"app."+e.slice(4):"app."+e:e}function u(e){return e?e+"/s/fs.js":void 0}t._fs_debug=function(e){return!!e._fs_ext_debug||!!e._fs_debug},t._fs_script=function(e){return e._fs_script||u(o(e))},t._fs_rec_host=function(e){return e._fs_rec_host||s(o(e))},t._fs_app_host=function(e){return e._fs_app_host||a(o(e))},t._fs_org=function(e){return e._fs_ext_org||e._fs_org},t._fs_csp=function(e){return e._fs_csp},t._fs_cookie_domain=function(e){return e._fs_cookie_domain},t._fs_ready=function(e){return e._fs_ready},t._fs_run_in_iframe=function(e){return!!e._fs_run_in_iframe},t._fs_is_outer_script=function(e){return!!e._fs_is_outer_script},t._fs_replay_flags=function(e){return e._fs_replay_flags},t._fs_transport=function(e){return e._fs_transport},t.set_fs_shutdown=function(e,t){e._fs_shutdown=t},t._fs_use_socket=function(e){return!!e._fs_use_socket},t.FS_q_drain=function(e){var t=r.getBrowserApi(e);if(!t)return[];var n=t.q;return n?(delete t.q,n):[]},t.FS_q_push=function(e,t){var n=r.getBrowserApi(e);if(n){var i=n.q;i||(i=n.q=[]),i.push(t)}},t.defaultGceHost=s,t.defaultAppHost=a,t.defaultScript=u},function(e,t,n){"use strict";t.__esModule=!0,t.now=function(){var e=Date.now();return"number"!=typeof e?new Date().getTime():e}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(23),i=new(function(){function e(){var e=r.theDummyDoc(),t=e.getElementById("urlresolver-base");t||((t=e.createElement("base")).id="urlresolver-base",e.head.appendChild(t));var n=e.getElementById("urlresolver-parser");n||((n=e.createElement("a")).id="urlresolver-parser",e.head.appendChild(n)),this.base=t,this.parser=n}return e.prototype.parseUrl=function(e,t){this.base.setAttribute("href",e),this.parser.setAttribute("href",t);var n=document.createElement("a");return n.href=this.parser.href,n},e.prototype.resolveUrl=function(e,t){return this.parseUrl(e,t).href},e.prototype.resolveToDocument=function(e,t){var n=o(e);return null==n?t:this.resolveUrl(n,t)},e}());function o(e){var t=e.document,n=e.location.href;if("string"==typeof t.baseURI)n=t.baseURI;else{var r=t.getElementsByTagName("base")[0];r&&r.href&&(n=r.href)}return"about:blank"==n&&e.parent!=e?o(e.parent):n}t.parseUrl=function(e,t){return i.parseUrl(e,t)},t.resolveUrl=function(e,t){return i.resolveUrl(e,t)},t.resolveUrlToDocument=function(e,t){return i.resolveToDocument(e,t)},t.baseUri=o},function(e,t,n){"use strict";t.__esModule=!0,t.tagName=function(e){var t=e;return t.tagName?"object"==typeof t.tagName?"form":t.tagName.toLowerCase():null}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(1),o=n(27),s=n(2),a=n(0);!function(e){e[e.Exclude=1]="Exclude",e[e.Mask=2]="Mask",e[e.Unmask=3]="Unmask",e[e.Watch=4]="Watch"}(r=t.WatchKind||(t.WatchKind={}));var u={1:"exclude",2:"mask",3:"unmask",4:"watch"},c=function(){function e(){this._hasWatched=!1,this._rules=Object.create?Object.create(null):{},this._rules[r.Exclude]=[],this._rules[r.Mask]=[],this._rules[r.Unmask]=[],this._rules[r.Watch]=[],this._consentRules=Object.create?Object.create(null):{},this._consentRules[r.Exclude]=[],this._consentRules[r.Mask]=[],this._consentRules[r.Unmask]=[],this._consentRules[r.Watch]=[]}return e.prototype.isWatched=function(e){this._hasWatched=!0;for(var t=[r.Exclude,r.Mask,r.Unmask,r.Watch],n=0,o=t;n<o.length;n++)for(var s=o[n],a=0,u=this._rules[s];a<u.length;a++){var c=u[a];if(i.matchesSelector(e,c))return s}if(!this._consent)for(var d=0,h=t;d<h.length;d++){s=h[d];for(var l=0,f=this._consentRules[s];l<f.length;l++){c=f[l];if(i.matchesSelector(e,c))return s}}return null},e.prototype.addElementBlock=function(e){var t=r.Exclude;switch(e.Type){case a.BlockType.Unset:case a.BlockType.Exclude:t=r.Exclude;break;case a.BlockType.Block:t=r.Mask;break;case a.BlockType.Record:t=r.Unmask;}return this.addRule(t,e.Consent,e.Selector)},e.prototype.addRule=function(e,t,n){if(this.tryToAddRule(e,t,n))return!0;switch(e){case r.Watch:case r.Unmask:break;case r.Mask:case r.Exclude:default:this._rules[e]=["*"];}return!1},e.prototype.tryToAddRule=function(e,t,n){try{return!(!n.match(o.WATCH_RULE_COMMENT)&&""!=i.trim(n))||this.mergeRule(e,t,n)}catch(e){return s.FsBugSnag.sendToBugsnag("Error adding block rule","error",{selector:n,error:e.toString()}),!1}},e.prototype.getConsent=function(){return this._consent},e.prototype.initializeConsent=function(e){void 0===this._consent&&this.setConsent(e)},e.prototype.setConsent=function(e){this._consent!==e&&(this._consent=e,this._hasWatched&&this.onConsentChange&&this.onConsentChange())},e.prototype.mergeRule=function(e,t,n){var o=t?this._consentRules:this._rules,a=document.documentElement||document.createElement("div");try{i.matchesSelector(a,n)}catch(t){return s.FsBugSnag.sendToBugsnag("Browser rejected rule","error",{kind:u[e],selector:n,error:t.toString()}),!1}switch(e){case r.Exclude:case r.Mask:case r.Unmask:case r.Watch:break;default:e=r.Exclude;}if(0==o[e].length)return o[e].push(n),!0;var c=o[e].length-1,d=o[e][c].concat(", ",n);try{i.matchesSelector(a,d)}catch(t){return o[e].push(n),s.FsBugSnag.sendToBugsnag("Browser rejected merged rule","warning",{kind:u[e],selector:n,error:t.toString()}),!0}return o[e][c]=d,!0},e.prototype.allConsentSensitiveElements=function(e){for(var t=[],n=r.Exclude;n<=r.Unmask;n++)for(var i=0,o=this._consentRules[n];i<o.length;i++)for(var s=o[i],a=e.querySelectorAll(s),u=0;u<a.length;u++)t.push(a[u]);return t},e}();t.Watcher=c},function(e,t,n){"use strict";t.__esModule=!0,t.Node_ELEMENT_NODE=1,t.Node_ATTRIBUTE_NODE=2,t.Node_TEXT_NODE=3,t.Node_CDATA_SECTION_NODE=4,t.Node_ENTITY_REFERENCE_NODE=5,t.Node_ENTITY_NODE=6,t.Node_PROCESSING_INSTRUCTION_NODE=7,t.Node_COMMENT_NODE=8,t.Node_DOCUMENT_NODE=9,t.Node_DOCUMENT_TYPE_NODE=10,t.Node_DOCUMENT_FRAGMENT_NODE=11,t.Node_NOTATION_NODE=12,t.XHR_UNSENT=0,t.XHR_OPENED=1,t.XHR_HEADERS_RECEIVED=2,t.XHR_LOADING=3,t.XHR_DONE=4,t.XHR_STATUS_ABORTED=0},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}t.__esModule=!0,r(n(38)),r(n(25))},function(e,t,n){"use strict";t.__esModule=!0,t.guard=function(e,t){return function(){try{return e.apply(this,arguments)}catch(e){try{t&&t(e)}catch(e){}}}},t.doNothing=function(){}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};t.__esModule=!0;var i=r(n(39)),o=n(1),s=n(40),a=n(3),u=n(41),c=n(10),d=n(16),h=n(30),l=n(62),f=n(14),p=n(0),_=n(5),g=n(2),v=n(64),y=n(20),m=n(9),w=n(4),S=n(7),b=n(6);function E(e,t){var n=b.fsid(e)+" ";return e.id&&(n+="#"+e.id),n+="[src="+S.scrubUrl(e.src,t,{source:"log",type:"debug"})+"]"}t.FS_REQUEST_FRAME_ID="RequestFrameId",t.FS_GREET_CHILD_FRAME="GreetFrame",t.FS_SET_FRAME_ID_CMD="SetFrameId",t.FS_IFRAME_EVENTS="EvtBundle",t.FS_SHUTDOWN_FRAME="ShutdownFrame",t.FS_RESTART_FRAME="RestartFrame",t.FS_SET_CONSENT="SetConsent",t.FS_INIT_MOBILE_CMD="InitFrameMobile",t.defaultInjector=function(e){var t=e.transport,n=e.frame,r=e.orgId,i=e.scheme,o=e.script,s=e.recHost,u=e.appHost,c=E(n,r);a.logIfDebug("Injecting into Frame "+c);try{if(function(e){return e.id==e.name&&I.test(e.id)}(n))return void a.logIfDebug("Blacklisted iframe: "+c);if(function(e){if(!e.contentDocument||!e.contentWindow||!e.contentWindow.location)return!0;return function(e){return!!e.src&&"about:blank"!=e.src&&e.src.indexOf("javascript:")<0}(e)&&e.src!=e.contentWindow.location.href&&"loading"==e.contentDocument.readyState}(n))return void a.logIfDebug("Frame not yet loaded: "+c);var h=n.contentWindow,l=n.contentDocument;if(!h||!l)return void a.logIfDebug("Missing contentWindow or contentDocument: "+c);if(!l.head)return void a.logIfDebug("Missing contentDocument.head: "+c);if(d.getBrowserApi(h))return void a.logIfDebug("FS already defined in Frame contentWindow: "+c+". Ignoring.");h._fs_org=r,h._fs_script=o,h._fs_rec_host=s,h._fs_app_host=u,h._fs_debug=a.isDebug(),h._fs_run_in_iframe=!0,t&&(h._fs_transport=t);var f=l.createElement("script");f.async=!0,f.crossOrigin="anonymous",f.src=i+"//"+o,"testdrive"==r&&(f.src+="?allowMoo=true"),l.head.appendChild(f)}catch(e){a.logIfDebug("iFrame no injecty. Probably not same origin.")}};var T,I=/^fb\d{18}$/;!function(e){e[e.NoInfoYet=1]="NoInfoYet",e[e.Enabled=2]="Enabled",e[e.Disabled=3]="Disabled"}(T=t.GetCurrentSessionEnabledState||(t.GetCurrentSessionEnabledState={}));var R=function(){function e(e,t,n,r){var i=this;this._ctx=e,this._transport=n,this._injector=r,this._bundleUploadInterval=p.Constants.DefaultBundleUploadInterval,this._iFrames=[],this._pendingChildFrameIdInits=[],this._listeners=new s.DomListeners,this._getCurrentSessionEnabled=T.NoInfoYet,this._resourceUploadingEnabled=!1,this._tickerTasks=[],this._watcher=new f.Watcher,this._queue=new l.EventQueue(e,this._transport,function(e){for(var t=i._eventWatcher.bundleEvents(e),n=void 0;n=i._tickerTasks.pop();)n();return t},t),this._eventWatcher=new u.EventWatcher(e,this._queue,this._watcher,this._listeners,function(e){i.onFrameCreated(e)},function(e){i.beforeFrameRemoved(e)},new v.ResourceUploader(e,this._queue,new y.HttpResourceProtocol(e))),this._consoleWatcher=new h.ConsoleWatcher(e,this._queue,this._listeners),this._scheme=e.options.scheme,this._script=e.options.script,this._recHost=e.options.recHost,this._appHost=e.options.appHost,this._orgId=e.options.orgId,this._wnd=e.window}return e.prototype.bundleUploadInterval=function(){return this._bundleUploadInterval},e.prototype.start=function(e,t){var n=this;this._onFullyStarted=t,"onpagehide"in this._wnd?this._listeners.add(this._wnd,"pagehide",!1,function(e){n.onUnload()}):this._listeners.add(this._wnd,"unload",!1,function(e){n.onUnload()}),this._listeners.add(this._wnd,"message",!1,function(e){if("string"==typeof e.data){var t=e.source;n.postMessageReceived(t,C(e.data))}});var r=this._wnd.Document?this._wnd.Document.prototype:this._wnd.document;this._docCloseHook=o.activateHook(r,"close"),this._docCloseHook&&this._docCloseHook.afterAsync(function(){n._listeners.refresh()})},e.prototype.queue=function(){return this._queue},e.prototype.eventWatcher=function(){return this._eventWatcher},e.prototype.console=function(){return this._consoleWatcher},e.prototype.onDomLoad=function(){this._eventWatcher.onDomLoad()},e.prototype.onLoad=function(){this._eventWatcher.onLoad()},e.prototype.shutdown=function(e){this._eventWatcher.shutdown(e),this._consoleWatcher.disable(),this._listeners&&this._listeners.clear(),this._docCloseHook&&this._docCloseHook.disable(),this.tellAllFramesTo([t.FS_SHUTDOWN_FRAME])},e.prototype.tellAllFramesTo=function(e){for(var t=0;t<this._iFrames.length;t++){var n=this._iFrames[t];n.contentWindow&&k(n.contentWindow,e)}},e.prototype.getCurrentSessionURL=function(e){var t=this._getCurrentSessionEnabled;if(t==T.NoInfoYet)return null;if(t==T.Disabled)return this._scheme+"//"+this._appHost+"/opt/upgrade";var n=this.getCurrentSession();return n?(e&&(n+=":"+this._ctx.time.wallTime()),this._scheme+"//"+this._appHost+"/ui/"+this._ctx.options.orgId+"/session/"+encodeURIComponent(n)):null},e.prototype.getCurrentSession=function(){var e=this._getCurrentSessionEnabled;return e==T.NoInfoYet||e==T.Disabled?null:this._userId?this._userId+":"+this._sessionId:null},e.prototype.setConsent=function(e){this._watcher.setConsent(e),this.tellAllFramesTo([t.FS_SET_CONSENT,e])},e.prototype.pageSignature=function(){return this._userId+":"+this._sessionId+":"+this._pageId},e.prototype.fireFsReady=function(e){void 0===e&&(e=!1);var t=c._fs_ready(this._wnd);if(t)try{e?t(!0):t()}catch(e){a.logIfDebug("exception in _fs_ready(): "+e)}},e.prototype.onUnload=function(){this._queue.addUnload(p.UnloadReason.Unload),_.Scheduler.stopAll()},e.prototype.handleResponse=function(e){this._pageRsp=e,this._userId=e.UserIntId,this._sessionId=e.SessionIntId,this._pageId=e.PageIntId,this._serverPageStart=e.PageStart,this._getCurrentSessionEnabled=e.GetCurrentSessionEnabled?T.Enabled:T.Disabled,"number"==typeof e.BundleUploadInterval&&(this._bundleUploadInterval=e.BundleUploadInterval),e.ResourceUploadingEnabled&&this.enableResourceUploading(),e.AjaxWatcherEnabled&&this.enableAjaxWatcher(),e.ConsoleWatcherEnabled&&this.enableConsoleWatcher(),e.AjaxWatcherEnabled&&e.AjaxWatches&&this._eventWatcher.ajaxWatcher().setWatches(e.AjaxWatches),this.addAllWatchRules(e.WhitelistElementsEnabled,e.ElementBlocks,e.ElementWatches),this._watcher.initializeConsent(!!e.Consented)},e.prototype.addAllWatchRules=function(e,t,n){for(var r=0,o=i["default"];r<o.length;r++){var s=o[r];this._watcher.addElementBlock(s)}if(e&&this._watcher.addElementBlock({Type:p.BlockType.Block,Consent:!1,Selector:"body"}),t)for(var a=0;a<t.length;++a)this._watcher.addElementBlock(t[a]);if(n)for(a=0;a<n.length;++a)this._watcher.addRule(f.WatchKind.Watch,!1,n[a].Selector)},e.prototype.fullyStarted=function(){this._onFullyStarted()},e.prototype.enableResourceUploading=function(){this._resourceUploadingEnabled=!0,this._eventWatcher.initResourceUploading()},e.prototype.enableAjaxWatcher=function(){this.eventWatcher().ajaxWatcher().enable()},e.prototype.enableConsoleWatcher=function(){this.console().enable()},e.prototype.flushPendingChildFrameInits=function(){if(this._pendingChildFrameIdInits.length>0){for(var e=0;e<this._pendingChildFrameIdInits.length;e++)this._pendingChildFrameIdInits[e]();this._pendingChildFrameIdInits=[]}},e.prototype.inject=function(e){var t=this,n={send:function(n,r,i){m.FSPromise.resolve().then(g.FsBugSnag.wrap(function(){t.postMessageReceived(e.contentWindow,[n,w.windex.jsonParse(r),i])}))}};this._injector({frame:e,transport:n,orgId:this._orgId,scheme:this._scheme,script:this._script,recHost:this._recHost,appHost:this._appHost})},e.prototype.onFrameCreated=function(e){var n=this;if(b.fsid(e)){this._iFrames.push(e);var r=function(e){var t=e.src,n=location.protocol+"//"+location.host;return!t||"about:blank"==t||o.hasPrefix(t,"javascript:")||o.hasPrefix(t,n)}(e),i=!1;if(e.contentWindow)try{i=!!d.getBrowserApi(e.contentWindow)}catch(e){i=!0}(!r||i)&&e.contentWindow&&e.contentWindow.postMessage?(a.logIfDebug("Cross-origin iframe "+E(e,this._orgId)),k(e.contentWindow,[t.FS_GREET_CHILD_FRAME])):r?(a.logIfDebug("Attempting to setup Frame "+E(e,this._orgId)),this.inject(e),e.addEventListener("load",g.FsBugSnag.wrap(function(t){try{n._tickerTasks.push(function(){a.logIfDebug("onload for frame "+E(e,n._orgId)),n.inject(e)})}catch(t){g.FsBugSnag.sendToBugsnag(t,"error")}}))):a.logIfDebug("Frame Doesn't need injecting. Probably cross domain "+E(e,this._orgId))}else a.logIfDebug("fsid missing or invalid for iFrame "+E(e,this._orgId))},e.prototype.beforeFrameRemoved=function(e){for(var t=0;t<this._iFrames.length;t++){if(e==this._iFrames[t])return void this._iFrames.splice(t,1)}},e.prototype.postMessageReceived=function(e,n){if(!e||e.parent==this._wnd)switch(n[0]){case t.FS_IFRAME_EVENTS:var r=n[1],i=this.pageSignature(),o=n[2];if(i!=o)return g.FsBugSnag.sendToBugsnag("Page signature mismatch","warning",{pageSignature:i,messageSignature:o}),void(e&&k(e,[t.FS_SHUTDOWN_FRAME]));r.length>0&&this._transport.enqueueEvents(i,r);break;case t.FS_REQUEST_FRAME_ID:if(!e)return void a.logIfDebug("No MessageEvent.source, iframe may have unloaded.");var s=this.iFrameWndToFsId(e);s?(a.logIfDebug("Responding to FID request for frame "+s),this.sendFrameIdToInnerFrame(e,s)):a.logIfDebug("No FrameId found. Hoping to send one later.");}},e.prototype.sendFrameIdToInnerFrame=function(e,n){var r=this,i=function(){var i=[];0!=r._frameId&&(i=r._parentIds?r._parentIds.concat(r._frameId):[r._frameId]);var o=r._ctx.time.startTime();k(e,[t.FS_SET_FRAME_ID_CMD,n,i,o,r._scheme,r._script,r._appHost,r._orgId,r._pageRsp])};null==this._frameId?this._pendingChildFrameIdInits.push(i):i()},e.prototype.iFrameWndToFsId=function(e){for(var t=0;t<this._iFrames.length;t++)if(this._iFrames[t].contentWindow==e)return b.fsid(this._iFrames[t]);return a.logIfDebug("Unable to locate frame for window"),NaN},e}();function k(e,t){e&&e.postMessage&&e.postMessage(o.stringify({__fs:t}),"*")}function C(e){try{var t=o.parseJson(e);if("__fs"in t)return t.__fs}catch(e){}return[]}t.AbstractRecorder=R,t.parsePostMessageData=C},function(e,t,n){"use strict";t.__esModule=!0},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),i=n(1),o=n(3),s=n(2),a=n(9),u=n(15),c=function(){function e(e){this._byteCount=0,this._scheme=e.options.scheme,this._recHost=e.options.recHost}return e.prototype.page=function(e,t,n){this.post("/rec/page",i.stringify(e),function(e){try{t(i.parseJson(e))}catch(e){n(0)}},n)},e.prototype.bundle=function(e){var t=i.stringify(e.bundle);this._byteCount+=t.length,o.logIfDebug("total bytes written: "+this._byteCount);var n=h(e.bundle.Seq,e);return this.post(n,t,function(t){try{e.win(i.parseJson(t))}catch(n){s.FsBugSnag.sendToBugsnag("Failed to JSON parse /rec/bundle response","error",{rsp:t,error:n.toString()}),e.lose(0)}},e.lose),this._byteCount},e.prototype.bundleBeacon=function(e){return f(this._scheme,this._recHost,e)},e.prototype.exponentialBackoffMs=function(e,t){var n=Math.min(r.Constants.BackoffMax,5e3*Math.pow(2,e));return t?n+.25*Math.random()*n:n},e.prototype.post=function(e,t,n,r){l(this._scheme,this._recHost,e,t,n,r)},e}();t.HttpProtocol=c;var d=function(){function e(e){this._scheme=e.options.scheme,this._recHost=e.options.recHost}return e.prototype.newResources=function(e,t){var n=this;return new a.FSPromise(function(r,o){l(n._scheme,n._recHost,"/rec/newResources?OrgId="+e,i.stringify(t),r,o)})},e.prototype.uploadResource=function(e){var t=this;return new a.FSPromise(function(n,r){l(t._scheme,t._recHost,"/rec/uploadResource",e,n,r)})},e}();function h(e,t){var n="/rec/bundle?OrgId="+t.orgId+"&UserId="+t.userId+"&SessionId="+t.sessionId+"&PageId="+t.pageId+"&Seq="+e;return null!=t.serverPageStart&&(n+="&PageStart="+t.serverPageStart),null!=t.serverBundleTime&&(n+="&PrevBundleTime="+t.serverBundleTime),null!=t.lastUserActivityTime&&(n+="&LastActivityTime="+t.lastUserActivityTime),null!=t.deltaT&&(n+="&DeltaT="+t.deltaT),n}function l(e,t,n,r,i,o){var a="//"+t+n,c=!1,d=new XMLHttpRequest;if("withCredentials"in d)d.onreadystatechange=function(){if(d.readyState==u.XHR_DONE){if(c)return;c=!0;try{200==d.status?i(d.responseText):o&&o(d.status)}catch(e){s.FsBugSnag.sendToBugsnag(e,"error")}}},d.open("POST",e+a,!0),d.withCredentials=!0,"function"!=typeof r.append&&d.setRequestHeader("Content-Type","text/plain"),d.send(r);else{var h=new XDomainRequest;h.onload=function(){i(h.responseText)},h.onerror=function(){o&&o("Not Found"==h.responseText?404:500)},h.onprogress=function(){},h.open("POST",a),h.send(r)}}function f(e,t,n){if("function"==typeof navigator.sendBeacon){var r=e+"//"+t+h(n.bundle.Seq,n)+"&SkipResponseBody=true",o=i.stringify(n.bundle);try{return navigator.sendBeacon(r,o)}catch(e){s.FsBugSnag.sendToBugsnag(e,"error",{url:r,data:o})}}return!1}t.HttpResourceProtocol=d,t.bundleUrl=h,t.bundleBeacon=f},function(e,t,n){"use strict";t.__esModule=!0;var r=n(3),i=n(11);t.BAD_APP_IDS=["","0","1","-1","true","false","n/a","nan","undefined","null","nil","the_id_that_you_use_in_your_app_for_this_user"];var o=["811c9dc5","350ca8af","340ca71c","14cd0a2b","4db211e5","0b069958","3613e041","2f8f13ba","9b61ad43","77074ba4","0da3f8ec","1c750511"],s=function(){return Math.floor(i.now()/1e3)};t.freshCookieExpirationTimeSeconds=function(){return s()+31536e3},t.parseIdentityCookie=function(e){if(!e)return null;var n=e.split("/"),i=n[0],a=n[1],u=parseInt(a),c=s(),d=t.freshCookieExpirationTimeSeconds();if(isNaN(u)&&(u=d),u<=c)return null;u>d&&(u=d);var h=i.split("`");if(h.length<3)return null;var l=h[0],f=h[1],p=h[2],_=h[3],g="";void 0!==_&&(g=decodeURIComponent(_),(t.BAD_APP_IDS.indexOf(g)>=0||o.indexOf(g)>=0)&&(r.logIfDebug("Ignoring invalid app key \""+g+"\" from cookie."),g=""));var v=p.split(":");return{expirationAbsTimeSeconds:u,host:l,orgId:f,userId:v[0],sessionId:v[1]||"",appKeyHash:g}},t.getCookies=function(e){for(var t={},n=e.cookie.split(";"),r=0;r<n.length;r++){var i=n[r].replace(/^\s+|\s+$/g,"").split("=");t[i[0]]||(t[i[0]]=i[1])}return t}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(4);function i(e){return e&&e.body&&e.documentElement?"BackCompat"==e.compatMode?[e.body.clientWidth,e.body.clientHeight]:[e.documentElement.clientWidth,e.documentElement.clientHeight]:[0,0]}t.getDocumentClientArea=i;var o=function(){function e(e,t){var n,r;this.hasKnownPosition=!1,this.pageLeft=0,this.pageTop=0,this.width=0,this.height=0,this.clientWidth=0,this.clientHeight=0;var o=e.document;if(o&&o.documentElement&&o.body){if("visualViewport"in e){var s=o.documentElement.getBoundingClientRect();this.hasKnownPosition=!0,this.pageLeft=0==s.left?0:-s.left,this.pageTop=0==s.top?0:-s.top}if(n=i(o),this.clientWidth=n[0],this.clientHeight=n[1],void 0!==t&&this.clientWidth==t.clientWidth&&this.clientHeight==t.clientHeight&&t.width>0&&t.height>0)return this.width=t.width,void(this.height=t.height);r=this.computeLayoutViewportSizeFromMediaQueries(e),this.width=r[0],this.height=r[1]}}return e.prototype.computeLayoutViewportSizeFromMediaQueries=function(e){var t=this.findMediaValue(e,"width",this.clientWidth,this.clientWidth+128);void 0===t&&(t=this.tryToGet(e,"innerWidth")),void 0===t&&(t=this.clientWidth);var n=this.findMediaValue(e,"height",this.clientHeight,this.clientHeight+128);return void 0===n&&(n=this.tryToGet(e,"innerHeight")),void 0===n&&(n=this.clientHeight),[t,n]},e.prototype.findMediaValue=function(e,t,n,i){if(r.windex.matchMedia){var o=r.windex.matchMedia(e,"(min-"+t+": "+n+"px)");if(null!=o){if(o.matches&&r.windex.matchMedia(e,"(max-"+t+": "+n+"px)").matches)return n;for(;n<=i;){var s=Math.floor((n+i)/2);if(r.windex.matchMedia(e,"(min-"+t+": "+s+"px)").matches){if(r.windex.matchMedia(e,"(max-"+t+": "+s+"px)").matches)return s;n=s+1}else i=s-1}}}},e.prototype.tryToGet=function(e,t){try{return e[t]}catch(e){return}},e}();function s(e,t){return new o(e,t)}t.getLayoutViewport=s;var a=function(e,t){this.offsetLeft=0,this.offsetTop=0,this.pageLeft=0,this.pageTop=0,this.width=0,this.height=0,this.scale=0;var n=e.document;if(n.body){var r="BackCompat"==n.compatMode;"pageXOffset"in e?(this.pageLeft=e.pageXOffset,this.pageTop=e.pageYOffset):n.scrollingElement?(this.pageLeft=n.scrollingElement.scrollLeft,this.pageTop=n.scrollingElement.scrollTop):r?(this.pageLeft=n.body.scrollLeft,this.pageTop=n.body.scrollTop):n.documentElement&&(n.documentElement.scrollLeft>0||n.documentElement.scrollTop>0)?(this.pageLeft=n.documentElement.scrollLeft,this.pageTop=n.documentElement.scrollTop):(this.pageLeft=n.body.scrollLeft||0,this.pageTop=n.body.scrollTop||0),this.offsetLeft=this.pageLeft-t.pageLeft,this.offsetTop=this.pageTop-t.pageTop;try{var i=e.innerWidth,o=e.innerHeight}catch(e){return}if(0!=i&&0!=o){this.scale=t.width/i,this.scale<1&&(this.scale=1);var s=t.width-t.clientWidth,a=t.height-t.clientHeight;this.width=i-s/this.scale,this.height=o-a/this.scale}}};t.getVisualViewport=function(e,t){return"visualViewport"in e?e.visualViewport:(void 0===t&&(t=s(e)),new a(e,t))}},function(e,t,n){"use strict";t.__esModule=!0;var r={};var i="__default";t.theDummyDoc=function(e){void 0===e&&(e=i);var t=r[e];return t||(t=function(){var e=document.implementation.createHTMLDocument("");return e.head||e.documentElement.appendChild(e.createElement("head")),e.body||e.documentElement.appendChild(e.createElement("body")),e}(),e!==i&&(t.open(),t.write(e),t.close()),r[e]=t),t}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var o=function(){function e(e){void 0===e&&(e=4),this.hashCount=e,this.idx=0,this.hashMask=e-1,this.reset()}return e.prototype.reset=function(){this.idx=0,this.hash=[];for(var e=0;e<this.hashCount;++e)this.hash.push(2166136261)},e.prototype.write=function(e){for(var t=this.hashMask,n=this.idx,r=0;r<e.length;r++)this.hash[n]=this.hash[n]^e[r],this.hash[n]+=(this.hash[n]<<1)+(this.hash[n]<<4)+(this.hash[n]<<7)+(this.hash[n]<<8)+(this.hash[n]<<24),n=n+1&t;this.idx=n},e.prototype.writeAscii=function(e){for(var t=this.hashMask,n=this.idx,r=0;r<e.length;r++)this.hash[n]=this.hash[n]^e.charCodeAt(r),this.hash[n]+=(this.hash[n]<<1)+(this.hash[n]<<4)+(this.hash[n]<<7)+(this.hash[n]<<8)+(this.hash[n]<<24),n=n+1&t;this.idx=n},e.prototype.sum=function(){return function(e){var t=e.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ").map(Number),n=String.fromCharCode.apply(window,t);if(window.btoa)return window.btoa(n);return u(n)}(this.sumAsHex()).replace(/\+/g,"-").replace(/\//g,"_")},e.prototype.sumAsHex=function(){for(var e="",t=0;t<this.hashCount;++t)e+=("00000000"+(this.hash[t]>>>0).toString(16)).slice(-8);return e},e}();t._FSNV=o,t.hashString32Blocking=function(e){var t=new o(1);return t.writeAscii(e),t.sumAsHex()};var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(Error);function u(e){for(var t=String(e),n=[],r=0,i=0,o=0,u=s;t.charAt(0|o)||(u="=",o%1);n.push(u.charAt(63&r>>8-o%1*8))){if((i=t.charCodeAt(o+=.75))>255)throw new a("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|i}return n.join("")}t._jsbtoa=u},function(e,t,n){"use strict";t.__esModule=!0;var r="_fs_loaded",i="_fs_namespace";function o(e){return e}t.getGlobalsOn=o;var s,a="FS";function u(e){return e[r]}t.getNamespace=function(e){if(s)return s;var t=u(e);return t?(s=t,t):(t=o(e)[i])?(s=t,t):s=a},t.isLoaded=u,t.setLoaded=function(e,t){e[r]=t,t in e||(e[t]={})}},function(e,t,n){"use strict";t.__esModule=!0,t.domainFromHost=function(e){var t=e,n=t.indexOf(":");return n>=0&&(t=t.slice(0,n)),t},t.isLocalhost=function(e){return"localhost"==e||"127.0.0.1"==e},t.isIP=function(e){return!!e.match(/^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$/g)}},function(e,t,n){"use strict";t.__esModule=!0;t.urlValueDelims=[["url\\(\\s*\"","\"\\s*\\)"],["url\\(\\s*'","'\\s*\\)"],["url\\(\\s*","\\s*\\)"]];var r=[["@import\\s+\"","\""],["@import\\s+'","'"]].concat(t.urlValueDelims),i=/(?:[^\\](?:\\\\)*)/.source;t.urlPattern=".*?"+i,t.CSS_URL=new RegExp(r.map(function(e){var n=e[0],r=e[1];return"("+n+")("+t.urlPattern+")("+r+")"}).join("|"),"g"),t.replaceCssUrls=function(e,n){return e.replace(t.CSS_URL,function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=t[0]||t[3]||t[6]||t[9]||t[12],o=t[1]||t[4]||t[7]||t[10]||t[13],s=t[2]||t[5]||t[8]||t[11]||t[14],a=t[15];return n(i,o,s,a)})},t.SIMPLE_CSS_URL=/url\(["']?(.+?)["']?\)/g,t.QUOTES=/\"|'/g,t.HOVER=/\:hover/g,t.FOCUS=/\:focus/g,t.FOCUS_WITHIN=/\:focus-within/g,t.MEDIA_QUERY=/(@media.*?{)/g,t.DOMAIN=/^[a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9]\.[a-zA-Z]{2,}$/,t.DOMAIN_PART=/^[a-zA-Z0-9-:]{1,61}$/,t.IPv4_PART=/^[0-9]{1,3}$/,t.IPv6_PART=/^[0-9a-f]{0,4}$/,t.PLAYBACK_URL_PARAMS=/.*\?Base=(.*)&Url=(.*)/,t.EMAIL=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,t.IMAGE_FILENAME=/\.(jpe?g|png|svg|gif|bmp)$/,t.WATCH_RULE_COMMENT=/^\s*\/\//,t.DATA_URI=/^data:([^;,]*)[;,]/i,t.SKETCHY_CONTENT_TYPES=/(application|script|text\/js|text\/html)/i,t.WHITELISTED_CONTENT_TYPES=/(^application\/octet-stream)|(^font\/)|(^application\/[a-z_.-]*font)/i,t.SKETCHY_URI_SCHEMES=/javascript:|file:/i},function(e,t,n){"use strict";t.__esModule=!0;var r=new RegExp("[^\\s]"),i=new RegExp("[\\s]*$"),o=" ",s="*",a="repeat"in String.prototype?function(e,t){return e.repeat(t)}:function(e,t){for(var n="",r=0;r<t;r++)n+=e;return n};function u(e){return"\uFFFF"===e[0]}t.wasMasked=u,t.maskText=function(e){var t=r.exec(e);if(!t)return e;for(var n=t.index,o=(t=i.exec(e))?e.length-t.index:0,s="\uFFFF",a=e.slice(n,e.length-o).split(/\r\n?|\n/g),u=0;u<a.length;u++)s+=""+a[u].length,u!=a.length-1&&(s+=":");return(n||o)&&(s+=" "+n+" "+o),s},t.renderMasked=function(e){if(!e||!u(e))return e;for(var t=e.slice(1).split(" "),n=t.length>=2?parseInt(t[1]):0,r=t.length>=3?parseInt(t[2]):0,i=a(o,n),c=t[0].split(":"),d=0;d<c.length;d++){for(var h=parseInt(c[d]),l=0;l<h;){var f=Math.min(4,h-l);i+=a(s,f),(l+=f)==h-1?(i+="*",l++):l<h&&(i+=" ",l++)}d<c.length-1&&(i+="\n")}return i+=a(o,r)}},function(e,t,n){"use strict";t.__esModule=!0,t.parseFieldPatterns=function(e){var t=0,n={id:t++,edges:{}};return e.split("\n").forEach(function(e){if(""!=(e=e.trim())){if(0==e.indexOf("/")||e.lastIndexOf("/")==e.length-1)throw new Error("Leading and trailing slashes are not supported");var r=n,i=e.split("/");i.forEach(function(e,n){if(""===(e=e.trim()))throw new Error("Empty elements are not allowed");if("**"!=e&&"*"!=e&&-1!=e.indexOf("*"))throw new Error("Embedded wildcards are not supported");var o=null;"**"==e?(r.loop=!0,o=r):e in r.edges&&(o=r.edges[e]),o||(o={id:t++,edges:{}},r.edges[e]=o),n==i.length-1&&(o.term=!0),r=o})}}),n}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};t.__esModule=!0;var i=n(0),o=n(1),s=n(61),a=n(13),u=n(8),c=n(4),d=n(6),h=function(){function e(e,t,n){this._queue=t,this._enabled=!1,this._overflow=!1,this._total=0,this._hooks=[],this._wnd=e.window,this._listeners=n.createChild();var r=e.options.orgId;this.maxLogsPerPage="P2C"==r||"ESHFX"==r||"6HFXR"==r||"GF6RM"==r?3e3:i.Constants.MaxLogsPerPage}return e.prototype._overflowMsg=function(){return"\"[received more than "+this.maxLogsPerPage+" messages]\""},e.prototype.enable=function(){var e=this;if(this._listeners.add(this._wnd,"error",!0,function(t){return e.addError(t)}),this._listeners.add(this._wnd,"unhandledrejection",!0,function(t){e.addLog("error",["Uncaught (in promise)",t.reason])},!0),!this._enabled)if(this._enabled=!0,this._queue.enqueue({Kind:i.RawEventKind.REC_FEAT_SUPPORTED,Args:[i.RecFeature.Console,!0]}),this._wnd.console)for(var t=function(t){var r=o.activateHook(n._wnd.console,t);if(!r)return"continue";r.before(function(n){var r=n.args;return e.addLog(t,r)}),n._hooks.push(r)},n=this,r=0,s=["log","info","warn","error"];r<s.length;r++){t(s[r])}else this.addLog("log",["NOTE: Log messages cannot be captured on IE9"])},e.prototype.isEnabled=function(){return this._enabled},e.prototype.disable=function(){var e;if(this._listeners&&this._listeners.clear(),this._enabled)for(this._enabled=!1;e=this._hooks.pop();)e.disable()},e.prototype.addLog=function(e,t){if(this.checkOverflow()){for(var n=[e],r=0;r<t.length;++r)n.push(l(t[r],1e3));this._queue.enqueue({Kind:i.RawEventKind.LOG,Args:n})}},e.prototype.addError=function(e){if(this.checkOverflow()){var t=e.message,n=e.filename,o=e.lineno;(t||n||o)&&("object"==typeof t&&(t=l(t,1e3)),"object"==typeof n&&(n=l(n,100)),"object"==typeof o&&(o=-1),this._queue.enqueue({Kind:i.RawEventKind.ERROR,Args:r([t,n,o],s.stackTraceFromError(e.error))}))}},e.prototype.checkOverflow=function(){return!this._overflow&&(this._total==this.maxLogsPerPage?(this._queue.enqueue({Kind:i.RawEventKind.LOG,Args:["warn",this._overflowMsg()]}),this._overflow=!0,!1):(this._total++,!0))},e}();function l(e,t){try{var n={tokens:[],opath:[],cyclic:f(e,t/4)};return function e(t,n,r,i){if(n<1)return 0;var s=t&&t.constructor==Date?p(t):function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&e.nodeType>0&&"string"==typeof e.nodeName}(t)?function(e){if(!d.fsidIfNotExcluded(e))return e.toString();if(e.tagName){var t=a.tagName(e),n=u.uaIsEdge&&"output"==t?{}:e.attributes;return"<"+t+(n&&n.type?" type=\""+n.type.value+"\"":"")+(e.id?" id=\""+e.id+"\"":"")+(e.className?" class=\""+e.className+"\"":"")+">"+(e.firstChild?"...":"")+"</"+t+">"}var r="";return e.data&&e.data.substring&&(r=" "+e.data.substring(0,50)+(e.data.length>50?"...":"")),e.nodeName+r}(t):void 0===t?"undefined":"object"!=typeof t||null==t?t:t instanceof Error?t.stack||t.name+": "+t.message:void 0;if(void 0!==s)return void 0===(s=c.windex.jsonStringify(s))?0:("\""==s[0]&&(s=_(s,n,"...\"")),s.length<=n?(i.tokens.push(s),s.length):0);if(i.cyclic){i.opath.splice(r);var h=i.opath.lastIndexOf(t);if(h>-1){var l="<Cycle to ancestor #"+(r-h-1)+">";return l="\""+_(l,n-2)+"\"",i.tokens.push(l),l.length}i.opath.push(t)}var f=n,g=function(e){return f>=e.length&&(f-=e.length,i.tokens.push(e),!0)},v=function(e){","==i.tokens[i.tokens.length-1]?i.tokens[i.tokens.length-1]=e:g(e)};if(f<2)return 0;if(o.isArray(t)){g("[");for(var y=0;y<t.length&&f>0;y++){var m=e(t[y],f-1,r+1,i);if(f-=m,0==m&&!g("null"))break;g(",")}v("]")}else{g("{");var w=o.keys(t);for(y=0;y<w.length&&f>0;y++){var S=w[y],b=t[S];if(!g("\""+S+"\":"))break;if(0==(m=e(b,f-1,r+1,i))){i.tokens.pop();break}f-=m,g(",")}v("}")}return n==1/0?1:n-f}(e,t,0,n),n.tokens.join("")}catch(e){return o.jsonErrorString(e)}}function f(e,t){var n=0;try{c.windex.jsonStringify(e,function(e,r){if(n++>t)throw"break";if("object"==typeof r)return r})}catch(e){return"break"!=e}return!1}t.ConsoleWatcher=h,t.stringifyLogMessage=l;var p=function(e){return isNaN(e)?"Invalid Date":e.toUTCString()},_=function(e,t,n){return void 0===n&&(n="..."),e.length<=t?e:e.length<=n.length||t<=n.length?e.substring(0,t):e.substring(0,t-n.length)+n}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(9),i=n(17),o=n(4);t.createFSPromise=function(){var e,t;return{promise:new r.FSPromise(function(n,r){e=n,t=r}),resolve:e,reject:t}},t.wait=function(e){return new r.FSPromise(function(t){o.windex.setWindowTimeout(window,i.guard(t),e)})}},function(e,t,n){"use strict";t.__esModule=!0,t.isErrorFatal=function(e){return e>=400||202==e||206==e}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(26),i=n(21),o=n(10),s=n(0),a=n(24),u=n(11);t.HighlightTypeFsId="fsidentity",t.HighlightTypeNewUid="newuid",t.UID_COOKIE="fs_uid";var c=function(){function e(e){void 0===e&&(e=document),this._doc=e,this._cookies={}}return e.prototype.initFromCookies=function(e,n){this._cookies=i.getCookies(this._doc);var r=this._cookies[t.UID_COOKIE];if(!r)try{r=localStorage[s.UidLocalStorageKey]}catch(e){}var o=i.parseIdentityCookie(r);o&&o.host.replace(/^www\./,"")==e.replace(/^www\./,"")&&o.orgId==n?this._cookie=o:this._cookie={expirationAbsTimeSeconds:i.freshCookieExpirationTimeSeconds(),host:e,orgId:n,userId:"",sessionId:"",appKeyHash:""}},e.prototype.initFromParsedCookie=function(e){this._cookie=e},e.prototype.clear=function(){this._cookie.userId=this._cookie.sessionId=this._cookie.appKeyHash="",this._cookie.expirationAbsTimeSeconds=i.freshCookieExpirationTimeSeconds(),this._write()},e.prototype.host=function(){return this._cookie.host},e.prototype.orgId=function(){return this._cookie.orgId},e.prototype.userId=function(){return this._cookie.userId},e.prototype.sessionId=function(){return this._cookie.sessionId},e.prototype.appKeyHash=function(){return this._cookie.appKeyHash},e.prototype.cookieData=function(){return this._cookie},e.prototype.cookies=function(){return this._cookies},e.prototype.setCookie=function(e,t,n){void 0===n&&(n=new Date(u.now()+6048e5).toUTCString());var r=e+"="+t;this._domain?r+="; domain=."+encodeURIComponent(this._domain):r+="; domain=",r+="; Expires="+n+"; path=/; SameSite=Strict","https:"===location.protocol&&(r+="; Secure"),this._doc.cookie=r},e.prototype.setIds=function(e,t,n,i){(r.isLocalhost(t)||r.isIP(t))&&(t="");var s=o._fs_cookie_domain(e);"string"==typeof s&&(t=s),this._domain=t,this._cookie.userId=n,this._cookie.sessionId=i,this._write()},e.prototype.clearAppId=function(){return!!this._cookie.appKeyHash&&(this._cookie.appKeyHash="",this._write(),!0)},e.prototype.setAppId=function(e){this._cookie.appKeyHash=a.hashString32Blocking(e),this._write()},e.prototype.encode=function(){var e=this._cookie.host+"`"+this._cookie.orgId+"`"+this._cookie.userId+":"+this._cookie.sessionId;return this._cookie.appKeyHash&&(e+="`"+encodeURIComponent(this._cookie.appKeyHash)+"`"),e+="/"+this._cookie.expirationAbsTimeSeconds},e.prototype._write=function(){if(null!=this._domain){var e=this.encode(),n=new Date(1e3*this._cookie.expirationAbsTimeSeconds).toUTCString();this.setCookie(t.UID_COOKIE,e,n);try{localStorage[s.UidLocalStorageKey]=e}catch(e){}}},e}();t.Identity=c},function(e,t,n){"use strict";t.__esModule=!0,n(35).main()},function(e,t,n){"use strict";t.__esModule=!0,n(36);var r=n(37),i=n(2),o=n(10);t.main=function(){try{new r.Conductor().init()}catch(e){i.FsBugSnag.sendToBugsnag(e,"error"),o._fs_debug(window)&&window.console&&console.log&&console.log("Failed to initialize FullStory.")}}},function(e,t,n){"use strict";t.__esModule=!0},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r["throw"](e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};t.__esModule=!0;var o=n(2),s=n(18),a=n(66),u=n(69),c=n(33),d=n(71),h=n(16),l=n(4),f=n(1),p=n(3),_=n(10),g=n(5),v=n(0),y=n(22),m=n(12),w=n(9),S=n(31),b=n(20),E=n(72),T=n(7),I=n(73),R=function(){function e(){}return e.prototype.createTopRecorder=function(e){var t=_._fs_use_socket(e.window)&&E.SockProtocol.isSupported()?new E.SockProtocol(e):new b.HttpProtocol(e);return new a.TopRecorder(e,t)},e.prototype.createInnerRecorder=function(e){return new u.InnerRecorder(e)},e}();t.DefaultRecorderMaker=R;var k=function(){function e(e,t){void 0===e&&(e=window),void 0===t&&(t=new R),this.wnd=e,this.recMaker=t,this.scheme="https:",this.domDoneLoaded=!1,this.waitingOnStart=!1,this.reidentifyCount=0}return e.prototype.init=function(){h.isLoaded(this.wnd)||(h.setLoaded(this.wnd,h.getNamespace(this.wnd)),l.initWindex(this.wnd),this.initApi(),this.start())},e.prototype.getCurrentSessionURL=function(e){return this.recorder?this.recorder.getCurrentSessionURL(e):null},e.prototype.getCurrentSession=function(){return this.recorder?this.recorder.getCurrentSession():null},e.prototype.enableConsole=function(){this.recorder&&this.recorder.console().enable()},e.prototype.disableConsole=function(){this.recorder&&this.recorder.console().disable()},e.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.recorder&&("log"!==e&&"info"!==e&&"warn"!==e&&"error"!==e&&"debug"!==e&&"_fs_debug"!==e&&(t.unshift(e),e="log"),this.recorder.console().addLog(e,t))},e.prototype.shutdownApi=function(){this.shutdown(v.UnloadReason.Api)},e.prototype.shutdown=function(e){this.recorder&&!this.deferredStart?(this.recorder.shutdown(e),this.recorder=null):p.logIfDebug("Recording already shut down.")},e.prototype.restart=function(){if(this.deferredStart)return this.deferredStart(),void(this.deferredStart=null);this.recorder?p.logIfDebug("Recording already started."):this.recorder=this.createRecorder(!0)},e.prototype.splitPage=function(e,t){return r(this,void 0,w.FSPromise,function(){return i(this,function(n){switch(n.label){case 0:return t&&null==this.identity?(p.logIfDebug("Can't re-identify from an iframe"),[2]):this.waitingOnStart?(this.splitPending=[e,t],[2]):(this.shutdown(e),[4,S.wait(0)]);case 1:return n.sent(),[4,S.wait(0)];case 2:return n.sent(),t&&this.identity&&this.identity.clear(),this.restart(),[2];}})})},e.prototype._api=function(e,t,n){if(this.inFrame())p.logIfDebug("API calls may only be made from the top-most frame");else if(this.recorder){var r=this.vars.api(e,t,n),i=r.events,o=r.reidentify,s=r.consent;if(o){if(this.reidentifyCount<8)return this.reidentifyCount++,_.FS_q_push(this.wnd,[e,t]),void this.splitPage(v.UnloadReason.Reidentify,!0);p.logIfDebug("reidentified too many times; giving up")}void 0!==s&&this.recorder.setConsent(s);for(var a=0,u=i;a<u.length;a++){var c=u[a];this.recorder.queue().enqueue(c)}}else _.FS_q_push(this.wnd,[e,t])},e.prototype._cookies=function(){return this.identity?this.identity.cookies():(p.logIfDebug("Error in FS integration: Can't get cookies from inside an iframe"),null)},e.prototype._setCookie=function(e,t){this.identity?this.identity.setCookie(e,t):p.logIfDebug("Error in FS integration: Can't set cookies from inside an iframe")},e.prototype._withEventQueue=function(e,t){if(this.recorder){var n=this.recorder.queue(),r=this.recorder.pageSignature();null!=n&&null!=r?e===r?t(n):o.FsBugSnag.sendToBugsnag("Error in _withEventQueue: Page Signature mismatch","error",{pageSignature:r,callerSignature:e}):p.logIfDebug("Error getting event queue or page signature: Recorder not initialized")}else p.logIfDebug("Error in FS integration: Recorder not initialized")},e.prototype.initApi=function(){var e=h.getBrowserApi(this.wnd);e?(e.getCurrentSessionURL=f.$entry(this.getCurrentSessionURL,this),e.getCurrentSession=f.$entry(this.getCurrentSession,this),e.enableConsole=f.$entry(this.enableConsole,this),e.disableConsole=f.$entry(this.disableConsole,this),e.log=f.$entry(this.log,this),e.shutdown=f.$entry(this.shutdownApi,this),e.restart=f.$entry(this.restart,this),e._api=f.$entry(this._api,this),e._cookies=f.$entry(this._cookies,this),e._setCookie=f.$entry(this._setCookie,this),e._withEventQueue=f.$entry(this._withEventQueue,this)):p.logIfDebug("Missing browser API namespace; couldn't initialize API.")},e.prototype.start=function(){var e=this;p.initDebug(_._fs_debug(this.wnd)),p.logIfDebug("script version UNSET (compiled at 1575988695)");var t=_._fs_org(this.wnd);if(t){this.orgId=t;var n=_._fs_script(this.wnd);if(n){this.script=n;var r=_._fs_rec_host(this.wnd);if(r){this.recHost=r;var i=_._fs_app_host(this.wnd);i?(this.appHost=i,p.logIfDebug("script: "+this.script),p.logIfDebug("recording host: "+this.recHost),p.logIfDebug("orgid: "+this.orgId),"localhost:8080"==this.recHost&&(this.scheme="http:"),this.inFrame()||(this.identity=new c.Identity(this.wnd.document),this.vars=new d.Vars(this.identity),this.identity.initFromCookies(this.recHost,this.orgId)),this.canRecord(this.orgId)?(this.recorder=this.createRecorder(),this.recorder.eventWatcher().watchEvents(),this.hookLoadEvents(),this.wnd.addEventListener("message",o.FsBugSnag.wrap(function(t){if("string"==typeof t.data&&(t.source==e.wnd.parent||t.source==e.wnd))switch(s.parsePostMessageData(t.data)[0]){case s.FS_SHUTDOWN_FRAME:e.shutdown(v.UnloadReason.FsShutdownFrame);break;case s.FS_RESTART_FRAME:e.restart();}}))):this.hailMary()):p.logIfDebug("Missing global _fs_host or _fs_app_host. Recording disabled.")}else p.logIfDebug("Missing global _fs_host or _fs_rec_host. Recording disabled.")}else p.logIfDebug("Missing global _fs_host or _fs_rec_host. Recording disabled.")}else p.logIfDebug("Missing global _fs_org. Recording disabled.")},e.prototype._context=function(e){var t=this;return{window:this.wnd,time:new g.Timekeeper,measurer:I.MeasureScheduler.create(this.wnd),options:{orgId:this.orgId,scheme:this.scheme,script:this.script,recHost:this.recHost,appHost:this.appHost},recording:{bundleUploadInterval:function(){return e().bundleUploadInterval()},inFrame:this.inFrame(),vars:this.vars,identity:this.identity,splitPage:function(e,n){return t.splitPage(e,n)},pageSignature:function(){return e().pageSignature()}}}},e.prototype.createRecorder=function(e){var t,n=this,r=this._context(function(){return t});if(this.inFrame())t=this.recMaker.createInnerRecorder(r);else{t=this.recMaker.createTopRecorder(r);for(var i=this.drainApiQueue(_.FS_q_drain(this.wnd)),o=i.events,a=i.reidentify,u=i.appId,c=i.defer,d=i.consent,h=0,l=o;h<l.length;h++){var f=l[h];t.queue().enqueue(f)}void 0!==d&&t.setConsent(d)}this.waitingOnStart=!0;var p=function(){t.start(!!a,function(){n.waitingOnStart=!1,e&&t.tellAllFramesTo([s.FS_RESTART_FRAME]),n.splitPending&&(n.splitPage(n.splitPending[0],n.splitPending[1]),n.splitPending=null)},u),e&&t.eventWatcher().watchEvents()};return c?this.deferredStart=p:p(),t},e.prototype.drainApiQueue=function(e){if(!e)return{events:[]};for(var t,n,r,i,o=[],s=0,a=e;s<a.length;s++){var u=a[s],c=u.length>2?u[2]:null;"user"==u[0]&&u[1]&&u[1].uid&&(t=d.transformValidateAppId(u[1].uid)[0]);var h=this.vars.api(u[0],u[1],c),l=h.events,f=h.reidentify,p=h.recStatus,_=h.consent;p&&(i="shutdown"===p),f&&(o=[],n=!0),void 0!==_&&(r=_),o.push.apply(o,l)}return{events:o,reidentify:n,consent:r,appId:t,defer:i}},e.prototype.inFrame=function(){if("boolean"==typeof this._inFrame)return this._inFrame;var e=_._fs_transport(this.wnd);return _._fs_is_outer_script(this.wnd)?this._inFrame=!1:this.wnd!=top?this._inFrame=!0:e?e.init&&e.init(this.orgId)&&(this._inFrame=!0):this._inFrame=!1,this._inFrame},e.prototype.canRecord=function(e){return(this.wnd.MutationObserver||this.wnd.MutationEvent)&&this.wnd.postMessage&&f._native_matchesSelector?!!function e(t){if(t==top||_._fs_is_outer_script(t)||_._fs_run_in_iframe(t)||_._fs_transport(t))return!0;try{return t.parent.document,e(t.parent)}catch(e){return!1}}(this.wnd)||(p.logIfDebug("FullStory recording for this page is NOT allowed within an iFrame."),!1):(p.logIfDebug("missing required browser features"),!1)},e.prototype.hailMary=function(){var e=this;if(this.identity){var t=_._fs_replay_flags(this.wnd);p.logIfDebug("Unable to record playback stream.");var n=document.createElement("script");this.wnd.__fs_startResponse=function(t){t&&e.identity.setIds(e.wnd,t.CookieDomain,t.UserIntId,t.SessionIntId),document.head&&document.head.removeChild(n)};var r=y.getDocumentClientArea(this.wnd.document),i=r[0],o=r[1],s=f.tryGetScreenDims(this.wnd),a=s[0],u=s[1],c=T.scrubUrl(m.baseUri(this.wnd),this.orgId,{source:"page",type:"base"}),d=T.scrubUrl(document.referrer,this.orgId,{source:"page",type:"referrer"}),h=T.scrubUrl(this.wnd.location.href,this.orgId,{source:"page",type:"url"});n.src="//"+this.recHost+"/rec/page?OrgId="+this.orgId+"&UserId="+this.identity.userId()+"&Url="+encodeURIComponent(h)+"&Base="+encodeURIComponent(c)+"&Width="+i+"&Height="+o+"&ScreenWidth="+a+"&ScreenHeight="+u+"&Referrer="+encodeURIComponent(d)+"&Doctype="+encodeURIComponent(f.doctypeString(document))+"&CompiledTimestamp=1575988695&Fallback=true"+(t?"&ReplayFlags="+t:""),document.head&&document.head.appendChild(n)}},e.prototype.hookLoadEvents=function(){var e=this,t=function(){e.domDoneLoaded||(e.domDoneLoaded=!0,e.recorder&&e.recorder.onDomLoad())},n=!1,r=function(){n||(n=!0,e.recorder&&e.recorder.onLoad())};switch(document.readyState){case"interactive":document.attachEvent||t();break;case"complete":t(),r();}this.domDoneLoaded||document.addEventListener("DOMContentLoaded",o.FsBugSnag.wrap(t)),n||this.wnd.addEventListener("load",o.FsBugSnag.wrap(function(e){t(),r()}))},e}();t.Conductor=k},function(e,t,n){"use strict";t.__esModule=!0;var r=n(25);t.getBrowserApi=function(e){return e[r.getNamespace(e)]},t.getGlobalsOnNS=function(e,t){return r.getGlobalsOn(t)}},function(e){e.exports=[{Selector:"object:not([type^=\"image/\"])",Consent:!1,Type:1},{Selector:"embed:not([type^=\"image/\"])",Consent:!1,Type:1},{Selector:"canvas",Consent:!1,Type:1},{Selector:"noscript",Consent:!1,Type:1},{Selector:".fs-hide",Consent:!1,Type:1},{Selector:".fs-exclude",Consent:!1,Type:1},{Selector:".fs-exclude-without-consent",Consent:!0,Type:1},{Selector:".fs-mask",Consent:!1,Type:2},{Selector:".fs-mask-without-consent",Consent:!0,Type:2},{Selector:".fs-unmask",Consent:!1,Type:3},{Selector:".fs-unmask-with-consent",Consent:!0,Type:3},{Selector:".fs-block",Consent:!1,Type:1},{Selector:".fs-record-with-consent",Consent:!0,Type:1}]},function(e,t,n){"use strict";t.__esModule=!0;var r=n(3),i=n(2),o=n(17);function s(e,t,n,i){void 0!==n&&("function"==typeof e.addEventListener?e.addEventListener(t,n,i):"function"==typeof e.addListener?e.addListener(n):r.logIfDebug("Target of "+t+" doesn't seem to support listeners"))}function a(e,t,n,i){void 0!==n&&("function"==typeof e.removeEventListener?e.removeEventListener(t,n,i):"function"==typeof e.removeListener?e.removeListener(n):r.logIfDebug("Target of "+t+" doesn't seem to support listeners"))}t._trustEventOverride="_fs_trust_event";var u=function(){function e(){var e=this;this._listeners=[],this._children=[],this._yesCapture=!0,this._noCapture=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e._yesCapture={capture:!0,passive:!0},e._noCapture={capture:!1,passive:!0}}});window.addEventListener("test",o.doNothing,t)}catch(e){}}return e.prototype.add=function(e,t,n,r,i){return void 0===i&&(i=!1),this.addCustom(e,t,n,r,i)},e.prototype.addCustom=function(e,n,r,o,a){void 0===a&&(a=!1);var u={target:e,type:n,fn:i.FsBugSnag.wrap(function(e){(a||!1!==e.isTrusted||"message"==n||e[t._trustEventOverride])&&o(e)}),options:r?this._yesCapture:this._noCapture,index:this._listeners.length};return this._listeners.push(u),s(e,n,u.fn,u.options),u},e.prototype.remove=function(e){e.target&&(a(e.target,e.type,e.fn,e.options),e.target=null,e.fn=void 0)},e.prototype.clear=function(){for(var e=0;e<this._listeners.length;e++)this._listeners[e].target&&this.remove(this._listeners[e]);this._listeners=[]},e.prototype.createChild=function(){var t=new e;return this._children.push(t),t},e.prototype.refresh=function(){for(var e=0,t=this._listeners;e<t.length;e++){var n=t[e];n.target&&(a(n.target,n.type,n.fn,n.options),s(n.target,n.type,n.fn,n.options))}for(var r=0,i=this._children;r<i.length;r++){i[r].refresh()}},e}();t.DomListeners=u},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};t.__esModule=!0;var i=n(42),o=n(27),s=n(22),a=n(43),u=n(44),c=n(54),d=n(55),h=n(57),l=r(n(60)),f=n(1),p=n(0),_=n(5),g=n(13),v=n(8),y=n(4),m=n(7),w=n(6),S=n(15),b=n(28),E=n(2),T=function(){function e(e,t,n,r,i,o,s){var f=this;this._ctx=e,this._queue=t,this._onFrameCreated=i,this._beforeFrameRemoved=o,this._resourceUploader=s,this._curSelection=[],this._scrollTimeouts={},this._uploadResources=!1,this._initialized=!1,this._wnd=e.window,this._doc=this._wnd.document,this._loc=this._wnd.location,this._hst=this._wnd.history,this._listeners=r.createChild(),this._currentUrl=this._loc.href,this._inputWatcher=new a.InputWatcher(function(e){f.addChangeElem(e)},function(e){return!!w.fsid(e)}),this._ajaxWatcher=new d.AjaxWatcher(e,t),this._perfWatcher=new c.PerfWatcher(e,t,this._listeners),this._styleSheetWatcher=new h.StyleSheetWatcher(e,t),this._fullscreenWatcher=new l["default"](e,t,this._listeners),this._mutWatcher=new u.MutationWatcher(e,n,!0,function(e,t,n){f.visitNode(e,t,n)},function(e){var t=e.node;if("iframe"==g.tagName(e.node))f._beforeFrameRemoved(e.node);else if("function"==typeof t.getElementsByTagName)for(var n=t.getElementsByTagName("iframe"),r=0;r<n.length;r++){var i=n[r];f._beforeFrameRemoved(i)}},function(e,t,n){if(!w.isExcluded(e)&&f._uploadResources)for(var r=0,i=k(e,t,n);r<i.length;r++){var o=i[r];f._resourceUploader.uploadIfNeeded(f._wnd,o)}})}return e.prototype.watchEvents=function(){var e=this;this._mutWatcher.hookMutations(),this._inputWatcher.hookEvents(),this._styleSheetWatcher.start(),this._perfWatcher.start(this._resourceUploader),this._fullscreenWatcher.start(),this._listeners.add(this._wnd,"mousemove",!0,function(t){e.isPrivacyClear(t)&&e.addMouseMove(t)}),this._listeners.add(this._wnd,"mousedown",!0,function(t){e.isPrivacyClear(t)&&e.addMouseDown(t)}),this._listeners.add(this._wnd,"mouseup",!0,function(t){e.isPrivacyClear(t)&&e.addMouseUp(t)}),this._listeners.add(this._wnd,"keydown",!0,function(t){e.addKeyDown(t)}),this._listeners.add(this._wnd,"keyup",!0,function(t){e.addKeyUp(t)}),this._listeners.add(this._wnd,"click",!0,function(t){e.addClick(t)}),this._listeners.add(this._wnd,"dblclick",!0,function(t){e.addDblClick(t)}),this._listeners.add(this._wnd,"focus",!0,function(t){e.addFocus(t)}),this._listeners.add(this._wnd,"blur",!0,function(t){e.addBlur(t)}),this._listeners.add(this._wnd,"change",!0,function(t){e.addChange(t)},!0),this._listeners.add(this._wnd,"touchstart",!0,function(t){e.isPrivacyClear(t)&&(e.addTouchEvent(t,p.RawEventKind.TOUCHSTART),e.addWindowScrollOrResize())}),this._listeners.add(this._wnd,"touchend",!0,function(t){e.isPrivacyClear(t)&&(e.addTouchEvent(t,p.RawEventKind.TOUCHEND),e.addWindowScrollOrResize())}),this._listeners.add(this._wnd,"touchmove",!0,function(t){e.isPrivacyClear(t)&&(e.addTouchEvent(t,p.RawEventKind.TOUCHMOVE),e.addWindowScrollOrResize())}),this._listeners.add(this._wnd,"touchcancel",!0,function(t){e.isPrivacyClear(t)&&e.addTouchEvent(t,p.RawEventKind.TOUCHCANCEL)}),this._listeners.add(this._wnd,"play",!0,function(t){e.addPlayEvent(t)}),this._listeners.add(this._wnd,"pause",!0,function(t){e.addPauseEvent(t)}),this._listeners.add(this._wnd,"scroll",!1,function(t){e.addWindowScrollOrResize()}),this._listeners.add(this._wnd,"resize",!1,function(t){e.addWindowScrollOrResize()}),this._listeners.add(this._wnd,"submit",!1,function(t){e.addFormSubmit(t)}),this._listeners.add(this._wnd,"focus",!1,function(t){e.addWindowFocus(t)}),this._listeners.add(this._wnd,"blur",!1,function(t){e.addWindowBlur(t)}),this._listeners.add(this._wnd,"popstate",!1,function(){e.addNavigate()}),this._listeners.add(this._wnd,"selectstart",!0,function(t){e.addSelection()}),this._listeners.add(this._doc,"selectionchange",!0,function(t){e.addSelection()});var t=this._wnd.visualViewport;if(t?(this._listeners.add(t,"scroll",!0,function(){return e.addWindowScrollOrResize()}),this._listeners.add(t,"resize",!0,function(){return e.addWindowScrollOrResize()})):this._listeners.add(this._wnd,"mousewheel",!0,function(){e.addWindowScrollOrResize()}),this._pushHook=f.activateHook(this._hst,"pushState"),this._pushHook&&this._pushHook.afterSync(function(){return e.addNavigate()}),this._replaceHook=f.activateHook(this._hst,"replaceState"),this._replaceHook&&this._replaceHook.afterSync(function(){return e.addNavigate()}),"function"==typeof this._wnd.document.hasFocus&&this._queue.enqueue({Kind:this._wnd.document.hasFocus()?p.RawEventKind.WINDOW_FOCUS:p.RawEventKind.WINDOW_BLUR,Args:[]}),y.windex.matchMedia)for(var n=function(t,n,i){var o=y.windex.matchMedia(r._wnd,i);if(!o)return"continue";var s=function(){o.matches&&e._queue.enqueue({Kind:p.RawEventKind.MEDIA_QUERY_CHANGE,Args:[t,n]})};r._listeners.add(o,"change",!0,s),s()},r=this,i=0,o=[["any-pointer","coarse","not screen and (any-pointer: fine)"],["any-pointer","fine","only screen and (any-pointer: fine)"],["any-hover","none","not screen and (any-hover: hover)"],["any-hover","hover","only screen and (any-hover: hover)"]];i<o.length;i++){var s=o[i];n(s[0],s[1],s[2])}this._initialized=!0},e.prototype.initResourceUploading=function(){this._resourceUploader.init(),this._uploadResources=!0},e.prototype.onDomLoad=function(){this.addDomLoaded(),this.addViewportChange(),this._mutWatcher._checkForMissingInsertions(v.uaIsIE)},e.prototype.onLoad=function(){var e=this;setTimeout(E.FsBugSnag.wrap(function(){try{e._perfWatcher.onLoad()}catch(e){E.FsBugSnag.sendToBugsnag(e,"error")}e.addLoad(),e.addViewportChange()},"error"),0)},e.prototype.ajaxWatcher=function(){return this._ajaxWatcher},e.prototype.bundleEvents=function(e){return this._inputWatcher.tick(),this._perfWatcher.tick(e),this._ajaxWatcher.tick(e),this.addViewportChange(),this._mutWatcher.processMutations()},e.prototype.shutdown=function(e){this._initialized&&(this._initialized=!1,this._listeners&&this._listeners.clear(),this._pushHook&&this._pushHook.disable(),this._replaceHook&&this._replaceHook.disable(),this._perfWatcher.onLoad(),this._inputWatcher.shutdown(),this._mutWatcher.shutdown(),this._ajaxWatcher.disable(),this._perfWatcher.shutdown(),this._styleSheetWatcher.stop(),this._fullscreenWatcher.stop(),this._queue.shutdown(e))},e.prototype.recordingIsDetached=function(){return this._mutWatcher.recordingIsDetached()},e.prototype.visitNode=function(e,t,n){var r=this;switch(t.nodeName){case"#document":case"#document-fragment":var i=t;if(!i.adoptedStyleSheets||0===i.adoptedStyleSheets.length)break;n.push(function(){r._styleSheetWatcher.onSetAdoptedStyleSheets(t)});break;case"HTML":this._docElScrollListener&&this._listeners.remove(this._docElScrollListener),this._docElScrollListener=this._listeners.add(t,"scroll",!0,function(e){r.addScroll(x(e))});break;case"BODY":this.addViewportChange(),n.push(function(){r.addSelection()});break;case"INPUT":case"TEXTAREA":case"SELECT":this._inputWatcher.addInput(t);break;case"FRAME":case"IFRAME":this._onFrameCreated(t);break;case"VIDEO":case"AUDIO":t.paused||this._queue.enqueue({Kind:p.RawEventKind.PLAY,Args:[w.fsid(t)]});break;case"LINK":if(!(o=t.sheet))break;!0===o.disabled&&this._styleSheetWatcher.onDisableSheet(o,!0);break;case"STYLE":var o,s=t;if(!(o=s.sheet))break;!0===o.disabled&&this._styleSheetWatcher.onDisableSheet(o,!0);var a=h.getDynamicRuleTail(s);void 0!==a&&n.push(function(){r._styleSheetWatcher.snapshotEl(s,a)});}if("scrollLeft"in t&&"scrollTop"in t){var u=t;this._ctx.measurer.requestMeasureTask(function(){0==u.scrollLeft&&0==u.scrollTop||r.addScroll(u)})}},e.prototype.isPrivacyClear=function(e){var t=x(e);return!!w.fsid(t)&&!w.isExcluded(t)},e.prototype.addMouseMove=function(e){var t=w.fsid(x(e));this._queue.enqueue({Kind:p.RawEventKind.MOUSEMOVE,Args:t?[e.clientX,e.clientY,t]:[e.clientX,e.clientY]})},e.prototype.addMouseDown=function(e){this._queue.enqueue({Kind:p.RawEventKind.MOUSEDOWN,Args:[e.clientX,e.clientY]})},e.prototype.addMouseUp=function(e){this._queue.enqueue({Kind:p.RawEventKind.MOUSEUP,Args:[e.clientX,e.clientY]})},e.prototype.addTouchEvent=function(e,t){if(void 0!==e.changedTouches)for(var n=0;n<e.changedTouches.length;++n){var r=e.changedTouches[n];isNaN(parseInt(r.identifier))&&(r.identifier=0);var i=[r.identifier,r.clientX,r.clientY];this._queue.enqueue({Kind:t,Args:i})}},e.prototype.addPlayEvent=function(e){var t=x(e),n=w.fsid(t);n&&this._queue.enqueue({Kind:p.RawEventKind.PLAY,Args:[n]})},e.prototype.addPauseEvent=function(e){var t=x(e),n=w.fsid(t);n&&this._queue.enqueue({Kind:p.RawEventKind.PAUSE,Args:[n]})},e.prototype.addWindowFocus=function(e){this._queue.enqueue({Kind:p.RawEventKind.WINDOW_FOCUS,Args:[]})},e.prototype.addWindowBlur=function(e){this._queue.enqueue({Kind:p.RawEventKind.WINDOW_BLUR,Args:[]})},e.prototype.maybeAddValueChange=function(){var e=C(this._doc);e&&this._inputWatcher.onChange(e)},e.prototype.addKeyDown=function(e){var t=C(this._doc);t&&!w.fsidIfNotExcluded(t)||(this.maybeAddValueChange(),this._queue.enqueue({Kind:p.RawEventKind.KEYDOWN,Args:[]}))},e.prototype.addKeyUp=function(e){var t=C(this._doc);t&&!w.fsidIfNotExcluded(t)||(this.maybeAddValueChange(),this._queue.enqueue({Kind:p.RawEventKind.KEYUP,Args:[]}))},e.prototype.addViewportChange=function(){var e=this;this._ctx.measurer.requestMeasureTask(function(){return e._addViewportChangeImpl()})},e.prototype._addViewportChangeImpl=function(){var e=w.fsid(this.getWindowScrollingElement());if(e){var t=s.getLayoutViewport(this._wnd,this._curLayoutViewport),n=s.getVisualViewport(this._wnd,t);t.hasKnownPosition?(i.sameViewportPos(t,this._curLayoutViewport)||this._queue.enqueue({Kind:p.RawEventKind.SCROLL_LAYOUT,Args:[e,t.pageLeft,t.pageTop]}),i.sameVisualViewportOffset(n,this._curVisualViewport)||this._queue.enqueue({Kind:p.RawEventKind.SCROLL_VISUAL_OFFSET,Args:[e,n.offsetLeft,n.offsetTop]})):i.sameViewportPos(n,this._curVisualViewport)||this._queue.enqueue({Kind:p.RawEventKind.SCROLL_LAYOUT,Args:[e,n.pageLeft,n.pageTop]}),i.sameLayoutViewportSize(t,this._curLayoutViewport)||(t.width==t.clientWidth&&t.height==t.clientHeight?this._queue.enqueue({Kind:p.RawEventKind.RESIZE_LAYOUT,Args:[t.clientWidth,t.clientHeight]}):this._queue.enqueue({Kind:p.RawEventKind.RESIZE_LAYOUT,Args:[t.clientWidth,t.clientHeight,t.width,t.height]})),i.sameViewportSize(n,this._curVisualViewport)||this._queue.enqueue({Kind:p.RawEventKind.RESIZE_VISUAL,Args:[n.width,n.height]}),this._curLayoutViewport=i.createLayoutViewportLike(t),this._curVisualViewport=i.createVisualViewportLike(n)}},e.prototype.doWorkInScrollTimeout=function(e,t){var n=this;e in this._scrollTimeouts||(this._scrollTimeouts[e]=t,new _.RealTimeout(function(){n._ctx.measurer.requestMeasureTask(function(){if(e in n._scrollTimeouts){var t=n._scrollTimeouts[e];delete n._scrollTimeouts[e],t()}})},p.Constants.ScrollSampleInterval).start())},e.prototype._fireScrollTimeouts=function(){for(var e in this._scrollTimeouts)this._scrollTimeouts[e](),delete this._scrollTimeouts[e];this._scrollTimeouts=[]},e.prototype.getWindowScrollingElement=function(){return this._doc.scrollingElement||this._doc.body||this._doc.documentElement},e.prototype.addWindowScrollOrResize=function(){var e=this;this.doWorkInScrollTimeout(1,function(){return e.addViewportChange()})},e.prototype.addScroll=function(e){var t=this,n=w.fsid(e);n&&this.doWorkInScrollTimeout(n,function(){if(w.fsid(e)===n){var r=e;n&&"number"==typeof r.scrollLeft&&t._queue.enqueue({Kind:p.RawEventKind.SCROLL_LAYOUT,Args:[n,r.scrollLeft,r.scrollTop]})}})},e.prototype.addDomLoaded=function(){this._queue.enqueue({Kind:p.RawEventKind.DOMLOADED,Args:[]})},e.prototype.addLoad=function(){this._queue.enqueue({Kind:p.RawEventKind.LOAD,Args:[]})},e.prototype.addNavigate=function(){var e=this._loc.href;this._currentUrl!=e&&(this._currentUrl=e,this._queue.enqueue({Kind:p.RawEventKind.NAVIGATE,Args:[m.scrubUrl(this._loc.href,this._ctx.options.orgId,{source:"event",type:p.RawEventKind.NAVIGATE}),this._doc.title]}))},e.prototype.addClick=function(e){var t=x(e),n=w.fsid(t);if(n){var r=0,i=0,o=0,s=0;if(t&&t.getBoundingClientRect){var a=t.getBoundingClientRect();r=a.left,i=a.top,o=a.width,s=a.height}this._queue.enqueue({Kind:p.RawEventKind.CLICK,Args:[n,e.clientX,e.clientY,r,i,o,s]})}},e.prototype.addDblClick=function(e){var t=x(e),n=w.fsid(t);n&&this._queue.enqueue({Kind:p.RawEventKind.DBL_CLICK,Args:[n]})},e.prototype.addFormSubmit=function(e){var t=x(e),n=w.fsid(t);n&&this._queue.enqueue({Kind:p.RawEventKind.FORM_SUBMIT,Args:[n]})},e.prototype.addFocus=function(e){var t=x(e),n=w.fsid(t);n&&this._queue.enqueue({Kind:p.RawEventKind.FOCUS,Args:[n]})},e.prototype.addBlur=function(e){var t=x(e),n=w.fsid(t);n&&this._queue.enqueue({Kind:p.RawEventKind.BLUR,Args:[n]})},e.prototype.addChange=function(e){this._inputWatcher.onChange(x(e))},e.prototype.addChangeElem=function(e){var t=w.fsidIfNotExcluded(e);if(t){var n=a.valueOfInputishElem(e);w.isMasked(e)&&(n=b.maskText(n)),this._queue.enqueue({Kind:p.RawEventKind.VALUECHANGE,Args:[t,n]})}},e.prototype.addSelection=function(){try{var e=this.selectionArgs()}catch(e){return}for(var t=!1,n=0;n<4;n++)if(this._curSelection[n]!==e[n]){t=!0;break}t&&(this._curSelection=e,this._queue.enqueue({Kind:p.RawEventKind.SELECT,Args:e}))},e.prototype.selectionArgs=function(){if(!this._wnd.getSelection)return[];var e=this._wnd.getSelection();if(!e)return[];if("None"==e.type)return[];if("Caret"==e.type){var t=w.fsid(e.anchorNode);return t?[t,e.anchorOffset]:[]}if(!e.anchorNode||!e.focusNode)return[];var n=I(e.anchorNode,e.anchorOffset),r=n[0],i=n[1],o=I(e.focusNode,e.focusOffset),s=o[0],a=o[1],u=Boolean(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_FOLLOWING),c=u?[r,s]:[s,r],d=c[0],h=c[1],l=u?[i,a]:[a,i],p=l[0],_=l[1];for(w.fsid(d)||(p=0);d&&!w.fsid(d)&&d!=h;)d=f.nextSibling(d)||d.parentNode;for(w.fsid(h)||(_=0);h&&!w.fsid(h)&&h!=d;)h=f.previousSibling(h)||h.parentNode;if(d==h&&p==_)return[];var g=w.fsid(d),v=w.fsid(h);return d&&h&&g&&v?[g,p,v,_,u]:[]},e}();function I(e,t){if(!e.firstChild)return[e,t];e=e.firstChild;for(var n=0;n<t-1;n++){var r=f.nextSibling(e);if(!r)return[e,0];e=r}return[e,0]}t.EventWatcher=T;var R={src:{img:!0,embed:!0},href:{use:!0,image:!0},data:{object:!0}};function k(e,t,n){var r,i=g.tagName(e);if(R[t]&&R[t][i])return[n];if("link"==i&&"href"==t&&(r=e.getAttribute("rel"))&&r.indexOf("stylesheet")>-1)return[n];if("srcset"==t&&("img"==i||"source"==i))return null!=n.match(/^\s*$/)?[]:f.map(n.split(","),function(e){return f.trim(e).split(/\s+/)[0]});var s=e;if("style"==t&&s.style){var a=s.style.backgroundImage;if(!a)return[];if(a.length>300)return[];var u=[],c=void 0;for(o.SIMPLE_CSS_URL.lastIndex=0;c=o.SIMPLE_CSS_URL.exec(a);){var d=c[1];d&&u.push(d.trim())}return u}return[]}function C(e){for(var t=e.activeElement;t&&t.shadowRoot;){var n=t.shadowRoot.activeElement;if(!n)return t;t=n}return t}function x(e){if(e.composed&&e.target){var t=e.target;if(t.nodeType==S.Node_ELEMENT_NODE&&t.shadowRoot){var n=e.composedPath();if(n.length>0)return n[0]}}return e.target}t.getResourceUrls=k},function(e,t,n){"use strict";function r(e){return{pageLeft:e.pageLeft,pageTop:e.pageTop,width:e.width,height:e.height}}t.__esModule=!0,t.sameViewportPos=function(e,t){return t&&e.pageLeft==t.pageLeft&&e.pageTop==t.pageTop},t.sameVisualViewportOffset=function(e,t){return t&&e.offsetLeft==t.offsetLeft&&e.offsetTop==t.offsetTop},t.sameViewportSize=function(e,t){return t&&e.width==t.width&&e.height==t.height},t.sameLayoutViewportSize=function(e,t){return t&&e.width==t.width&&e.height==t.height&&e.clientWidth==t.clientWidth&&e.clientHeight==t.clientHeight},t.createVisualViewportLike=function(e){var t=r(e);return t.offsetLeft=e.offsetLeft,t.offsetTop=e.offsetTop,t},t.createLayoutViewportLike=function(e){var t=r(e);return t.clientWidth=e.clientWidth,t.clientHeight=e.clientHeight,t}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(5),i=n(1),o=n(13),s=n(6),a=function(){function e(e,n){this._onchange=e,this._checkElem=n,this._fallback=!1,this._elems={},this.values={},this.radios={},t._globalInputWatcher=this}return e.prototype.hookEvents=function(){(function(){var e=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");if(!e||!e.set)return!1;u||(i.shimProp(HTMLInputElement,"value",f),i.shimProp(HTMLInputElement,"checked",f),i.shimProp(HTMLSelectElement,"value",f),i.shimProp(HTMLTextAreaElement,"value",f),i.shimProp(HTMLSelectElement,"selectedIndex",f),i.shimProp(HTMLOptionElement,"selected",f),u=!0);return!0})()||(this._fallback=!0)},e.prototype.addInput=function(e){var t=s.fsid(e);if(this._elems[t]=e,_(e)){var n=l(e);e.checked&&(this.radios[n]=t)}else this.values[t]=p(e);(function(e){switch(e.type){case"checkbox":case"radio":return e.checked!=e.hasAttribute("checked");default:return(e.value||"")!=function(e){if("select"!=o.tagName(e))return e.getAttribute("value")||"";var t=e,n=t.querySelector("option[selected]")||t.querySelector("option");if(!n)return"";return n.value||""}(e);}})(e)&&this._onchange(e)},e.prototype.diffValue=function(e,t){var n=s.fsid(e);if(_(e)){var r=l(e);return this.radios[r]==n!=("true"==t)}return this.values[n]!=t},e.prototype.onChange=function(e,t){void 0===t&&(t=p(e));var n=s.fsid(e);if((e=this._elems[n])&&this.diffValue(e,t))if(this._onchange(e),_(e)){var r=l(e);"false"==t&&this.radios[r]==n?delete this.radios[r]:this.radios[r]=n}else this.values[n]=t},e.prototype.tick=function(){for(var e in this._elems){var t=this._elems[e];if(this._checkElem(t)){if(this._fallback){var n=p(t);if(t&&this.diffValue(t,n))if(this._onchange(t),_(t)){var r=l(t);this.radios[r]=+e}else this.values[e]=n}}else delete this._elems[e],delete this.values[e],_(t)&&delete this.radios[l(t)]}},e.prototype.shutdown=function(){t._globalInputWatcher=null},e.prototype._usingFallback=function(){return this._fallback},e.prototype._trackingElem=function(e){return!!this._elems[e]},e}();t.InputWatcher=a;var u=!1;var c,d={};function h(){try{if(t._globalInputWatcher)for(var e in d){var n=d[e],r=n[0],i=n[1];t._globalInputWatcher.onChange(r,i)}}finally{c=null,d={}}}function l(e){if(!e)return"";for(var t=e;t&&"form"!=o.tagName(t);)t=t.parentElement;return(t&&"form"==o.tagName(t)?s.fsid(t):0)+":"+e.name}function f(e,n){var i=function e(t,n){if(void 0===n&&(n=2),n<=0)return t;var r=o.tagName(t);return"option"!=r&&"optgroup"!=r||!t.parentElement?t:e(t.parentElement,n-1)}(e),a=s.fsid(i);a&&t._globalInputWatcher&&t._globalInputWatcher.diffValue(i,""+n)&&(d[a]=[i,""+n],c||(c=new r.RealTimeout(h)).start())}function p(e){switch(e.type){case"checkbox":case"radio":return""+e.checked;default:var t=e.value;return t||(t=""),""+t;}}function _(e){return e&&"radio"==e.type}t.valueOfInputishElem=p},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};t.__esModule=!0;var i=n(45),o=n(50),s=n(1),a=n(3),u=n(5),c=n(14),d=n(8),h=n(0),l=n(2),f=n(51),p=n(7),_=n(6),g=n(52),v=n(15),y=n(53),m=function(){function e(e,t,n,r,o,s){var a=this;void 0===n&&(n=!0),void 0===r&&(r=function(){}),void 0===o&&(o=function(){}),void 0===s&&(s=function(){}),this._ctx=e,this._watcher=t,this._compress=n,this._nodeVisitor=r,this._beforeRemove=o,this._attrVisitor=s,this._sentDomSnapshot=!1,this._newShadowContainers=[],this._toRefresh=[],this._records=[],this._setPropertyWasThrottled=!1,this._wnd=e.window,this._resizer=f.ResizeWatcher.create(e),this._encoder=new i.NodeEncoder(t,this._resizer,e.options.orgId),l.assert(!this._watcher.onConsentChange,"This is the only consent change listener."),this._watcher.onConsentChange=function(){return a.updateConsent()}}return e.prototype.hookMutations=function(e){void 0===e&&(e=this._wnd.document),this._root=e,this._sentDomSnapshot=!1,this._compress&&(this._lz=new o.LZJGWEncoder);var t=!0;if(d.uaIsIE)try{this.setUpIEWorkarounds()}catch(e){a.logIfDebug("Error setting up IE workarounds for mutation watcher: "+e),t=!1}t&&(this._observer=new y.FSMutationObserver(this._addMutations.bind(this)))},e.prototype._observerOff=function(){this._observer&&this._observer.disconnect()},e.prototype._addMutations=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];this._records.push(r)}},e.prototype.resizer=function(){return this._resizer},e.prototype.shutdown=function(){this._observer&&this._observer.disconnect();var e=_.mirrorFor(this._root);e&&_.clearIds(e),this._records=[],d.uaIsIE&&this.tearDownIEWorkarounds(),this._watcher.onConsentChange=null,this._attachShadowHook&&(this._attachShadowHook.disable(),this._attachShadowHook=null)},e.prototype.processMutations=function(){if(!this._root)return[];var e=this._ctx.time.now(),t=[];if(this.maybeGetInitialSnapshot(e,t),this._setPropertyWasThrottled&&(t.push({Kind:h.RawEventKind.FAIL_THROTTLED,When:e,Args:[h.ThrottledTask.SetPropertyHooks]}),this._setPropertyWasThrottled=!1),this._records.length>0||this._toRefresh.length>0){var n={},r={};for(var i in this.processRecords(e,t,r,n),r){var o=i.split("\t");t.push({Kind:h.RawEventKind.MUT_ATTR,When:e,Args:[parseInt(o[0]),o[1],r[i]]})}for(var i in n)t.push({Kind:h.RawEventKind.MUT_TEXT,When:e,Args:[parseInt(i),n[i]]})}var s=this._newShadowContainers;this._newShadowContainers=[];for(var a=0;a<s.length;a++){var u=s[a].shadowRoot;u&&0!=_.fsid(s[a])&&0==_.fsid(u)&&(this.observe(u),this.genShadow(e,t,s[a],u))}return t.push.apply(t,this._resizer.collect(e)),this._records=[],t},e.prototype.recordingIsDetached=function(){return this._root&&this._root!=this._wnd.document},e.prototype.maybeGetInitialSnapshot=function(e,t){this._sentDomSnapshot||(this.genInsert(e,t,null,this._root,null),this._resizer.nodeChanged(this._root),this._observer&&this.observe(this._root),this._sentDomSnapshot=!0,this.hookAttachShadow())},e.prototype.hookAttachShadow=function(){var e=this;this._attachShadowHook=s.activateHook(HTMLElement.prototype,"attachShadow"),this._attachShadowHook&&this._attachShadowHook.before(function(t){t.that.shadowRoot||e._newShadowContainers.push(t.that)})},e.prototype.observe=function(e){this._observer.observe(e,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0})},e.prototype.processRecords=function(e,t,n,r){for(var i=this,o={},s={},a=function(n){if(_.mirrorFor(n)){i.genRemove(e,t,_.mirrorFor(n));var r=_.mirrorFor(n.parentNode);r&&(s[r.id]=r.node)}},u=0;u<this._records.length;++u)try{var d=this._records[u],h=_.fsid(d.target);if(!h)continue;switch(o[h]=d.target,d.type){case"childList":if(d.removedNodes.length>0)for(var f=0;f<d.removedNodes.length;++f){var g=_.mirrorFor(d.removedNodes[f]);g&&g.id&&this.genRemove(e,t,g)}d.addedNodes.length>0&&(s[h]=d.target);break;case"characterData":_.isExcluded(d.target)||d.oldValue!=d.target.textContent&&(r[h]=p.scrubTextNode(d.target));break;case"attributes":var v=d.target,y=this._watcher.isWatched(v);if(y&&y!=c.WatchKind.Watch&&!_.isExcluded(v)){a(v);break}var m=w(d.attributeNamespace)+(d.attributeName||""),S=p.scrubAttrName(m);if(v.hasAttribute(m)){var b=d.target.getAttribute(m);d.oldValue!=b&&(b=p.scrubAttrValue(this._ctx.options.orgId,d.target,S,b||""),this._attrVisitor(d.target,S,b||""),null!==b&&(n[h+"\t"+S]=b))}else n[h+"\t"+S]=null;}}catch(e){}for(var E=0,T=this._toRefresh;E<T.length;E++){var I=T[E];try{a(I)}catch(e){l.FsBugSnag.sendToBugsnag(e,"error")}}for(var R in this._toRefresh=[],s){var k=s[R],C=_.mirrorFor(k);C&&C.id&&this.diff(e,t,k,C.child,k.firstChild)}for(var R in o){k=o[R];this._resizer.nodeChanged(k)}},e.prototype._checkForMissingInsertions=function(e){if(!this._sentDomSnapshot||!e)return[];return this.walkAddRecords(this._root),[]},e.prototype.walkAddRecords=function(e){var t=this;_.fsid(e)||null===e.parentNode?s.forEachNextSibling(e.firstChild,function(e){t.walkAddRecords(e)}):this._records.push(g.createAddChildrenRecord(e.parentNode,[e]))},e.prototype.diff=function(e,t,n,r,i){for(var o=[],a=r,u=i;a&&u;){var c=_.mirrorFor(u);_.fsid(u)?c&&a.id==c.id?(a=a.next,u=s.nextSibling(u)):(o.push({remove:a}),a=a.next):(o.push({insert:[n,u,a.node]}),u=s.nextSibling(u))}for(;a;a=a.next)o.push({remove:a});s.forEachNextSibling(u,function(e){o.push({insert:[n,e,null]})});for(var d=!1,h=0;h<o.length;h++){var f=o[h];f.insert?this.genInsert(e,t,f.insert[0],f.insert[1],f.insert[2]):f.remove&&(d=!0,this.genRemove(e,t,f.remove))}l.assert(!d,"All remove events should have been generated earlier, in MutationWatcher.processMutations")},e.prototype.genShadow=function(e,t,n,r){var i=_.fsid(n),o=this.genDocStream(e,n,r,null);o.length>0&&t.push({When:e,Kind:h.RawEventKind.MUT_SHADOW,Args:[i,this._compress?this._lz.encode(o):o]})},e.prototype.genInsert=function(e,t,n,r,i){var o=_.fsid(n)||-1,s=_.fsid(i)||-1,a=this.genDocStream(e,n,r,i);a.length>0&&t.push({When:e,Kind:h.RawEventKind.MUT_INSERT,Args:[o,s,this._compress?this._lz.encode(a):a]})},e.prototype.genDocStream=function(e,t,n,r){var i=this;if(t&&_.isExcluded(t))return[];for(var o=[],s=this._encoder.tokenizeNode(t,r,n,function(t){if(t.nodeType==v.Node_ELEMENT_NODE){var n=t;n.shadowRoot&&i.observe(n.shadowRoot)}i._nodeVisitor(e,t,o)},function(e,t,n){i._attrVisitor(e,t,n)}),a=0,u=o;a<u.length;a++){(0,u[a])()}return s},e.prototype.genRemove=function(e,t,n){var r=n.id;if(this._beforeRemove(n),_.removeMirror(n,this._resizer),t.length>0){var i=t[t.length-1];if(i.Kind==h.RawEventKind.MUT_REMOVE)return void i.Args.push(r)}t.push({When:e,Kind:h.RawEventKind.MUT_REMOVE,Args:[r]})},e.prototype.setUpIEWorkarounds=function(){var t=this;if(d.uaIsIE11){var n=Object.getOwnPropertyDescriptor(Node.prototype,"textContent"),i=n&&n.set;if(!n||!i)throw new Error("Missing textContent setter -- not safe to record mutations.");Object.defineProperty(Element.prototype,"textContent",r(r({},n),{set:function(e){try{for(var t=void 0;t=this.firstChild;)this.removeChild(t);if(null===e||""==e)return;var n=(this.ownerDocument||document).createTextNode(e);this.appendChild(n)}catch(t){i&&i.call(this,e)}}}))}this._setPropertyThrottle=new u.Throttle(e.ThrottleMax,e.ThrottleInterval,function(){return new u.RealTimeout(function(){t._setPropertyWasThrottled=!0,t.tearDownIEWorkarounds()}).start()});var o=this._setPropertyThrottle.guard(function(e){e.cssText=e.cssText});this._setPropertyThrottle.open(),this._setPropertyHook=s.activateHook(CSSStyleDeclaration.prototype,"setProperty"),this._setPropertyHook&&this._setPropertyHook.afterSync(function(e){o(e.that)}),this._removePropertyHook=s.activateHook(CSSStyleDeclaration.prototype,"removeProperty"),this._removePropertyHook&&this._removePropertyHook.afterSync(function(e){o(e.that)})},e.prototype.tearDownIEWorkarounds=function(){this._setPropertyThrottle&&this._setPropertyThrottle.close(),this._setPropertyHook&&this._setPropertyHook.disable(),this._removePropertyHook&&this._removePropertyHook.disable()},e.prototype.updateConsent=function(){for(var e=this._watcher.allConsentSensitiveElements(this._root),t=0;t<e.length;t++)_.fsid(e[t])&&this._toRefresh.push(e[t])},e.ThrottleMax=1024,e.ThrottleInterval=1e4,e}();function w(e){return void 0===e&&(e=""),null===e?"":{"http://www.w3.org/1999/xlink":"xlink:","http://www.w3.org/XML/1998/namespace":"xml:","http://www.w3.org/2000/xmlns/":"xmlns:"}[e]||""}t.MutationWatcher=m},function(e,t,n){"use strict";t.__esModule=!0;var r=n(14),i=n(1),o=n(8),s=n(15),a=n(13),u=n(2),c=n(7),d=n(6),h=n(49),l=function(){function e(e,t,n){this._watcher=e,this._resizer=t,this._orgId=n,d.clearMirrors()}return e.prototype.tokenizeNode=function(e,t,n,r,i){var o=this,s=d.mirrorFor(e),a=d.mirrorFor(t),u=[];return d.tryTokenize(function(){o.tokeNode(s,a,n,u,r,i)})||(u=[]),u},e.prototype.tokeNode=function(e,t,n,l,p,_){var g=this;if("script"==a.tagName(n)||n.nodeType==s.Node_COMMENT_NODE)return null;var v=function(e){return e.constructor===window.ShadowRoot}(n),y=d.newMirror(n);if(e&&(v?e.shadow=y:d.insertMirror(e,y,t,this._resizer)),n.nodeType==s.Node_DOCUMENT_TYPE_NODE){var m=n;return l.push("<!DOCTYPE",":name",m.name,":publicId",m.publicId||"",":systemId",m.systemId||""),y}try{var w=function(e,t){(e||t)&&(l.push("["),e&&g.tokeNode(y,null,e,l,p,_),i.forEachNextSibling(n.firstChild,function(e){g.tokeNode(y,null,e,l,p,_)}),l.push("]"))};switch(n.nodeType){default:l.push("<"+n.nodeName),f(n,p);break;case s.Node_DOCUMENT_FRAGMENT_NODE:case s.Node_DOCUMENT_NODE:l.push("<"+(v?"#shadow":n.nodeName)),w(null,n.firstChild),f(n,p);break;case s.Node_TEXT_NODE:void 0===y.mask&&(y.mask=!y.parent||y.parent.mask),y.mask&&this._resizer.observe(n.parentElement),f(n,p),l.push("<"+n.nodeName,c.scrubTextNode(n,y));break;case s.Node_ELEMENT_NODE:var S=n,b=S.nodeName;"http://www.w3.org/2000/svg"==S.namespaceURI&&(b="svg:"+b),l.push("<"+b);var E=this._watcher.isWatched(S);if(null!==E)switch(y.watchKind=E,E){case r.WatchKind.Watch:this._resizer.observe(S);break;case r.WatchKind.Exclude:this._resizer.observe(S),l.push(":"+h.AttrExcluded,"true");break;case r.WatchKind.Unmask:y.mask=!1;break;case r.WatchKind.Mask:y.mask=!0;}else y.parent&&(y.mask=y.parent.mask);y.mask&&l.push(":"+h.AttrMasked,"true"),y.watchKind!=r.WatchKind.Exclude&&f(n,p),function(e,t,n){var r=a.tagName(t);if(o.uaIsEdge&&"output"===r)return;var i=t;if(i.attributes&&i.attributes.length>0)for(var s=0;s<i.attributes.length;s++){var u=i.attributes[s];if(null!=u){var d=c.scrubAttrName(u.name),h=c.scrubAttrValue(e,t,d,u.value);null!==h&&n(d,h)}}}(this._orgId,S,function(e,t){if(l.push(":"+e),l.push(t),_)try{_(S,e,t)}catch(e){u.FsBugSnag.sendToBugsnag(e,"error")}}),y.watchKind!=r.WatchKind.Exclude&&w(S.shadowRoot,S.firstChild);}}catch(e){u.FsBugSnag.sendToBugsnag(e,"error")}return y},e}();function f(e,t){if(t)try{t(e)}catch(e){u.FsBugSnag.sendToBugsnag(e,"error")}}t.NodeEncoder=l},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};t.__esModule=!0;var i=n(47);t.Object=i.ExtendedObject,t.isNonEmpty=function(e){return e.length>0},t.assertExhaustive=function(e,t){throw void 0===t&&(t="Reached unexpected case in exhaustive switch"),new Error(t)},t.pick=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r={};return t.forEach(function(t){r[t]=e[t]}),r},t.omit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=r({},e);return Object.keys(i).forEach(function(e){var n=e;-1!==t.indexOf(n)&&delete i[n]}),i}},function(e,t,n){"use strict";t.__esModule=!0,t.ExtendedObject=Object},function(e,t,n){"use strict";t.__esModule=!0;var r=["allowReorder","attributeName","attributeType","autoReverse","baseFrequency","baseProfile","calcMode","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","referrerPolicy","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].reduce(function(e,t){return e[t]=t,e[t.toUpperCase()]=t,e},{});t["default"]=r},function(e,t,n){"use strict";t.__esModule=!0,t.AttrExcluded="_fs_excluded",t.AttrMasked="_fs_masked"},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(){this.dict={idx:-1,map:{}},this.nodeCount=1,this.startIdx=0}return e.prototype.encode=function(t){if(0==t.length)return[];var n,r,i=t[0],o=Object.prototype.hasOwnProperty.call(this.dict.map,i)?this.dict.map[i]:null,s=[],a=1;function u(){o?a>1?s.push([o.idx,a]):s.push(o.idx):s.push(i)}for(n=1;n<t.length;n++)if(r=t[n],o&&Object.prototype.hasOwnProperty.call(o.map,r))a++,i=r,o=o.map[r];else{u();var c=this.startIdx+n-a;null==o&&this.nodeCount<e.MAX_NODES&&(o={idx:c,map:{}},this.dict.map[i]=o,this.nodeCount++),o&&this.nodeCount<e.MAX_NODES&&(o.map[r]={idx:c,map:{}},this.nodeCount++),a=1,i=r,o=Object.prototype.hasOwnProperty.call(this.dict.map,r)?this.dict.map[r]:null}return u(),this.startIdx+=t.length,s},e.MAX_NODES=1e4,e}();t.LZJGWEncoder=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var o=n(0),s=n(14),a=n(1),u=n(15),c=n(6);n(19);var d=function(){function e(){this._watchedDims={},this._nodes={}}return e.create=function(e){return h.isSupported(e.window)?new h:new l},e.prototype.collect=function(e){var t=[];for(var n in this._nodes)this.addPlaceholderResize(e,t,this._nodes[n]);return this._nodes={},t},e.prototype.addNode=function(e){if(e){var t=c.fsid(e);t&&(this._nodes[t]=e)}},e.prototype.addPlaceholderResize=function(e,t,n){try{if(n.nodeType!=u.Node_ELEMENT_NODE)return;var r=n,i=c.watchKind(r),a=r.getBoundingClientRect(),d=a.width,h=a.height,l=c.fsid(r),f=this._watchedDims[l];if(f&&f.w==d&&f.h==h)return;if(i==s.WatchKind.Watch){var p=!!f&&0!=f.w&&0!=f.h,_=0!=d&&0!=h;p!=_&&t.push({When:e,Kind:o.RawEventKind.WATCHED_ELEM,Args:[l,_]})}else t.push({When:e,Kind:o.RawEventKind.PLACEHOLDER_SIZE,Args:[l,d,h]});this._watchedDims[l]={w:d,h:h}}catch(e){}},e}();t.ResizeWatcher=d;var h=function(e){function t(){var t=e.call(this)||this;return t._obs=new window.ResizeObserver(function(e){for(var n=0,r=e;n<r.length;n++){var i=r[n];t.addNode(i.target)}}),t}return i(t,e),t.isSupported=function(e){return"ResizeObserver"in e},t.prototype.observe=function(e){this._obs.observe(e),this.addNode(e)},t.prototype.unobserveSubtree=function(e){},t.prototype.nodeChanged=function(e){},t}(d),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.observe=function(e){this.growWatchedIndex(c.mirrorFor(e)),this.addNode(e)},t.prototype.unobserveSubtree=function(e){var t=c.mirrorFor(e);t&&this.clearWatchedIndex(t)},t.prototype.nodeChanged=function(e){for(var t=0,n=this.relatedWatched(e);t<n.length;t++){var r=n[t];this.addNode(r)}},t.prototype.watchedChildren=function(e){return e.watchedChildren},t.prototype.growWatchedIndex=function(e){if(e&&c.isWatched(e.node))for(var t=e,n=e.parent;n;n=n.parent){if(this.watchedChildren(n)||(n.watchedChildren={}),this.watchedChildren(t))for(var r in this.watchedChildren(t))delete this.watchedChildren(n)[r];if(this.watchedChildren(n)[t.id]=t,a.hasNKeys(this.watchedChildren(n),2))t=n;else if(a.hasMoreThanNKeys(this.watchedChildren(n),2))break}},t.prototype.relatedWatched=function(e){var t=[],n=c.mirrorFor(e);if(n)for(var r=[n],i=0;r.length&&++i<1e3;){var o=r.pop();c.isWatched(o.node)&&t.push(o.node),this.watchedChildren(o)&&a.forIn(this.watchedChildren(o),function(e){r.push(e)})}else{for(var s=e;s&&!c.fsid(s);)s=s.parentNode;s&&c.isWatched(s)&&t.push(s)}return t},t.prototype.clearWatchedIndex=function(e){if(a.hasMoreThanNKeys(this.watchedChildren(e),0)||c.isWatched(e.node))for(var t=this.watchedChildren(e)&&a.hasMoreThanNKeys(this.watchedChildren(e),1)||c.isWatched(e.node)?e.id:a.firstKey(this.watchedChildren(e)),n=t?e.parent:null;n&&this.watchedChildren(n)&&this.watchedChildren(n)[t];){if(delete this.watchedChildren(n)[t],a.hasNKeys(this.watchedChildren(n),1)){var r=n.id,i=a.firstValue(this.watchedChildren(n));for(n=n.parent;n&&this.watchedChildren(n)&&this.watchedChildren(n)[r];)delete this.watchedChildren(n)[r],this.watchedChildren(n)[i.id]=i,n=n.parent;break}n=n.parent}},t}(d);t.GraphResizeWatcher=l},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};t.__esModule=!0;var i=n(1),o={attributeName:null,attributeNamespace:null,addedNodes:[],removedNodes:[],nextSibling:null,previousSibling:null,oldValue:null};function s(e){return r(r(r({},o),e),{type:"childList"})}function a(e,t){return 0===t.length?s({target:e}):s({addedNodes:t,nextSibling:i.nextSibling(t[t.length-1]),previousSibling:i.previousSibling(t[0]),target:e})}t.createChildListRecord=s,t.createAddChildrenRecord=a,t.createAddAllChildrenRecord=function(e){var t=[];return i.forEachNextSibling(e.firstChild,function(e){t.push(e)}),a(e,t)},t.createRemoveAllChildrenRecord=function(e){var t=[];return i.forEachNextSibling(e.firstChild,function(e){t.push(e)}),s({nextSibling:null,previousSibling:null,removedNodes:t,target:e})},t.createAttributeRecord=function(e){return r(r(r({},o),e),{type:"attributes"})},t.createCharacterDataRecord=function(e){return r(r(r({},o),e),{type:"characterData"})}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(8),i=n(1),o=n(11);t.FSMutationObserver=r.uaIsIE&&!r.uaIsIE11?y:window.MutationObserver||window.WebKitMutationObserver||y;var s,a=Object.defineProperty,u=o.now()%1e9,c=new(window.WeakMap||((s=function(){this.name="__st"+(1e9*Math.random()>>>0)+u++ +"__"}).prototype={set:function(e,t){var n=e[this.name];n&&n[0]===e?n[1]=t:a(e,this.name,{value:[e,t],writable:!0})},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0}},s)),d=window.setImmediate||window.msSetImmediate;if(!d){var h=[],l=String(Math.random());window.addEventListener("message",function(e){if(e.data===l){var t=h;h=[],t.forEach(function(e){e()})}}),d=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return h.push(e),window.postMessage(l,"*"),0}}var f=!1,p=[];function _(){f=!1;var e=p;p=[],e.sort(function(e,t){return e.uid_-t.uid_});var t=!1;e.forEach(function(e){var n=e.takeRecords();!function(e){e.nodes_.forEach(function(t){var n=c.get(t);n&&n.forEach(function(t){t.observer===e&&t.removeTransientObservers()})})}(e),n.length&&(e.callback_(n,e),t=!0)}),t&&_()}function g(e,t){for(var n=e;n;n=n.parentNode){var r=c.get(n);if(r)for(var i=0;i<r.length;i++){var o=r[i],s=o.options;if(n===e||s.subtree){var a=t(s);a&&o.enqueue(a)}}}}var v=0;function y(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++v}y.prototype={observe:function(e,t){var n;if(n=e,e=window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(n)||n,!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var r,i=c.get(e);i||c.set(e,i=[]);for(var o=0;o<i.length;o++)if(i[o].observer===this){(r=i[o]).removeListeners(),r.options=t;break}r||(r=new I(this,e,t),i.push(r),this.nodes_.push(e)),r.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){for(var t=c.get(e),n=0;n<t.length;n++){var r=t[n];if(r.observer===this){r.removeListeners(),t.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}};var m,w,S=function(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null};function b(e,t){return m=new S(e,t)}function E(e){return w||((n=new S((t=m).type,t.target)).addedNodes=t.addedNodes.slice(),n.removedNodes=t.removedNodes.slice(),n.previousSibling=t.previousSibling,n.nextSibling=t.nextSibling,n.attributeName=t.attributeName,n.attributeNamespace=t.attributeNamespace,n.oldValue=t.oldValue,(w=n).oldValue=e,w);var t,n}function T(e,t){return e===t?e:w&&((n=e)===w||n===m)?w:null;var n}function I(e,t,n){var r=this;this.observer=e,this.target=t,this.options=n,this.transientObservedNodes=[],this.handleEventBound=function(e){return r.handleEvent_(e)}}I.prototype={enqueue:function(e){var t,n=this.observer.records_,r=n.length;if(n.length>0){var i=T(n[r-1],e);if(i)return void(n[r-1]=i)}else t=this.observer,p.push(t),f||(f=!0,d(_));n[r]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this.handleEventBound,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this.handleEventBound,!0),t.childList&&e.addEventListener("DOMNodeInserted",this.handleEventBound,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this.handleEventBound,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this.handleEventBound,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this.handleEventBound,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this.handleEventBound,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this.handleEventBound,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=c.get(e);t||c.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var t=c.get(e),n=0;n<t.length;n++)if(t[n]===this){t.splice(n,1);break}},this)},handleEvent_:function(e){switch(e.type){case"DOMAttrModified":var t=e.attrName,n=e.relatedNode.namespaceURI,r=e.target;(s=b("attributes",r)).attributeName=t,s.attributeNamespace=n;var o=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;g(r,function(e){if(e.attributes&&(!e.attributeFilter||!e.attributeFilter.length||-1!==e.attributeFilter.indexOf(t)||-1!==e.attributeFilter.indexOf(n)))return e.attributeOldValue?E(o):s});break;case"DOMCharacterDataModified":var s=b("characterData",r=e.target);o=e.prevValue;g(r,function(e){if(e.characterData)return e.characterDataOldValue?E(o):s});break;case"DOMNodeRemoved":case"DOMNodeInserted":"DOMNodeRemoved"==e.type&&this.addTransientObserver(e.target);r=e.relatedNode;var a,u,c=e.target;"DOMNodeInserted"===e.type?(a=[c],u=[]):(a=[],u=[c]);var d=i.previousSibling(c),h=i.nextSibling(c);(s=b("childList",r)).addedNodes=a,s.removedNodes=u,s.previousSibling=d,s.nextSibling=h,g(r,function(e){if(e.childList)return s});}m=w=void 0}}},function(e,t,n){"use strict";t.__esModule=!0,n(19);var r=n(0),i=n(7),o=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],s=["name","startTime","duration","initiatorType","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","unloadEventStart","unloadEventEnd","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd","type","redirectCount","decodedBodySize","encodedBodySize","transferSize"],a=["name","startTime","duration","initiatorType","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","decodedBodySize","encodedBodySize","transferSize"],u=["name","startTime","duration"],c=["jsHeapSizeLimit","totalJSHeapSize","usedJSHeapSize"],d=function(){function e(e,t,n){this._ctx=e,this._queue=t,this._perfSupported=!1,this._timingSupported=!1,this._getEntriesSupported=!1,this._memorySupported=!1,this._lastUsedJSHeapSize=0,this._gotLoad=!1,this._observer=null,this._observedBatches=[];var r=window.performance;r&&(this._perfSupported=!0,r.timing&&(this._timingSupported=!0),r.memory&&(this._memorySupported=!0),"function"==typeof r.getEntries&&(this._getEntriesSupported=!0),this._listeners=n.createChild())}return e.prototype.start=function(e){var t=this;this._resourceUploader=e;var n=window.performance;n&&(this._ctx.recording.inFrame||this._queue.enqueue({Kind:r.RawEventKind.REC_FEAT_SUPPORTED,Args:[r.RecFeature.Performance,this._timingSupported,r.RecFeature.PerformanceEntries,this._getEntriesSupported,r.RecFeature.PerformanceMemory,this._memorySupported,r.RecFeature.PerformanceObserver,!!window.PerformanceObserver]}),this.observe(),!this._observer&&n.addEventListener&&n.removeEventListener&&this._listeners.add(n,"resourcetimingbufferfull",!0,function(){t._queue.enqueue({Kind:r.RawEventKind.RESOURCE_TIMING_BUFFER_FULL,Args:[]})}),this.checkMemory())},e.prototype.onLoad=function(){this._gotLoad||(this._gotLoad=!0,this._timingSupported&&(this.recordTiming(performance.timing),this.checkForNewEntries()))},e.prototype.tick=function(e){this.checkMemory(),e&&this.checkForNewEntries()},e.prototype.shutdown=function(){this._listeners&&this._listeners.clear(),this._resourceUploader=void 0;var e=[];this._observer?(this._observer.takeRecords&&(e=this._observer.takeRecords()),this._observer.disconnect()):window.performance&&window.performance.getEntries&&(e=window.performance.getEntries()),e.length>300&&(e=e.slice(0,300),this._queue.enqueue({Kind:r.RawEventKind.RESOURCE_TIMING_BUFFER_FULL,Args:[]})),this._observedBatches.push(e),this.tick(!0)},e.prototype.observe=function(){var e=this;if(!this._observer&&this._getEntriesSupported&&window.PerformanceObserver){this._observedBatches.push(performance.getEntries()),this._observer=new window.PerformanceObserver(function(t){var n=t.getEntries();e._observedBatches.push(n)});var t=["navigation","resource","measure","mark"];window.PerformancePaintTiming&&t.push("paint"),this._observer.observe({entryTypes:t})}},e.prototype.checkMemory=function(){if(this._memorySupported&&!this._ctx.recording.inFrame){var e=performance.memory;if(e){var t=e.usedJSHeapSize-this._lastUsedJSHeapSize;(0==this._lastUsedJSHeapSize||Math.abs(t/this._lastUsedJSHeapSize)>.2)&&(this.addPerfEvent(r.PerfEntryType.Memory,e,c),this._lastUsedJSHeapSize=e.usedJSHeapSize)}}},e.prototype.recordEntry=function(e){switch(e.entryType){case"navigation":this.recordNavigation(e);break;case"resource":this.recordResource(e);break;case"paint":this.recordPaint(e);break;case"measure":this.recordMeasure(e);break;case"mark":this.recordMark(e);}},e.prototype.checkForNewEntries=function(){if(this._perfSupported&&this._getEntriesSupported){var e=this._observedBatches;this._observedBatches=[];for(var t=0,n=e;t<n.length;t++)for(var r=0,i=n[t];r<i.length;r++){var o=i[r];this.recordEntry(o)}}},e.prototype.recordTiming=function(e){this.addPerfEvent(r.PerfEntryType.Timing,e,o)},e.prototype.recordNavigation=function(e){this.addPerfEvent(r.PerfEntryType.Navigation,e,s,{name:"navigation"})},e.prototype.recordResource=function(e){"3E938"!=this._ctx.options.orgId&&this.addPerfEvent(r.PerfEntryType.Resource,e,a,{name:e.initiatorType})},e.prototype.recordPaint=function(e){this.addPerfEvent(r.PerfEntryType.Paint,e,u)},e.prototype.recordMark=function(e){this.addPerfEvent(r.PerfEntryType.Mark,e,u)},e.prototype.recordMeasure=function(e){this.addPerfEvent(r.PerfEntryType.Measure,e,u)},e.prototype.addPerfEvent=function(e,t,n,o){void 0===o&&(o={});for(var s=[e],a=0,u=n;a<u.length;a++){var c=u[a],d=t[c];if(void 0===d&&(d=-1),c in o){var h=i.scrubUrl(d,this._ctx.options.orgId,{source:"perfEntry",type:o[c]});d===h&&this.maybeUploadResource(e,t,h),d=h}s.push(d)}this._queue.enqueue({Kind:r.RawEventKind.PERF_ENTRY,Args:s})},e.prototype.maybeUploadResource=function(e,t,n){this._resourceUploader&&e===r.PerfEntryType.Resource&&"css"===t.initiatorType&&this._resourceUploader.uploadIfNeeded(this._ctx.window,n)},e}();t.PerfWatcher=d},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),i=n(3),o=n(29),s=n(12),a=n(0),u=n(56),c=n(4),d=n(2),h=n(7),l=n(11),f="\r\n",p=["a-im","accept","accept-charset","accept-encoding","accept-language","accept-datetime","access-control-request-method,","access-control-request-headers","cache-control","connection","content-length","content-md5","content-type","date","expect","forwarded","from","host","if-match","if-modified-since","if-none-match","if-range","if-unmodified-since","max-forwards","origin","pragma","range","referer","te","user-agent","upgrade","via","warning"],_=["access-control-allow-origin","access-control-allow-credentials","access-control-expose-headers","access-control-max-age","access-control-allow-methods","access-control-allow-headers","accept-patch","accept-ranges","age","allow","alt-svc","cache-control","connection","content-disposition","content-encoding","content-language","content-length","content-location","content-md5","content-range","content-type","date","delta-base","etag","expires","im","last-modified","link","location","permanent","p3p","pragma","proxy-authenticate","public-key-pins","retry-after","permanent","server","status","strict-transport-security","trailer","transfer-encoding","tk","upgrade","vary","via","warning","www-authenticate","x-frame-options"],g={BM7A6:["x-b3-traceid"],KD87S:["transactionid"],NHYJM:["x-att-conversationid"],GBNRN:["x-trace-id"]},v={"thefullstory.com":["x-cloud-trace-context"],TN1:["x-cloud-trace-context"],KD87S:["transactionid"],PPE96:["x-b3-traceid"],HWT6H:["x-b3-traceid"],PPEY7:["x-b3-traceid"],PPK3W:["x-b3-traceid"],NHYJM:["x-att-conversationid"],GBNRN:["x-trace-id"]},y=function(){function e(e,t){this._ctx=e,this._queue=t,this._enabled=!1,this._reqHeaderWhitelist={},this._rspHeaderWhitelist={},this._pendingReqs={},this._events=[],this._curId=1,this.addHeaderWhitelist(p,_),this.addHeaderWhitelist(g[e.options.orgId],v[e.options.orgId])}return e.prototype.isEnabled=function(){return this._enabled},e.prototype.enable=function(){this._enabled||(this._enabled=!0,this._queue.enqueue({Kind:a.RawEventKind.REC_FEAT_SUPPORTED,Args:[a.RecFeature.Ajax,!0]}),this.maybeShimXHR(this._ctx.window))},e.prototype.disable=function(){this._enabled&&(this._enabled=!1,this._xhrOpenHook&&(this._xhrOpenHook.disable(),this._xhrOpenHook=null),this._xhrSetHeaderHook&&(this._xhrSetHeaderHook.disable(),this._xhrSetHeaderHook=null))},e.prototype.setWatches=function(e){var t=this,n=[];this._reqWhitelist=[],this._rspWhitelist=[],e.forEach(function(e){n.push(e.URLRegex),t._reqWhitelist.push(O(e.RecordReq,e.ReqWhitelist)),t._rspWhitelist.push(O(e.RecordRsp,e.RspWhitelist))}),this._reqBodyRegex=new RegExp("("+n.join(")|(")+")")},e.prototype.addHeaderWhitelist=function(e,t){var n=this;e&&e.forEach(function(e){return n._reqHeaderWhitelist[e]=!0}),t&&t.forEach(function(e){return n._rspHeaderWhitelist[e]=!0})},e.prototype.tick=function(e){if(e){for(var t=0;t<this._events.length;t++)this._queue.enqueue({Kind:a.RawEventKind.AJAX_REQUEST,Args:this._events[t]});this._events=[]}},e.prototype.maybeShimXHR=function(e){var t=this,n=e.XMLHttpRequest;if(n){var i=n.prototype;this._xhrOpenHook=r.activateHook(i,"open"),this._xhrOpenHook&&this._xhrOpenHook.before(function(e){var n=e.args[0],r=e.args[1];t.addPendingReq(e.that,n,r),e.that.addEventListener("load",d.FsBugSnag.wrap(function(n){t.onComplete(e.that)})),e.that.addEventListener("error",d.FsBugSnag.wrap(function(n){t.onComplete(e.that)}))}),this._xhrSendHook=r.activateHook(i,"send"),this._xhrSendHook&&this._xhrSendHook.before(function(e){var n=e.args[0];t.maybeRecordReqBody(e.that,n)}),this._xhrSetHeaderHook=r.activateHook(i,"setRequestHeader"),this._xhrSetHeaderHook&&this._xhrSetHeaderHook.before(function(e){var n=e.args[0],r=e.args[1];t.addHeader(e.that,n,r)})}},e.prototype.pendingReq=function(e){var t=x(e);return t?this._pendingReqs[t]:(i.logIfDebug("missing xhr req id"),null)},e.prototype.deletePending=function(e){var t=x(e);t&&delete this._pendingReqs[t]},e.prototype.maybeRecordReqBody=function(e,t){var n,r=this.pendingReq(e);r&&(n=this.requestBody(r.url,t),r.reqSize=n[0],r.reqBody=n[1])},e.prototype.addPendingReq=function(e,t,n){this.deletePending(e);var r=this._curId++;n=s.resolveUrlToDocument(this._ctx.window,n),this._pendingReqs[r]={id:r,xhr:e,method:t,url:n,startTime:l.now(),headers:[],reqSize:0,reqBody:void 0},function(e,t){e._fs=t}(e,r)},e.prototype.addHeader=function(e,t,n){var r=this.pendingReq(e);r&&r.headers.push([t,n])},e.prototype.onComplete=function(e){var t=this,n=this.pendingReq(e);if(n){this.deletePending(e);var r=l.now()-n.startTime,i=F(n.headers,function(e){return e[0]in t._reqHeaderWhitelist}),o=F(M(e.getAllResponseHeaders()),function(e){return e[0]in t._rspHeaderWhitelist}),s=this.responseBody(n.url,e),u=s[0],c=s[1];this._events.push([n.method,h.scrubUrl(n.url,this._ctx.options.orgId,{source:"event",type:a.RawEventKind.AJAX_REQUEST}),r,e.status,i,o,n.startTime,n.reqSize,u,n.reqBody?n.reqBody:null,c||null])}},e.prototype.findWhitelistIndexFor=function(e){if(this._reqBodyRegex){var t=this._reqBodyRegex.exec(e);if(t)for(var n=1;n<t.length;n++)if(void 0!==t[n])return n-1}return-1},e.prototype.requestBody=function(e,t){if(null==t)return[0,void 0];var n=this.findWhitelistIndexFor(e),r=n>=0&&this._reqWhitelist[n],i=typeof t;if("string"==i)return m(t,r);if("object"==i){var o=i.constructor;switch(o){case String:case Object:default:return w(t,r);case Blob:return b(t,r);case ArrayBuffer:return S(t,r);case Document:case FormData:case URLSearchParams:case ReadableStream:return[-1,r?""+o.name:void 0];}}return[-1,r?"[unknown]":void 0]},e.prototype.responseBody=function(e,t){var n=this.findWhitelistIndexFor(e),r=n>=0&&this._rspWhitelist[n];if(t.responseType){var o=t.response;switch(o||i.logIfDebug("Maybe response type was different that expected."),t.responseType){case"text":return E(t.responseText,r);case"json":return T(o,r);case"arraybuffer":return R(o,r);case"blob":return k(o,r);case"document":return I(o,r);}}return E(t.responseText,r)},e}();function m(e,t){return[e.length,A(e,t)]}function w(e,t){var n=void 0;return!1!==t&&(n=u.whitelistedJson(e,a.Constants.MaxPayloadLength,t)),[C(e),n]}function S(e,t){var n=void 0;return t&&(n="[ArrayBuffer]"),[e.byteLength,n]}function b(e,t){var n=void 0;return t&&(n="[Blob]"),[e.size,n]}function E(e,t){return e?[e.length,A(e,t)]:[-1,void 0]}function T(e,t){return e?[C(e),u.whitelistedJson(e,a.Constants.MaxPayloadLength,t)]:[-1,void 0]}function I(e,t){return[-1,t?"[Document]":void 0]}function R(e,t){return[e?e.byteLength:-1,t?"[ArrayBuffer]":void 0]}function k(e,t){return[e?e.size:-1,t?"[Blob]":void 0]}function C(e){try{return c.windex.jsonStringify(e).length}catch(e){}return 0}function x(e){return e._fs}function A(e,t){if(0!=t)try{return u.whitelistedJson(c.windex.jsonParse(e),a.Constants.MaxPayloadLength,t)}catch(n){return 1==t?e.slice(0,a.Constants.MaxPayloadLength):void 0}}function O(e,t){switch(e){default:case a.AjaxBodyPolicy.Elide:return!1;case a.AjaxBodyPolicy.Record:return!0;case a.AjaxBodyPolicy.Whitelist:try{return o.parseFieldPatterns(t)}catch(e){return i.logIfDebug("error parsing field whitelist ("+t+": "+e),!1}}}function M(e){var t=[];return e.split(f).forEach(function(e){var n=e.indexOf(":");-1!=n?t.push([e.slice(0,n).trim(),e.slice(n+1,e.length).trim()]):t.push([e.trim(),null])}),t}function F(e,t){var n="";return e.forEach(function(e){e[0]=e[0].toLowerCase();var r=t(e);n+=e[0]+(r?": "+e[1]:"")+f}),n}t.AjaxWatcher=y,t._reqBodyString=m,t._reqBodyObject=w,t._reqBodyArrayBuffer=S,t._reqBodyBlob=b,t._rspBodyText=E,t._rspBodyObject=T,t._rspBodyDocument=I,t._rspBodyArrayBuffer=R,t._rspBodyBlob=k,t.parseHeaders=M},function(e,t,n){"use strict";t.__esModule=!0;var r=n(29),i=n(4),o=r.parseFieldPatterns("**");t.whitelistedJson=function(e,t,n){var r;if(n){r=1==n?o:n;try{var s=0,a=[1],u=[],c={};return c[r.id]=r,u.push(c),i.windex.jsonStringify(e,function(e,n){var r=n&&"object"==typeof n;if(""==e&&1==a.length)return a[0]--,r&&a.push(i.windex.objectKeys(n).length),n;var o={},c=u[u.length-1],d=!0,h=!1,l=function(e){o[e.id]=e,d=!1,e.term&&(h=!0)};for(var f in c){var p=c[f];e in p.edges&&l(p.edges[e]),"*"in p.edges&&l(p.edges["*"]),p.loop&&l(p)}for((d||!r&&!h)&&(n=null),s+=e.length+2,(s+=r?2:null===n?4:n.toString().length)>=t&&(n=void 0),a[a.length-1]--,n&&r&&(a.push(i.windex.objectKeys(n).length),u.push(o));a[a.length-1]<=0;)a.pop(),u.pop();return n})}catch(e){}return"[error serializing "+e.constructor.name+"]"}}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(1),o=n(3),s=n(5),a=n(0),u=n(23),c=n(58),d=n(8),h=n(2),l=n(59),f=n(6),p=function(){function e(t,n){var r=this;this.ctx=t,this.queue=n,this.hooks=[],this.removeShims=[],this.nextSheetId=1;var i=e;this.throttle=new s.Throttle(i.ThrottleMax,i.ThrottleInterval,function(){return setTimeout(function(){r.queue.enqueue({Kind:a.RawEventKind.FAIL_THROTTLED,Args:[a.ThrottledTask.StyleSheetHooks]}),r.stop()})}),this.addInsert=this.throttle.guard(this.addInsert),this.addDelete=this.throttle.guard(this.addDelete)}return e.prototype.start=function(){var e=this;this.throttle.open();var t=this.ctx.window;if(t.CSSStyleSheet&&t.StyleSheet){var n,r=t.CSSStyleSheet.prototype;(n=i.activateHook(r,"insertRule"))&&(n.afterSync(function(t){e.addInsert(t.that,t.args[0],t.args[1])}),this.hooks.push(n)),(n=i.activateHook(r,"deleteRule"))&&(n.afterSync(function(t){e.addDelete(t.that,t.args[0])}),this.hooks.push(n)),this.removeShims.push(i.shimProp(t.StyleSheet,"disabled",function(t,n){return e.onDisableSheet(t,n)}),i.shimProp(t.Document,"adoptedStyleSheets",function(t,n){return e.onSetAdoptedStyleSheets(t)}),i.shimProp(t.ShadowRoot,"adoptedStyleSheets",function(t,n){return e.onSetAdoptedStyleSheets(t)}))}},e.prototype.onSetAdoptedStyleSheets=function(e){if(f.fsid(e)){var t=e.adoptedStyleSheets;if(t){for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r],s=this.snapshotConstructedStylesheet(o);n.push(s),!0===o.disabled&&this.onDisableSheet(o,!0)}this.queue.enqueue({Kind:a.RawEventKind.ADOPTED_STYLESHEETS,Args:[f.fsid(e),n]})}}},e.prototype.snapshotEl=function(e,t){void 0===t&&(t=0);var n=f.fsid(e);if(n){var r=c.elemSheet(e);r&&this.snapshot([a.SheetOwner.Node,n],r,t)}},e.prototype.snapshotConstructedStylesheet=function(e){var t=m(e);if(void 0!==t)return t;var n=this.nextSheetId++;return function(e,t){e._fs=t}(e,n),this.snapshot([a.SheetOwner.Sheet,n],e),n},e.prototype.snapshot=function(e,t,n){void 0===n&&(n=0);var i=c.sheetRules(t);if(i){for(var o=[],s=n;s<i.length;s++)try{o.push(r(i[s]))}catch(e){o.push("html {}")}this.queue.enqueue({Kind:a.RawEventKind.CSSRULE_INSERT,Args:[e,o,n]})}},e.prototype.addInsert=function(t,n,r){var i=y(t,a.SheetOwner.Node);i&&"string"==typeof n&&(n.length>e.MaxRuleBytes&&(o.logIfDebug("CSSRule too large, inserting dummy instead: "+n.length),n="dummy {}"),this.withEventQueueForSheet(t,function(e){return e.enqueue({Kind:a.RawEventKind.CSSRULE_INSERT,Args:"number"==typeof r?[i,[n],r]:[i,[n]]})}))},e.prototype.addDelete=function(e,t){var n=y(e,a.SheetOwner.Node);n&&this.withEventQueueForSheet(e,function(e){return e.enqueue({Kind:a.RawEventKind.CSSRULE_DELETE,Args:[n,t]})})},e.prototype.onDisableSheet=function(e,t){var n=y(e,a.SheetOwner.Node);n&&this.withEventQueueForSheet(e,function(e){return e.enqueue({Kind:a.RawEventKind.DISABLE_STYLESHEET,Args:[n,!!t]})})},e.prototype.withEventQueueForSheet=function(e,t){e.ownerNode?l.withEventQueueFor(this.ctx,e.ownerNode,t):t(this.queue)},e.prototype.stop=function(){this.throttle.close();for(var e=0,t=this.hooks;e<t.length;e++){t[e].disable()}this.hooks=[];for(var n=0,r=this.removeShims;n<r.length;n++){(0,r[n])()}this.removeShims=[]},e.ThrottleMax=1e4,e.ThrottleInterval=1e4,e.MaxRuleBytes=16384,e}();t.StyleSheetWatcher=p;var _=document.createElement("div");function g(e,t){if(void 0===t&&(t=0),!h.assert(t<=20,"No deep recursion for CSS rules"))return"html { /* Depth limit exceeded! */ }";var n=function(e){switch(e.type){case CSSRule.PAGE_RULE:var t=e.selectorText||"";return t&&i.hasPrefix(t,"@page")?t:"@page "+t;case CSSRule.KEYFRAME_RULE:return e.keyText;case CSSRule.STYLE_RULE:return e.selectorText;case CSSRule.MEDIA_RULE:return"@media "+e.media.mediaText;case CSSRule.KEYFRAMES_RULE:return"@keyframes "+e.name;case CSSRule.SUPPORTS_RULE:return"@supports "+e.conditionText;default:return null;}}(e);if(null==n)return e.cssText;var r=function(e,t){var n=e,r=n.style;if(r){for(var i="",o=0;o<r.length;o++){var s=r[o],a=c.getCssPropertyValue(r,s);i+=s+": "+a,"important"===r.getPropertyPriority(s)&&(i+=" !important"),i+="; "}return i}var u=n.cssRules;if(!u)return null;var d="";for(o=0;o<u.length;o++)d+=g(u[o],t+1);return d}(e,t);return null==r?e.cssText:n+" { "+r+"} "}_.style.width="initial",r=""!=_.style.cssText?function(e){return e.cssText}:g,t._jsCssText=g;var v=/^\s*$/;function y(e,t){var n=function(e){var t=m(e);if(t)return[a.SheetOwner.Sheet,t];var n=f.fsid(e.ownerNode);if(n)return[a.SheetOwner.Node,n];return}(e);if(n){var r=n[0],i=n[1];return r===t?i:n}}function m(e){return e._fs}t.getDynamicRuleTail=function(e){var t=e.textContent||"";if(!(t.length>5e5)){var n=c.sheetRules(c.elemSheet(e));if(n){if(n.length>0&&v.test(t))return 0;var r,i=u.theDummyDoc();d.uaIsIE?(r=i.createElement("style")).textContent=e.textContent:r=i.importNode(e,!0),i.head.appendChild(r);var o=c.sheetRules(c.elemSheet(r));if(i.head.removeChild(r),o)return n.length>o.length?o.length:void 0}}}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(23);t.elemSheet=function(e){return e?e.sheet:void 0},t.sheetRules=function(e){try{return e?e.cssRules||e.rules:void 0}catch(e){return}},t.getCssPropertyValue=function(e,t){var n=function(e,t){var n=e;if("function"==typeof n.getPropertyCSSValue){var o=n.getPropertyCSSValue(t);if(null!=o){var s;switch(o.cssValueType){case 1:s=o;break;case 2:if(1!==o.length)return;var a=o.item(0);if(null==a)return;if(1!==a.cssValueType)return;s=a;break;default:return;}if(19===s.primitiveType){var u=i.theDummyDoc();r||(r=u.createElement("div"));var c=s.cssText;try{r.style.cssText=t+": \""+c+"\";";var d=r.style.getPropertyCSSValue(t);if(null==d)return;if(c!==d.cssText)return}catch(e){return}finally{r.style.cssText=""}return"\""+c+"\""}}}}(e,t);return void 0!==n?n:e.getPropertyValue(t)}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(16),i=n(2),o="EventQueue not defined for 'withEventQueueFor', likely caused by holding ref to callback";t.withEventQueueFor=function(e,t,n){var a=s(t)||e.window,u=r.getBrowserApi(a);u&&"function"==typeof u._withEventQueue&&u._withEventQueue(e.recording.pageSignature(),function(e){n({enqueue:function(t){i.assert(null!=e,o)&&e.enqueue(t)},enqueueFirst:function(t){i.assert(null!=e,o)&&e.enqueueFirst(t)}}),e=null})};var s=function(e){var t=e.ownerDocument;return t&&t.defaultView}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),i=n(2),o=n(8),s=n(6),a=function(){function e(e,t,n){this._ctx=e,this._q=t,this._listeners=n.createChild()}return e.prototype.start=function(){var e=this,t=this._ctx.window.document;this._listeners.addCustom(t,this.getFullscreenChangeEvent(),!0,function(t){e.onFullscreenChange(t)}),this._listeners.addCustom(t,this.getFullscreenErrorEvent(),!0,function(t){e.onFullscreenError(t)})},e.prototype.stop=function(){this._listeners&&this._listeners.clear()},e.prototype.onFullscreenChange=function(e){var t=this.getFullscreenElement();if(t){var n=s.fsid(t);i.assert(null==this._previousFullscreenFSID,"Error: Received fullscreen signal but we think we are already in fullscreen?"),this._q.enqueue({Kind:r.RawEventKind.FULLSCREEN,Args:[n,!0]}),this._previousFullscreenFSID=n}else i.assert(null!=this._previousFullscreenFSID,"Error: Received fullscreen exit signal but have no previous fullscreen event?"),this._q.enqueue({Kind:r.RawEventKind.FULLSCREEN,Args:[this._previousFullscreenFSID,!1]}),this._previousFullscreenFSID=void 0},e.prototype.onFullscreenError=function(e){this._q.enqueue({Kind:r.RawEventKind.FULLSCREEN_ERROR,Args:[]})},e.prototype.getFullscreenElement=function(){var e=this._ctx.window.document;return e[o.uaPrefixedPropety(e,"fullscreenElement")]},e.prototype.getFullscreenChangeEvent=function(){var e=this._ctx.window.document;return o.uaPrefixedPropety(e,"onfullscreenchange").slice(2)},e.prototype.getFullscreenErrorEvent=function(){var e=this._ctx.window.document;return o.uaPrefixedPropety(e,"onfullscreenerror").slice(2)},e}();t["default"]=a},function(e,t,n){"use strict";t.__esModule=!0;var r=/^\s*at .*(\S+\:\d+|native|(<anonymous>))/m,i=/^(eval@)?(\[native code\])?$/;function o(e){if(!e||"string"!=typeof e.stack)return[];var t=e;return t.stack.match(r)?t.stack.split("\n").filter(function(e){return!!e.match(r)}).map(function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/\(native code\)/,"").split(/\s+/).slice(1),n=a(t.pop());return s(t.join(" "),["eval","<anonymous>"].indexOf(n[0])>-1?"":n[0],n[1],n[2])}):function(e){return e.split("\n").filter(function(e){return!e.match(i)}).map(function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return[e,"",-1,-1];var t=e.split("@"),n=a(t.pop());return s(t.join("@"),n[0],n[1],n[2])})}(t.stack)}function s(e,t,n,r){return[e||"",t||"",parseInt(n||"-1"),parseInt(r||"-1")]}function a(e){if(!e||-1===e.indexOf(":"))return["","",""];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(e.replace(/[\(\)]/g,""));return t?[t[1]||"",t[2]||"",t[3]||""]:["","",""]}t.genStackTrace=function(){try{throw new Error}catch(e){return o(e).slice(1)}},t.stackTraceFromError=o},function(e,t,n){"use strict";t.__esModule=!0;var r=n(63),i=n(0),o=n(5),s=function(){function e(e,t,n,s){void 0===n&&(n=function(){return[]}),void 0===s&&(s=o.RealTicker),this._ctx=e,this._transport=t,this._gatherExternalEvents=n,this._tickerFactory=s,this._recordingDisabled=!1,this._lastWhen=-1,this._gotUnload=!1,this._eventQueue=[],this._sampleCurvesTicker=new this._tickerFactory(i.Constants.CurveSamplingInterval),this._processMutationsTicker=new this._tickerFactory(i.Constants.MutationProcessingInterval),this._processor=new r.EventProcessor(e)}return e.prototype.startPipeline=function(e,t,n,r){var i=this;void 0===n&&(n=0),void 0===r&&(r=[]),this._recordingDisabled||this._pipelineStarted||(this._pipelineStarted=!0,this._frameId=n,this._parentIds=r,this.processEvents(),this._processMutationsTicker.start(function(){i.processEvents()}),this._sampleCurvesTicker.start(function(){i.processEvents(!0)}),this._transport.startPipeline(e,t))},e.prototype.enqueue=function(e){this.enqueueAt(this._ctx.time.now(),e),o.Scheduler.checkForBrokenSchedulers()},e.prototype.enqueueAt=function(e,t){if(!this._recordingDisabled){e<=this._lastWhen&&(e=this._lastWhen+1),this._lastWhen=e;var n=t;n.When=e,this._eventQueue.push(n)}},e.prototype.enqueueFirst=function(e){if(this._eventQueue.length>0){var t=e;t.When=this._eventQueue[0].When,this._eventQueue.unshift(t)}else this.enqueue(e)},e.prototype.addUnload=function(e){this._gotUnload||(this._gotUnload=!0,this.enqueue({Kind:i.RawEventKind.UNLOAD,Args:[e]}),this.singSwanSong())},e.prototype.shutdown=function(e){this._flush(),this.addUnload(e),this._flush(),this._recordingDisabled=!0,this.stopPipeline()},e.prototype._flush=function(){this.processEvents(),this._transport.flush()},e.prototype.singSwanSong=function(){this._recordingDisabled||(this.processEvents(),this._transport.singSwanSong())},e.prototype.rebaseIframe=function(e){for(var t=0,n=this._eventQueue.length;t<n;t++){var r=this._eventQueue[t],i=r.When+this._ctx.time.startTime()-e;i<0&&(i=0),r.When=i}},e.prototype.processEvents=function(e){if(this._pipelineStarted){var t=this._eventQueue;this._eventQueue=[];var n=this._processor.processQueue(t);e||(n=n.concat(this._gatherExternalEvents(0!=n.length))),this.ensureFrameIds(n),0!=n.length&&this._transport.enqueueEvents(this._ctx.recording.pageSignature(),n)}},e.prototype.ensureFrameIds=function(e){if(this._frameId)for(var t=this._parentIds,n=t&&t.length>0,r=0;r<e.length;++r){var i=e[r];i.FId||(i.FId=this._frameId),n&&!i.PIds&&(i.PIds=t)}},e.prototype.stopPipeline=function(){this._pipelineStarted&&(this._sampleCurvesTicker.stop(),this._processMutationsTicker.stop(),this._eventQueue=[],this._transport.stopPipeline())},e}();t.EventQueue=s},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),i=function(){function e(e,t){this._q=e,this._valueIndices=t,this._evts=[]}return e.prototype.add=function(e){0==this._evts.length&&this._q.push(e),this._evts.push(e)},e.prototype.finish=function(e,t){var n=this._evts.length;if(n<=1)return!1;for(var r=this._evts[0].When,i=this._evts[n-1].When,o=0;o<this._valueIndices.length;++o){var s=this._valueIndices[o],a=this._evts[0].Args[s],u=(this._evts[1].When-r)/(i-r),c=(this._evts[1].Args[s]-a)/u,d=this._evts[n-2].Args[s],h=(i-this._evts[n-2].When)/(i-r),l=this._evts[n-1].Args[s],f=(l-d)/h;t.push(a,l,c,f)}return this._evts[0].Kind=e,this._evts[0].Args=t,!0},e.prototype.evts=function(){return this._evts},e}(),o=function(){function e(e){this._ctx=e}return e.prototype.processQueue=function(e){if(0==e.length)return e;for(var t,n=this._ctx.time.now(),o=[],s=new i(o,[0,1]),a={},u={},c={},d=0;d<e.length;++d){var h=e[d];switch(h.Kind){case r.RawEventKind.MOUSEMOVE:s.add(h);break;case r.RawEventKind.TOUCHMOVE:(p=h.Args[0])in a||(a[p]=new i(o,[1,2])),a[p].add(h);break;case r.RawEventKind.SCROLL_LAYOUT:(p=h.Args[0])in u||(u[p]=new i(o,[1,2])),u[p].add(h);break;case r.RawEventKind.SCROLL_VISUAL_OFFSET:(p=h.Args[0])in c||(c[p]=new i(o,[1,2])),c[p].add(h);break;case r.RawEventKind.RESIZE_VISUAL:t||(t=new i(o,[0,1])),t.add(h);break;default:o.push(h);}}if(s.finish(r.RawEventKind.MOUSEMOVE_CURVE,[n])){var l=s.evts();if(l.length>0){var f=l[l.length-1].Args[2];if(f)l[0].Args[9]=f}}for(var p in u){u[_=parseInt(p)].finish(r.RawEventKind.SCROLL_LAYOUT_CURVE,[n,_])}for(var p in c){c[_=parseInt(p)].finish(r.RawEventKind.SCROLL_VISUAL_OFFSET_CURVE,[n,_])}for(var p in a){var _;a[_=parseInt(p)].finish(r.RawEventKind.TOUCHMOVE_CURVE,[n,_])}return t&&t.finish(r.RawEventKind.RESIZE_VISUAL_CURVE,[n]),o},e}();t.EventProcessor=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r["throw"](e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};t.__esModule=!0;var o=n(5),s=n(12),a=n(1),u=n(31),c=n(3),d=n(2),h=n(0),l=n(9),f=n(65),p=n(7),_=6e6,g=function(){function e(e,t,n,r,i){void 0===r&&(r=window.FormData),void 0===i&&(i=o.RealTimeout),this.ctx=e,this.queue=t,this.protocol=n,this.FormDataCtr=r,this.Timeout=i,this.started={},this.byUrl={},this.batchReady=!1,this.existsBatch=[]}return e.prototype.init=function(){this.FormDataCtr&&this.main()["catch"](function(e){d.FsBugSnag.sendToBugsnag(e,"error")})},e.prototype.main=function(){return r(this,void 0,l.FSPromise,function(){var e,t,n,o,s,u,h,f,p,_,g=this;return i(this,function(v){switch(v.label){case 0:return[4,this.getBatch()];case 1:for(e=v.sent(),t={fsnv:a.map(e,function(e){return e.hash})},n={},o=0,s=e;o<s.length;o++)u=s[o],n[u.hash]=u;h=this.ctx.options.orgId,v.label=2;case 2:return v.trys.push([2,4,,5]),[4,this.protocol.newResources(h,t)];case 3:return f=v.sent(),[3,5];case 4:return p=v.sent(),c.logIfDebug("/rec/newResources failed with status "+p),[3,0];case 5:try{_=JSON.parse(f)}catch(e){return d.FsBugSnag.sendToBugsnag("Error parsing /rec/newResources response","error"),[3,0]}return[4,a.forInAsync(_,function(e,t){return r(g,void 0,l.FSPromise,function(){var r,o,s,a,u,l,f,p,_;return i(this,function(i){switch(i.label){case 0:if("fsnv"!=t)return[2];r=0,o=e,i.label=1;case 1:if(!(r<o.length))return[3,6];if(s=o[r],null==(a=n[s]))return d.FsBugSnag.sendToBugsnag("Server told us to upload a hash we don't have","error"),[3,5];if(u=a.url,l=a.contentType,!(f=a.blob||a.stringData))return d.FsBugSnag.sendToBugsnag("Missing resource contents","error"),[3,5];if(p=a.blob||new Blob([f],{type:l}),null==f)return d.FsBugSnag.sendToBugsnag("Tried to re-upload a resource","error"),[3,5];(_=new this.FormDataCtr).append("orgId",h),_.append("baseUrl",u),_.append("fsnvHash",s),_.append("contents",p,"blob"),a.blob=a.stringData=null,i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this.protocol.uploadResource(_)];case 3:return i.sent(),[3,5];case 4:return i.sent(),c.logIfDebug("Server error uploading resource"),[3,5];case 5:return r++,[3,1];case 6:return[2];}})})})];case 6:return v.sent(),[3,0];case 7:return[2];}})})},e.prototype.getBatch=function(){var e=this,t=u.createFSPromise(),n=t.resolve,r=t.promise,i=function(){e.popBatch=null,e.batchReady=!1;var t=e.existsBatch;e.existsBatch=[],n(t)};return this.batchReady?i():this.popBatch=i,r},e.prototype.uploadIfNeeded=function(e,t){return r(this,void 0,l.FSPromise,function(){var n,r,o=this;return i(this,function(i){switch(i.label){case 0:return this.FormDataCtr?this.started[t]?[2]:y(e,t)?(this.started[t]=!0,[4,this.processResource(t)]):[2]:[2];case 1:return(n=i.sent())?(r=0==this.existsBatch.length,this.existsBatch.push(n),r&&new this.Timeout(function(){o.batchReady=!0,o.popBatch&&o.popBatch()},50).start(),[2]):[2];}})})},e.prototype.processResource=function(e){return r(this,void 0,l.FSPromise,function(){var t,n,r;return i(this,function(i){switch(i.label){case 0:return this.byUrl[e]?[2,this.byUrl[e]]:[4,v(e,this.ctx.options.orgId)];case 1:return(t=i.sent())?[4,f.hash128NonBlocking(this.ctx.time,u.wait,t.buffer)]:[2,null];case 2:return n=i.sent().hash,r={hash:n,url:e,blob:t.blob,contentType:t.contentType},this.byUrl[r.url]=r,this.queue.enqueue({Kind:h.RawEventKind.SYS_RESOURCEHASH,Args:["url",e,r.hash]}),[2,r];}})})},e}();function v(e,t){var n=u.createFSPromise(),r=n.resolve,i=n.promise,o=new XMLHttpRequest;return"string"!=typeof o.responseType?(r(null),i):(o.open("GET",e),o.responseType="blob",o.onerror=function(){r(null)},o.onload=function(){if(200!=o.status)return c.logIfDebug("Error loading blob resource "+p.scrubUrl(e,t,{source:"log",type:"debug"})),void r(null);var n=o.response;if((n.size||n.length)>_){var i=p.scrubUrl(e,t,{source:"log",type:"bugsnag"});return d.FsBugSnag.sendToBugsnag("Size of blob resource exceeds limit","warning",{url:i,MaxResourceSizeBytes:_}),void r(null)}(function(e){var t=u.createFSPromise(),n=t.resolve,r=t.promise,i=new FileReader;return i.readAsArrayBuffer(e),i.onload=function(){n(i.result)},i.onerror=function(e){d.FsBugSnag.sendToBugsnag(e,"error"),n(null)},r})(n).then(function(e){r(e?{buffer:e,blob:n,contentType:n.type}:null)})},o.send(),i)}function y(e,t){var n=s.parseUrl(s.baseUri(e),t);switch(n.protocol){case"blob:":return!0;case"http:":case"https:":switch(n.hostname){case"localhost":case"127.0.0.1":case"[::1]":return e.location.protocol===n.protocol&&e.location.host===n.host;default:return!1;}default:return!1;}}t.ResourceUploader=g,t.shouldUpload=y},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r["throw"](e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};t.__esModule=!0;var o=n(24),s=n(9),a=1e4,u=25,c=100;t.hash128NonBlocking=function(e,t,n,d){return void 0===d&&(d=new o._FSNV),r(this,void 0,s.FSPromise,function(){var r,o,s,h;return i(this,function(i){switch(i.label){case 0:r=e.now(),o=n.byteLength,s=0,i.label=1;case 1:return s<o?e.now()-r>u?[4,t(c)]:[3,3]:[3,5];case 2:i.sent(),r=e.now(),i.label=3;case 3:h=new Uint8Array(n,s,Math.min(o-s,a)),d.write(h),i.label=4;case 4:return s+=a,[3,1];case 5:return[2,{hash:d.sum(),hasher:d}];}})})}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var o=n(18),s=n(5),a=n(10),u=n(22),c=n(1),d=n(3),h=n(0),l=n(12),f=n(67),p=n(7),_=function(e){function t(t,n,r,i,u){void 0===r&&(r=new f.NetworkEventTransport(t,n)),void 0===i&&(i=s.RealTicker),void 0===u&&(u=o.defaultInjector);var c=e.call(this,t,i,r,u)||this;return c._protocol=n,c._domLoaded=!1,c._recordingDisabled=!1,c._integrationScriptFetched=!1,r.onShutdown(function(){return c.shutdown(h.UnloadReason.SettingsBlocked)}),c._doc=c._wnd.document,c._frameId=0,c._identity=t.recording.identity,c._getCurrentSessionEnabled=o.GetCurrentSessionEnabledState.NoInfoYet,a.set_fs_shutdown(c._wnd,function(e){if(c._eventWatcher.shutdown(h.UnloadReason.Api),e){var t=c._doc.getElementById(e);t&&t.setAttribute("_fs_embed_token",c._embedToken)}}),c}return i(t,e),t.prototype.onDomLoad=function(){var t=this;e.prototype.onDomLoad.call(this),this._domLoaded=!0,this.injectIntegrationScript(function(){t.fireFsReady(t._recordingDisabled)})},t.prototype.start=function(t,n,r){var i=this;e.prototype.start.call(this,t,n);var o=a._fs_replay_flags(this._wnd),s=u.getDocumentClientArea(this._doc),d=s[0],f=s[1],_=c.tryGetScreenDims(this._wnd),g=_[0],v=_[1],y="";t||(y=this._identity.userId());var m=p.scrubUrl(l.baseUri(this._wnd),this._orgId,{source:"page",type:"base"}),w=p.scrubUrl(this._doc.referrer,this._orgId,{source:"page",type:"referrer"}),S=p.scrubUrl(this._wnd.location.href,this._orgId,{source:"page",type:"url"}),b={OrgId:this._orgId,UserId:y,Url:S,Base:m,Width:d,Height:f,ScreenWidth:g,ScreenHeight:v,Referrer:w,Doctype:c.doctypeString(this._doc),CompiledTimestamp:1575988695};r&&(b.AppId=r),o&&(b.ReplayFlags=o),this._protocol.page(b,function(e){i.handleResponse(e),i.handleIdentity(e.CookieDomain,e.UserIntId,e.SessionIntId,e.PageIntId,e.EmbedToken),i.handleIntegrationScript(e.IntegrationScript);var t=!!e.Consented;i._queue.enqueueFirst({Kind:h.RawEventKind.SYS_REPORTCONSENT,Args:[t]}),i._queue.enqueueFirst({Kind:h.RawEventKind.SET_FRAME_BASE,Args:[p.scrubUrl(l.baseUri(i._wnd),i._orgId,{source:"event",type:h.RawEventKind.SET_FRAME_BASE}),c.doctypeString(i._doc)]}),i._queue.startPipeline(e.PageIntId,e.PageStart),i.fullyStarted()},function(e){i.disableBecauseRecPageSaidSo()})},t.prototype.handleIntegrationScript=function(e){var t=this;this._integrationScriptFetched=!0,this._integrationScript=e,this.injectIntegrationScript(function(){t.fireFsReady(t._recordingDisabled)})},t.prototype.handleIdentity=function(e,t,n,r,i){var o=this._identity;o.setIds(this._wnd,e,t,n),this._embedToken=i,d.logIfDebug("/User,"+o.userId()+"/Session,"+o.sessionId()+"/Page,"+r)},t.prototype.injectIntegrationScript=function(e){if(this._domLoaded&&this._integrationScriptFetched)if(this._integrationScript){var t=this._doc.createElement("script");a._fs_csp(this._wnd)?(t.addEventListener("load",e),t.addEventListener("error",e),t.async=!0,t.src=this._scheme+"//"+this._recHost+"/rec/integrations?OrgId="+this._orgId,this._doc.head.appendChild(t)):(t.text=this._integrationScript,this._doc.head.appendChild(t),e())}else e()},t.prototype.disableBecauseRecPageSaidSo=function(){this.shutdown(h.UnloadReason.SettingsBlocked),d.logIfDebug("Disabling FS."),this._recordingDisabled=!0,this.fireFsReady(this._recordingDisabled)},t}(o.AbstractRecorder);t.TopRecorder=_},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),i=n(68),o=n(5),s=n(32),a=n(20),u=n(2),c=n(3),d=function(){function e(e,t,n,s){var u=this;void 0===t&&(t=new a.HttpProtocol(e)),void 0===n&&(n=o.RealTicker),void 0===s&&(s=o.RealTimeout),this._ctx=e,this._protocol=t,this._tickerFactory=n,this._backoffRetries=0,this._backoffTime=0,this._bundleSeq=1,this._lastPostTime=0,this._serverBundleTime=0,this._largePageSize=16e6,this._outgoingEventQueue=[],this._bundleQueue=[],this._hibernating=!1,this._heartbeatInterval=0,this._lastUserActivity=this._ctx.time.wallTime(),this._finished=!1,this._scheme=e.options.scheme,this._identity=e.recording.identity,this._lastBundleTime=e.time.wallTime(),this._swanSong=new i.SwanSong(e,this._protocol,this._identity,s),this._heartbeatTimeout=new s(function(){var e=Math.floor(u._ctx.time.wallTime()-u._lastUserActivity);u._outgoingEventQueue.push({When:u._ctx.time.now(),Kind:r.RawEventKind.HEARTBEAT,Args:[e]}),u._heartbeatInterval*=2,u._heartbeatInterval>r.Constants.HeartbeatMax&&(u._heartbeatInterval=r.Constants.HeartbeatMax),u._heartbeatTimeout.start(u._heartbeatInterval)}),this._hibernationTimeout=new s(function(){Math.floor(u._ctx.time.wallTime()-u._lastUserActivity)<=2*r.Constants.PageInactivityTimeout&&(u._outgoingEventQueue.push({When:u._ctx.time.now(),Kind:r.RawEventKind.UNLOAD,Args:[r.UnloadReason.Hibernation]}),u.singSwanSong()),u.stopPipeline(),u._hibernating=!0},r.Constants.PageInactivityTimeout)}return e.prototype.onShutdown=function(e){this._onShutdown=e},e.prototype.scheme=function(){return this._scheme},e.prototype.enqueueEvents=function(e,t){if(this._hibernating){if(this._finished)return;for(var n=0,i=t;n<i.length;n++){var o=i[n];if(r.isUserActionEvent(o.Kind)){this._ctx.recording.splitPage(r.UnloadReason.Hibernation),this._finished=!0;break}}}else{for(var s=0,a=t;s<a.length;s++){o=a[s];if(r.isUserActionEvent(o.Kind)){this._hibernationTimeout.start(),this._heartbeatInterval=r.Constants.HeartbeatInitial,this._heartbeatTimeout.start(this._heartbeatInterval),this._lastUserActivity=this._ctx.time.wallTime();break}}for(var u=0,c=t;u<c.length;u++){o=c[u];this._outgoingEventQueue.push(o)}}},e.prototype.initUploadTicker=function(){this._uploadTicker=new this._tickerFactory(this._ctx.recording.bundleUploadInterval())},e.prototype.startPipeline=function(e,t){var n=this;this._pageId=e,this._serverPageStart=t,this.enqueueAndSendBundle(),this._uploadTicker||this.initUploadTicker(),this._uploadTicker.start(function(){n.enqueueAndSendBundle()}),this._heartbeatInterval=r.Constants.HeartbeatInitial,this._heartbeatTimeout.start(this._heartbeatInterval),this._hibernationTimeout.start()},e.prototype.stopPipeline=function(){this._uploadTicker&&this._uploadTicker.stop(),this._outgoingEventQueue=[],this._bundleQueue=[],this._hibernationTimeout.stop(),this._heartbeatTimeout.stop()},e.prototype.flush=function(){this.maybeSendNextBundle()},e.prototype.singSwanSong=function(){if(!this._hibernating&&(this._outgoingEventQueue.length>0&&this.enqueueNextBundle(!0),this._bundleQueue.length>0||this._pendingBundle)){var e=this._bundleQueue.concat();this._pendingBundle&&e.unshift(this._pendingBundle),this._swanSong.sing(this._pageId,e,this._lastBundleTime,this._serverPageStart,this._serverBundleTime)}},e.prototype.enqueueAndSendBundle=function(){this._pendingBundle?this._pendingBundleFailed&&this._sendPendingBundle():0!=this._outgoingEventQueue.length?this.enqueueNextBundle():this.maybeSendNextBundle()},e.prototype.enqueueNextBundle=function(e){void 0===e&&(e=!1);var t={When:this._outgoingEventQueue[0].When,Seq:this._bundleSeq++,Evts:this._outgoingEventQueue};this._outgoingEventQueue=[],this._bundleQueue.push(t),e?this._protocol.bundleBeacon({bundle:t,deltaT:null,orgId:this._identity.orgId(),pageId:this._pageId,serverBundleTime:this._serverBundleTime,serverPageStart:this._serverPageStart,sessionId:this._identity.sessionId(),userId:this._identity.userId(),win:function(){},lose:function(){}}):this.maybeSendNextBundle()},e.prototype.maybeSendNextBundle=function(){this._pageId&&this._serverPageStart&&!this._pendingBundle&&0!=this._bundleQueue.length&&(this._pendingBundle=this._bundleQueue.shift(),this._sendPendingBundle())},e.prototype._sendPendingBundle=function(){var e=this,t=this._ctx.time.wallTime();if(!(t<this._backoffTime)){var n=this._pendingBundle;n&&(this._pendingBundleFailed=!1,this._lastPostTime=this._lastBundleTime=t,this.sendBundle(n,function(t){c.logIfDebug("Sent bundle "+n.Seq+" with "+n.Evts.length+" events"),e._serverBundleTime=t.BundleTime,e._pendingBundle=null,e._backoffTime=0,e._backoffRetries=0,e._ctx.time.wallTime()-e._lastPostTime>e._ctx.recording.bundleUploadInterval()&&e.maybeSendNextBundle()},function(t){if(c.logIfDebug("Failed to send events."),s.isErrorFatal(t))return 206==t&&u.FsBugSnag.sendToBugsnag("Failed to send bundle, probably because of its large size","error"),void(e._onShutdown&&e._onShutdown());e._pendingBundleFailed=!0,e._backoffTime=e._lastPostTime+e._protocol.exponentialBackoffMs(e._backoffRetries++,!1)}))}},e.prototype.sendBundle=function(e,t,n){var i=this._protocol.bundle({bundle:e,deltaT:null,lastUserActivityTime:this._lastUserActivity,orgId:this._identity.orgId(),pageId:this._pageId,serverBundleTime:this._serverBundleTime,serverPageStart:this._serverPageStart,sessionId:this._identity.sessionId(),userId:this._identity.userId(),win:t,lose:n});i>this._largePageSize&&this._bundleSeq>16&&(c.logIfDebug("splitting large page: "+i),this._ctx.recording.splitPage(r.UnloadReason.Size))},e}();t.NetworkEventTransport=d},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),i=n(5),o=n(1),s=n(32),a=n(3),u=function(){function e(e,t,n,r){void 0===r&&(r=i.RealTimeout),this._ctx=e,this._protocol=t,this._identity=n,this._timeoutFactory=r,this._recover()}return e.prototype.sing=function(e,t,n,i,s){a.logIfDebug("Saving "+t.length+" bundles in swan-song.");var u={OrgId:this._identity.orgId(),UserId:this._identity.userId(),SessionId:this._identity.sessionId(),PageId:e,Bundles:t,PageStartTime:this._ctx.time.startTime(),LastBundleTime:n,ServerPageStart:i,ServerBundleTime:s},c=o.stringify(u);if(!(c.length>2e6))try{localStorage[r.SwanSongLocalStorageKey]=c}catch(e){}},e.prototype._recover=function(){try{if(r.SwanSongLocalStorageKey in localStorage){var e=localStorage[r.SwanSongLocalStorageKey]||localStorage.singSwanSong;delete localStorage[r.SwanSongLocalStorageKey],delete localStorage.singSwanSong;var t=o.parseJson(e);if(!(t.Bundles&&t.UserId&&t.SessionId&&t.PageId))return void a.logIfDebug("Malformed swan song found. Ignoring it.");t.OrgId||(t.OrgId=this._identity.orgId()),t.Bundles.length>0&&(a.logIfDebug("Sending "+t.Bundles.length+" bundles as prior page swan song"),this.sendSwanSongBundles(t.OrgId,t.UserId,t.SessionId,t.PageId,t.Bundles,t.ServerPageStart,t.ServerBundleTime,t.LastBundleTime))}}catch(e){a.logIfDebug("Error recovering swan-song: "+e)}},e.prototype.sendSwanSongBundles=function(e,t,n,r,i,u,c,d,h){var l=this;void 0===h&&(h=0);var f=null;if(o.isArray(i)&&0!==i.length&&void 0!==i[0]){1==i.length&&(f=this._ctx.time.wallTime()-(d||0));this._protocol.bundle({bundle:i[0],deltaT:f,orgId:e,pageId:r,serverBundleTime:c,serverPageStart:u,sessionId:n,userId:t,win:function(o){a.logIfDebug("Sent "+i[0].Evts.length+" trailing events from last session as Seq "+i[0].Seq),i.shift(),i.length>0?l.sendSwanSongBundles(e,t,n,r,i,u,o.BundleTime,d):a.logIfDebug("Done with prior page swan song")},lose:function(o){s.isErrorFatal(o)?a.logIfDebug("Fatal error while sending events, giving up"):(a.logIfDebug("Failed to send events from last session, will retry while on this page"),l._lastSwanSongRetryTimeout=new l._timeoutFactory(l.sendSwanSongBundles,l._protocol.exponentialBackoffMs(h,!0),l,e,t,n,r,i,u,c,d,h+1).start())}})}},e}();t.SwanSong=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var o=n(18),s=n(5),a=n(1),u=n(3),c=n(0),d=n(12),h=n(70),l=n(10),f=n(7),p=function(e){function t(t,n,r,i,a){void 0===n&&(n=new h.PostMessagePoster(t.window)),void 0===r&&(r=new h.PostMessageEventTransport(t.window)),void 0===i&&(i=s.RealTicker),void 0===a&&(a=o.defaultInjector);var u=e.call(this,t,i,r,a)||this;return u._messagePoster=n,u}return i(t,e),t.prototype.start=function(t,n){var r=this;e.prototype.start.call(this,t,n),this.sendRequestForFrameId(),this._listeners.add(this._wnd,"load",!1,function(){r._eventWatcher.recordingIsDetached()&&(u.logIfDebug("Recording wrong document. Restarting recording in iframe."),r._ctx.recording.splitPage(c.UnloadReason.FsShutdownFrame))})},t.prototype.postMessageReceived=function(t,n){if(e.prototype.postMessageReceived.call(this,t,n),t==this._wnd.parent||t==this._wnd)switch(n[0]){case o.FS_GREET_CHILD_FRAME:this.sendRequestForFrameId();break;case o.FS_SET_FRAME_ID_CMD:try{var r=n[1],i=n[2],s=n[3],c=n[4],d=n[5],h=n[6],f=n[7],p=n[8];this.setFrameIdFromOutside(r,i,s,c,d,h,f,p)}catch(e){u.logIfDebug("Failed to parse frameId from message: "+a.stringify(n))}break;case o.FS_SET_CONSENT:var _=n[1];this.setConsent(_);break;case o.FS_INIT_MOBILE_CMD:try{var g=JSON.parse(n[1]),v=g.StartTime;if(n.length>2){var y=n[2];if(y.hasOwnProperty("ProtocolVersion"))y.ProtocolVersion>=20180723&&y.hasOwnProperty("OuterStartTime")&&(v=y.OuterStartTime)}var m=g.Host;this.setFrameIdFromOutside(-1,[],v,"https:",l.defaultScript(m),l.defaultAppHost(m),g.OrgId,g.PageResponse)}catch(e){u.logIfDebug("Failed to initialize mobile web recording from message: "+a.stringify(n))}}},t.prototype.sendRequestForFrameId=function(){this._frameId||(0!=this._frameId?this._wnd.parent?(u.logIfDebug("Asking for a frame ID."),this._messagePoster.postMessage(this._wnd.parent,o.FS_REQUEST_FRAME_ID,[])):u.logIfDebug("Orphaned window."):u.logIfDebug("For some reason the outer window attempted to request a frameId"))},t.prototype.setFrameIdFromOutside=function(e,t,n,r,i,o,s,h){e?this._frameId?this._frameId!=e?(u.logIfDebug("Updating frame id from "+this._frameId+" to "+e),this._ctx.recording.splitPage(c.UnloadReason.FsShutdownFrame)):u.logIfDebug("frame Id is already set to "+this._frameId):(u.logIfDebug("FrameId received within frame "+f.scrubUrl(location.href,s,{source:"log",type:"debug"})+": "+e),this._scheme=r,this._script=i,this._appHost=o,this._orgId=s,this._frameId=e,this._parentIds=t,this.handleResponse(h),this.fireFsReady(),this._queue.enqueueFirst({Kind:c.RawEventKind.SET_FRAME_BASE,Args:[f.scrubUrl(d.baseUri(this._wnd),s,{source:"event",type:c.RawEventKind.SET_FRAME_BASE}),a.doctypeString(this._wnd.document)]}),this._queue.rebaseIframe(n),this._ctx.time.setStartTime(n),this._queue.startPipeline(this._pageId,h.PageStart,e,t),this.flushPendingChildFrameInits(),this.fullyStarted()):u.logIfDebug("Outer page gave us a bogus frame Id! Iframe: "+f.scrubUrl(location.href,s,{source:"log",type:"debug"}))},t}(o.AbstractRecorder);t.InnerRecorder=p},function(e,t,n){"use strict";t.__esModule=!0;var r=n(18),i=n(10),o=n(1),s=function(){function e(e,t){void 0===t&&(t=new a(e)),this._wnd=e,this._messagePoster=t}return e.prototype.enqueueEvents=function(e,t){this._messagePoster.postMessage(this._wnd.parent,r.FS_IFRAME_EVENTS,t,e)},e.prototype.startPipeline=function(e,t){},e.prototype.stopPipeline=function(){},e.prototype.flush=function(){},e.prototype.singSwanSong=function(){},e.prototype.onShutdown=function(e){},e}();t.PostMessageEventTransport=s;var a=function(){function e(e){this.wnd=e}return e.prototype.postMessage=function(e,t,n,r){var s=i._fs_transport(this.wnd);if(s)try{s.send(t,o.stringify(n),r)}catch(e){s.send(t,o.stringify(n))}else e.postMessage(u(t,n,r),"*")},e}();function u(e,t,n){var r=[e,t];return n&&r.push(n),o.stringify({__fs:r})}t.PostMessagePoster=a,t.formatPostMessageData=u},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(0),o=n(33),s=n(1),a=n(21),u=n(3),c=n(4),d=n(30),h=n(24);!function(e){e.rec="rec",e.user="user",e.account="account",e.consent="consent",e.customEvent="event",e.log="log"}(r=t.ApiType||(t.ApiType={}));var l={acctId:"str",displayName:"str",website:"str"},f={uid:"str",displayName:"str",email:"str"},p={str:_,bool:g,real:v,"int":y,date:m,strs:w(_),bools:w(g),reals:w(v),ints:w(y),dates:w(m),objs:w(S),obj:S};function _(e){return"string"==typeof e}function g(e){return"boolean"==typeof e}function v(e){return"number"==typeof e}function y(e){return"number"==typeof e&&e-Math.floor(e)==0}function m(e){return!!e&&(e.constructor===Date?!isNaN(e):("number"==typeof e||"string"==typeof e)&&!isNaN(new Date(e)))}function w(e){return function(t){if(!(t instanceof Array))return!1;for(var n=0;n<t.length;n++)if(!e(t[n]))return!1;return!0}}function S(e){return!!e&&"object"==typeof e}var b=/^[a-zA-Z][a-zA-Z0-9_]*$/,E=function(){function e(e){this._identity=e}return e.prototype.identity=function(){return this._identity},e.prototype.api=function(e,t,n){var a=!1,c=[];try{switch(e){case r.rec:return{events:[],recStatus:t?"restart":"shutdown"};case r.log:if(!Array.isArray(t)){var h=typeof t;u.logIfDebug("Expected array-like args instead got: \""+h+"\", value: \""+t+"\"");break}return-1==["log","info","warn","error","debug"].indexOf(t[0])&&t.unshift("log"),{events:[{When:0,Kind:i.RawEventKind.LOG,Args:t.map(function(e){return d.stringifyLogMessage(e,1e3)})}]};case r.consent:var p=typeof t;if("boolean"!=typeof t){u.logIfDebug("Expected consent status of type 'boolean' instead got type: \""+p+"\", value: \""+t+"\"");break}return{events:[{When:0,Kind:i.RawEventKind.SYS_SETCONSENT,Args:[t]}],consent:t};case r.account:c.push.apply(c,this.rawEventsFromApi(i.VarScope.Account,l,t,n));break;case r.user:if("object"!=typeof t)u.logIfDebug("Expected argument of type 'object' instead got type: '"+typeof t+"', value: "+s.stringify(t));else if("uid"in t){var _=t.uid;if(!1===_)this._identity.clearAppId()&&(a=!0),delete t.uid;else{var g=I(_,this._identity),v=g[0],y=g[1];if(!v){switch(y){case o.HighlightTypeFsId:case void 0:break;default:u.logIfDebug("unexpected failReason returned from setAppId: "+y);}return{events:c}}t.uid=v,this._identity.setAppId(t.uid),y==o.HighlightTypeNewUid&&(a=!0)}}c.push.apply(c,this.rawEventsFromApi(i.VarScope.User,f,t,n));break;case r.customEvent:var m=t.n,w=t.p;c.push.apply(c,this.rawEventsFromApi(i.VarScope.Event,{},w,n,m));break;default:u.logIfDebug("invalid operation \""+e+"\"; only \"rec\", \"account\", and \"user\" are supported at present");}}catch(t){u.logIfDebug("unexpected exception handling "+e+" API call: "+t.message)}return{events:c,reidentify:a}},e.prototype.rawEventsFromApi=function(e,t,n,r,o){var a=function e(t,n,r){var o={PayloadToSend:{},ValidationErrors:[]},a=function(r){var i=e(t,n,r);return o.ValidationErrors=o.ValidationErrors.concat(i.ValidationErrors),i.PayloadToSend};return s.forIn(r,function(e,r){var d=function(e,t,n,r){var i=t,o=typeof n;if("undefined"===o)return u.logIfDebug("Cannot infer type of "+o+" "+n),r.push({Type:"vartype",FieldName:t,ValueType:o+" (unsupported)"}),null;if(c.windex.objectHasOwnProp(e,t))return{name:t,type:e[t]};var a=t.lastIndexOf("_");if(-1==a||!R(t.substring(a+1))){var d=function(e){for(var t in p)if(p[t](e))return t;return null}(n);if(null==d)return u.logIfDebug("Cannot infer type of "+o+" "+n),n?r.push({Type:"vartype",FieldName:t}):r.push({Type:"vartype",FieldName:t,ValueType:"null (unsupported)"}),null;a=t.length,u.logIfDebug("Warning: Inferring user variable \""+t+"\" to be of type \""+d+"\""),t=t+"_"+d}var h=[t.substring(0,a),t.substring(a+1)],l=h[0],f=h[1];if("object"===o&&!n)return u.logIfDebug("null is not a valid object type"),r.push({Type:"vartype",FieldName:i,ValueType:"null (unsupported)"}),null;if(!b.test(l)){l=l.replace(/[^a-zA-Z0-9_]/g,"").replace(/^[0-9]+/,""),/[0-9]/.test(l[0])&&(l=l.substring(1)),r.push({Type:"varname",FieldName:i});var _=l+"_"+f;if(u.logIfDebug("Warning: variable \""+i+"\" has invalid characters. It should match /"+b.source+"/. Converted name to \""+_+"\"."),""==l)return null;t=_}if(!R(f))return u.logIfDebug("Variable \""+i+"\" has invalid type \""+f+"\""),r.push({Type:"varname",FieldName:i}),null;if(!function(e,t){return p[e](t)}(f,n))return u.logIfDebug("illegal value "+s.stringify(n)+" for type "+f),"number"===o?o=n%1==0?"integer":"real":"object"==o&&null!=n&&n.constructor==Date&&(o=isNaN(n)?"invalid date":"date"),r.push({Type:"vartype",FieldName:i,ValueType:o}),null;return{name:t,type:f}}(n,r,e,o.ValidationErrors);if(d){var h=d.name,l=d.type;if("obj"!=l){if("objs"!=l)o.PayloadToSend[h]=T(l,e);else{t!=i.VarScope.Event&&o.ValidationErrors.push({Type:"vartype",FieldName:h,ValueType:"Array<Object> (unsupported)"});for(var f=e,_=[],g=0;g<f.length;g++){(v=a(f[g]))&&_.push(v)}_.length>0&&(o.PayloadToSend[h]=_)}}else{var v=a(e),y=s.hasSuffix(r,"_obj")?h:h.substring(0,h.length-"_obj".length);o.PayloadToSend[y]=v}}else o.PayloadToSend[r]=T("",e)}),o}(e,t,n),d=[],h=e==i.VarScope.Event,l=s.stringify(a.PayloadToSend),f=!!r&&"fs"!==r;return h?d.push({When:0,Kind:i.RawEventKind.SYS_CUSTOM,Args:f?[o,l,r]:[o,l]}):d.push({When:0,Kind:i.RawEventKind.SYS_SETVAR,Args:f?[e,l,r]:[e,l]}),d},e}();function T(e,t){return"str"==e&&null!=t&&(t=t.trim()),null==t||"date"!=e&&t.constructor!=Date||(t=function(e){var t,n=e.constructor===Date?e:new Date(e);try{t=n.toISOString()}catch(e){t=null}return t}(t)),t}function I(e,t){if("number"==typeof e&&Math.floor(e)==e&&(u.logIfDebug("Expected appId of type 'string' instead got value: "+e+" of type: "+typeof e),e=""+e),"string"!=typeof e)return u.logIfDebug("blocking FS.identify API call; uid value ("+e+") must be a string"),[void 0,o.HighlightTypeFsId];var n=e.trim();if(a.BAD_APP_IDS.indexOf(n.toLowerCase())>=0)return u.logIfDebug("blocking FS.identify API call; uid value ("+n+") is illegal"),[void 0,o.HighlightTypeFsId];var r=h.hashString32Blocking(n),i=void 0;return t&&t._cookie.appKeyHash&&t._cookie.appKeyHash!==r&&t._cookie.appKeyHash!==n&&(u.logIfDebug("user re-identified; existing uid hash ("+t._cookie.appKeyHash+") does not match provided uid ("+n+")"),i=o.HighlightTypeNewUid),[n,i]}function R(e){return!!p[e]}t.Vars=E,t.transformValidateAppId=I},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),i=n(1),o=n(20),s=n(4),a=n(3),u=n(2);t.cmdReqPage=1,t.cmdReqBundle=2,t.cmdRspError=3,t.cmdRspPage=4,t.cmdRspBundle=5;var c=function(){function e(e,t){void 0===t&&(t=function(e){return new WebSocket(e)}),this._newSock=t,this._connecting=!1,this._connected=!1,this._queue={},this._seq=1,this._wnd=e.window,this._scheme=e.options.scheme,this._host=e.options.recHost}return e.isSupported=function(){return"WebSocket"in window},e.prototype.page=function(e,n,r){this.request({Cmd:t.cmdReqPage,Page:e},function(e){return n(e.Page)},r)},e.prototype.bundle=function(e){var n=e.deltaT,r=e.serverPageStart,i=e.serverBundleTime;return this.request({Cmd:t.cmdReqBundle,Bundle:{OrgId:e.orgId,UserId:e.userId,SessionId:e.sessionId,PageId:e.pageId,Seq:e.bundle.Seq,DeltaT:null===n?void 0:n,PageStart:null==r?void 0:r,PrevBundleTime:null==i?void 0:i,Bundle:e.bundle}},function(t){return e.win(t.Bundle)},e.lose)},e.prototype.bundleBeacon=function(e){return o.bundleBeacon(this._scheme,this._host,e)},e.prototype.exponentialBackoffMs=function(e,t){var n=Math.min(r.Constants.BackoffMax,5e3*Math.pow(2,e));return t?n+.25*Math.random()*n:n},e.prototype.request=function(e,t,n){e.Seq=this._seq++;var r=i.stringify(e);return this._queue[e.Seq]={payload:r,win:t,lose:n},this.maybeConnect(),r.length},e.prototype.handleMessage=function(e){var n;try{n=i.parseJson(e)}catch(e){return void a.logIfDebug("socket: error parsing frame: "+e.toString())}var r=this._queue[n.Seq];delete this._queue[n.Seq],r?n.Cmd==t.cmdRspError?(a.logIfDebug(n.Fail.Error),r.lose(n.Fail.Status)):r.win(n):a.logIfDebug("socket: mismatched request seq "+n.Seq+"; ignoring")},e.prototype.drainQueue=function(){if(this._connected)for(var e in this._queue){var t=this._queue[e];t.sent||(this._sock.send(t.payload),t.sent=!0)}else a.logIfDebug("socket: attempt to drain queue when disconnected.")},e.prototype.reconnect=function(){var e=this;if(!this._connected){for(var t in this._queue)this._queue[t].sent=!1;var n=0;s.windex.setWindowTimeout(this._wnd,u.FsBugSnag.wrap(function(){return e.maybeConnect()}),this.exponentialBackoffMs(n++,!0))}},e.prototype.maybeConnect=function(){var e=this;if(this._connected)this.drainQueue();else if(!this._connecting){this._connecting=!0;var t=("https:"==this._scheme?"wss:":"ws:")+"//"+this._host+"/rec/sock";this._sock=this._newSock(t),this._sock.onopen=function(t){e._connecting=!1,e._connected=!0,e.drainQueue()},this._sock.onmessage=function(t){e.handleMessage(t.data),e.drainQueue()},this._sock.onclose=function(t){a.logIfDebug("socket: closed; reconnecting"),e._connecting=e._connected=!1,e.reconnect()},this._sock.onerror=function(t){a.logIfDebug("socket: error; reconnecting"),e._connecting=e._connected=!1,e.reconnect()}}},e}();t.SockProtocol=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0,n(19);var o=n(2),s=n(4),a=function(){function e(){var e=this;this.measurementTasks=null,this.performingMeasurements=!1,this.recursionDepth=0,this.performMeasurements=o.FsBugSnag.wrap(function(){if(e.performingMeasurements)o.FsBugSnag.sendToBugsnag("performMeasurements() already in progress","error");else{e.performingMeasurements=!0;try{if(!e.measurementTasks)return;for(var t=0;t<e.measurementTasks.length;t++)e.measurementTasks[t]();e.measurementTasks=null}finally{e.performingMeasurements=!1}}})}return e.create=function(e){return e.ResizeObserver?new u(e,e.ResizeObserver):s.windex.requestWindowAnimationFrame&&e.MessageChannel?new c(e,s.windex.requestWindowAnimationFrame,e.MessageChannel):new d(e)},e.prototype.requestMeasureTask=function(e){var t=this;if(this.recursionDepth>16)o.FsBugSnag.sendToBugsnag("Too much synchronous recursion in requestMeasureTask","error");else{var n=this.performingMeasurements?this.recursionDepth:0,r=o.FsBugSnag.wrap(function(){var r=t.recursionDepth;t.recursionDepth=n+1;try{e()}finally{t.recursionDepth=r}});this.measurementTasks?this.measurementTasks.push(r):(this.measurementTasks=[r],this.schedule())}},e}();t.MeasureScheduler=a;var u=function(e){function t(t,n){var r=e.call(this)||this;return r.wnd=t,r.ResizeObserver=n,r}return i(t,e),t.prototype.schedule=function(){var e=this,t=this.ResizeObserver,n=this.wnd.document,r=n.body||n.documentElement||n.head,i=new t(function(){e.performMeasurements(),i.unobserve(r)});i.observe(r)},t}(a),c=function(e){function t(t,n,r){var i=e.call(this)||this;return i.wnd=t,i.requestWindowAnimationFrame=n,i.MessageChannel=r,i}return i(t,e),t.prototype.schedule=function(){var e=this,t=new this.MessageChannel;t.port1.onmessage=function(){return e.performMeasurements()},this.requestWindowAnimationFrame(this.wnd,o.FsBugSnag.wrap(function(){t.port2.postMessage(void 0)}))},t}(a),d=function(e){function t(t){var n=e.call(this)||this;return n.wnd=t,n}return i(t,e),t.prototype.schedule=function(){s.windex.setWindowTimeout(this.wnd,this.performMeasurements,0)},t}(a)}]);
//# sourceMappingURL=fs.js.map