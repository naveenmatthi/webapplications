!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="https://prod.purechatcdn.com/assets/",n(n.s=207)}([function(t,e){t.exports=window.pc$},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Information=2]="Information",t[t.Warning=3]="Warning",t[t.Error=4]="Error",t[t.Critical=5]="Critical",t[t.None=6]="None"}(r||(r={}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return p})),n.d(e,"e",(function(){return h})),n.d(e,"d",(function(){return d})),n.d(e,"b",(function(){return g}));var r=n(1),i=n(24),o=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}c((r=r.apply(t,e||[])).next())}))},a=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=function(){function t(){}return t.isRequired=function(t,e){if(null==t)throw new Error("The '"+e+"' argument is required.")},t.isIn=function(t,e,n){if(!(t in e))throw new Error("Unknown "+n+" value: "+t+".")},t}(),c=function(){function t(){}return Object.defineProperty(t,"isBrowser",{get:function(){return"object"==typeof window},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isWebWorker",{get:function(){return"object"==typeof self&&"importScripts"in self},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isNode",{get:function(){return!this.isBrowser&&!this.isWebWorker},enumerable:!0,configurable:!0}),t}();function l(t,e){var n="";return u(t)?(n="Binary data of length "+t.byteLength,e&&(n+=". Content: '"+function(t){var e=new Uint8Array(t),n="";return e.forEach((function(t){n+="0x"+(t<16?"0":"")+t.toString(16)+" "})),n.substr(0,n.length-1)}(t)+"'")):"string"==typeof t&&(n="String data of length "+t.length,e&&(n+=". Content: '"+t+"'")),n}function u(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function p(t,e,n,i,s,c,p){return o(this,void 0,void 0,(function(){var o,h,d,g,m;return a(this,(function(a){switch(a.label){case 0:return s?[4,s()]:[3,2];case 1:(d=a.sent())&&((o={}).Authorization="Bearer "+d,h=o),a.label=2;case 2:return t.log(r.a.Trace,"("+e+" transport) sending data. "+l(c,p)+"."),g=u(c)?"arraybuffer":"text",[4,n.post(i,{content:c,headers:h,responseType:g})];case 3:return m=a.sent(),t.log(r.a.Trace,"("+e+" transport) request complete. Response status: "+m.statusCode+"."),[2]}}))}))}function h(t){return void 0===t?new g(r.a.Information):null===t?i.a.instance:t.log?t:new g(t)}var d=function(){function t(t,e){this.subject=t,this.observer=e}return t.prototype.dispose=function(){var t=this.subject.observers.indexOf(this.observer);t>-1&&this.subject.observers.splice(t,1),0===this.subject.observers.length&&this.subject.cancelCallback&&this.subject.cancelCallback().catch((function(t){}))},t}(),g=function(){function t(t){this.minimumLogLevel=t,this.outputConsole=console}return t.prototype.log=function(t,e){if(t>=this.minimumLogLevel)switch(t){case r.a.Critical:case r.a.Error:this.outputConsole.error("["+(new Date).toISOString()+"] "+r.a[t]+": "+e);break;case r.a.Warning:this.outputConsole.warn("["+(new Date).toISOString()+"] "+r.a[t]+": "+e);break;case r.a.Information:this.outputConsole.info("["+(new Date).toISOString()+"] "+r.a[t]+": "+e);break;default:this.outputConsole.log("["+(new Date).toISOString()+"] "+r.a[t]+": "+e)}},t}()},function(t,e){t.exports={homeUrl:"https://www.purechat.com",apiUrl:"https://api.purechat.com",cdnUrl:"https://prod.purechatcdn.com",apiCdnServerUrl:"https://api-cdn.purechat.com",trackingOperatorApiUrl:"https://tracking.purechat.com",googleEmbedApiKey:"AIzaSyAZVBKuXyvNx3c78LAliIJWOgpsTn4Ty3M",cdnServerUrl:"https://prod.purechatcdn.com",customerIoSiteId:"d4a6e4df3666072e5b55",dashboardRootUrl:"https://app.purechat.com",apiRootUrl:"https://api.purechat.com",widgetApiRootUrl:"https://widgetapi.purechat.com",filesRootUrl:"https://files.purechat.com",pingQueueUrl:"https://checkin.purechat.com/api/checkin",authCookieName:"purechatAuthv5",pidCookieName:"prodvtftwPID",pingInterval:5e3,sessionTimeout:12e5}},function(t,e,n){"use strict";var r=n(6),i=n.n(r),o=n(0),a=n.n(o),s=n(3),c=n.n(s),l=6e4,u=75,p=150,h={TRACE:1e4,DEBUG:2e4,INFO:3e4,WARN:4e4,ERROR:5e4,FATAL:6e4},d=h.INFO,g=null,m=[];function f(t){return a.a.ajax({url:"".concat(c.a.apiUrl,"/ajaxlogger/log"),method:"POST",data:t,timeout:2e4,crossDomain:{crossDomain:!0},xhrFields:{withCredentials:!0}}).done((function(){})).fail((function(){}))}function y(){g=setInterval((function(){f(i.a.first(m)).then((function(){for(clearInterval(g),g=null,m.shift();m.length>0;){var t=i.a.first(m);m.shift(),f(t)}}))}),l)}e.a={log:function(t,e,n,r,o,a){if(i.a.isString(t)&&(t=h[t]),t>=d){var s=r?p:u,c=n?window.encodeURIComponent(n.substr(0,s)):null,l=o?window.encodeURIComponent(o):"N/A",b={level:t.toString(),message:"Legacy Widget ".concat("11.1.26"," -- ").concat(e),stackTrace:c,chatServerUrl:l,accountId:a,timestamp:(new Date).toISOString()};m.length>0?(m.push(b),g||y()):f(b).fail((function(){m.push(b),y()}))}},LEVELS:h,setLogLevel:function(t){d=t}}},function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}n.d(e,"a",(function(){return r}))},function(t,e,n){(function(t,n){var r;!function(){var i="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this||{},o=i._,a=Array.prototype,s=Object.prototype,c="undefined"!=typeof Symbol?Symbol.prototype:null,l=a.push,u=a.slice,p=s.toString,h=s.hasOwnProperty,d=Array.isArray,g=Object.keys,m=Object.create,f=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};e.nodeType?i._=y:(!n.nodeType&&n.exports&&(e=n.exports=y),e._=y),y.VERSION="1.9.1";var b,v=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},w=function(t,e,n){return y.iteratee!==b?y.iteratee(t,e):null==t?y.identity:y.isFunction(t)?v(t,e,n):y.isObject(t)&&!y.isArray(t)?y.matcher(t):y.property(t)};y.iteratee=b=function(t,e){return w(t,e,1/0)};var _=function(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}},C=function(t){if(!y.isObject(t))return{};if(m)return m(t);f.prototype=t;var e=new f;return f.prototype=null,e},I=function(t){return function(e){return null==e?void 0:e[t]}},x=function(t,e){return null!=t&&h.call(t,e)},k=function(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0},j=Math.pow(2,53)-1,S=I("length"),A=function(t){var e=S(t);return"number"==typeof e&&e>=0&&e<=j};y.each=y.forEach=function(t,e,n){var r,i;if(e=v(e,n),A(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=y.keys(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t},y.map=y.collect=function(t,e,n){e=w(e,n);for(var r=!A(t)&&y.keys(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=e(t[s],s,t)}return o};var T=function(t){var e=function(e,n,r,i){var o=!A(e)&&y.keys(e),a=(o||e).length,s=t>0?0:a-1;for(i||(r=e[o?o[s]:s],s+=t);s>=0&&s<a;s+=t){var c=o?o[s]:s;r=n(r,e[c],c,e)}return r};return function(t,n,r,i){var o=arguments.length>=3;return e(t,v(n,i,4),r,o)}};y.reduce=y.foldl=y.inject=T(1),y.reduceRight=y.foldr=T(-1),y.find=y.detect=function(t,e,n){var r=(A(t)?y.findIndex:y.findKey)(t,e,n);if(void 0!==r&&-1!==r)return t[r]},y.filter=y.select=function(t,e,n){var r=[];return e=w(e,n),y.each(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r},y.reject=function(t,e,n){return y.filter(t,y.negate(w(e)),n)},y.every=y.all=function(t,e,n){e=w(e,n);for(var r=!A(t)&&y.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0},y.some=y.any=function(t,e,n){e=w(e,n);for(var r=!A(t)&&y.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,r){return A(t)||(t=y.values(t)),("number"!=typeof n||r)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=_((function(t,e,n){var r,i;return y.isFunction(e)?i=e:y.isArray(e)&&(r=e.slice(0,-1),e=e[e.length-1]),y.map(t,(function(t){var o=i;if(!o){if(r&&r.length&&(t=k(t,r)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)}))})),y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var r,i,o=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,c=(t=A(t)?t:y.values(t)).length;s<c;s++)null!=(r=t[s])&&r>o&&(o=r);else e=w(e,n),y.each(t,(function(t,n,r){((i=e(t,n,r))>a||i===-1/0&&o===-1/0)&&(o=t,a=i)}));return o},y.min=function(t,e,n){var r,i,o=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,c=(t=A(t)?t:y.values(t)).length;s<c;s++)null!=(r=t[s])&&r<o&&(o=r);else e=w(e,n),y.each(t,(function(t,n,r){((i=e(t,n,r))<a||i===1/0&&o===1/0)&&(o=t,a=i)}));return o},y.shuffle=function(t){return y.sample(t,1/0)},y.sample=function(t,e,n){if(null==e||n)return A(t)||(t=y.values(t)),t[y.random(t.length-1)];var r=A(t)?y.clone(t):y.values(t),i=S(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,a=0;a<e;a++){var s=y.random(a,o),c=r[a];r[a]=r[s],r[s]=c}return r.slice(0,e)},y.sortBy=function(t,e,n){var r=0;return e=w(e,n),y.pluck(y.map(t,(function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")};var O=function(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=w(r,i),y.each(n,(function(e,i){var a=r(e,i,n);t(o,e,a)})),o}};y.groupBy=O((function(t,e,n){x(t,n)?t[n].push(e):t[n]=[e]})),y.indexBy=O((function(t,e,n){t[n]=e})),y.countBy=O((function(t,e,n){x(t,n)?t[n]++:t[n]=1}));var P=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;y.toArray=function(t){return t?y.isArray(t)?u.call(t):y.isString(t)?t.match(P):A(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:A(t)?t.length:y.keys(t).length},y.partition=O((function(t,e,n){t[n?0:1].push(e)}),!0),y.first=y.head=y.take=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return u.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return u.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,Boolean)};var R=function(t,e,n,r){for(var i=(r=r||[]).length,o=0,a=S(t);o<a;o++){var s=t[o];if(A(s)&&(y.isArray(s)||y.isArguments(s)))if(e)for(var c=0,l=s.length;c<l;)r[i++]=s[c++];else R(s,e,n,r),i=r.length;else n||(r[i++]=s)}return r};y.flatten=function(t,e){return R(t,e,!1)},y.without=_((function(t,e){return y.difference(t,e)})),y.uniq=y.unique=function(t,e,n,r){y.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=w(n,r));for(var i=[],o=[],a=0,s=S(t);a<s;a++){var c=t[a],l=n?n(c,a,t):c;e&&!n?(a&&o===l||i.push(c),o=l):n?y.contains(o,l)||(o.push(l),i.push(c)):y.contains(i,c)||i.push(c)}return i},y.union=_((function(t){return y.uniq(R(t,!0,!0))})),y.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=S(t);r<i;r++){var o=t[r];if(!y.contains(e,o)){var a;for(a=1;a<n&&y.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},y.difference=_((function(t,e){return e=R(e,!0,!0),y.filter(t,(function(t){return!y.contains(e,t)}))})),y.unzip=function(t){for(var e=t&&y.max(t,S).length||0,n=Array(e),r=0;r<e;r++)n[r]=y.pluck(t,r);return n},y.zip=_(y.unzip),y.object=function(t,e){for(var n={},r=0,i=S(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n};var M=function(t){return function(e,n,r){n=w(n,r);for(var i=S(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}};y.findIndex=M(1),y.findLastIndex=M(-1),y.sortedIndex=function(t,e,n,r){for(var i=(n=w(n,r,1))(e),o=0,a=S(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<i?o=s+1:a=s}return o};var W=function(t,e,n){return function(r,i,o){var a=0,s=S(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=e(u.call(r,a,s),y.isNaN))>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(r[o]===i)return o;return-1}};y.indexOf=W(1,y.findIndex,y.sortedIndex),y.lastIndexOf=W(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},y.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(u.call(t,r,r+=e));return n};var E=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=C(t.prototype),a=t.apply(o,i);return y.isObject(a)?a:o};y.bind=_((function(t,e,n){if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var r=_((function(i){return E(t,r,e,this,n.concat(i))}));return r})),y.partial=_((function(t,e){var n=y.partial.placeholder,r=function(){for(var i=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===n?arguments[i++]:e[s];for(;i<arguments.length;)a.push(arguments[i++]);return E(t,r,this,this,a)};return r})),y.partial.placeholder=y,y.bindAll=_((function(t,e){var n=(e=R(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=y.bind(t[r],t)}})),y.memoize=function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return x(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},y.delay=_((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var r,i,o,a,s=0;n||(n={});var c=function(){s=!1===n.leading?0:y.now(),r=null,a=t.apply(i,o),r||(i=o=null)},l=function(){var l=y.now();s||!1!==n.leading||(s=l);var u=e-(l-s);return i=this,o=arguments,u<=0||u>e?(r&&(clearTimeout(r),r=null),s=l,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(c,u)),a};return l.cancel=function(){clearTimeout(r),s=0,r=i=o=null},l},y.debounce=function(t,e,n){var r,i,o=function(e,n){r=null,n&&(i=t.apply(e,n))},a=_((function(a){if(r&&clearTimeout(r),n){var s=!r;r=setTimeout(o,e),s&&(i=t.apply(this,a))}else r=y.delay(o,e,this,a);return i}));return a.cancel=function(){clearTimeout(r),r=null},a},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},y.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},y.once=y.partial(y.before,2),y.restArguments=_;var N=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],U=function(t,e){var n=D.length,r=t.constructor,i=y.isFunction(r)&&r.prototype||s,o="constructor";for(x(t,o)&&!y.contains(e,o)&&e.push(o);n--;)(o=D[n])in t&&t[o]!==i[o]&&!y.contains(e,o)&&e.push(o)};y.keys=function(t){if(!y.isObject(t))return[];if(g)return g(t);var e=[];for(var n in t)x(t,n)&&e.push(n);return N&&U(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return N&&U(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},y.mapObject=function(t,e,n){e=w(e,n);for(var r=y.keys(t),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=e(t[s],s,t)}return o},y.pairs=function(t){for(var e=y.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},y.invert=function(t){for(var e={},n=y.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()};var B=function(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),s=a.length,c=0;c<s;c++){var l=a[c];e&&void 0!==n[l]||(n[l]=o[l])}return n}};y.extend=B(y.allKeys),y.extendOwn=y.assign=B(y.keys),y.findKey=function(t,e,n){e=w(e,n);for(var r,i=y.keys(t),o=0,a=i.length;o<a;o++)if(e(t[r=i[o]],r,t))return r};var Z,H,V=function(t,e,n){return e in n};y.pick=_((function(t,e){var n={},r=e[0];if(null==t)return n;y.isFunction(r)?(e.length>1&&(r=v(r,e[1])),e=y.allKeys(t)):(r=V,e=R(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var a=e[i],s=t[a];r(s,a,t)&&(n[a]=s)}return n})),y.omit=_((function(t,e){var n,r=e[0];return y.isFunction(r)?(r=y.negate(r),e.length>1&&(n=e[1])):(e=y.map(R(e,!1,!1),String),r=function(t,n){return!y.contains(e,n)}),y.pick(t,r,n)})),y.defaults=B(y.allKeys,!0),y.create=function(t,e){var n=C(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0},Z=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&H(t,e,n,r)},H=function(t,e,n,r){t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var i=p.call(t);if(i!==p.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return c.valueOf.call(t)===c.valueOf.call(e)}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var l=(n=n||[]).length;l--;)if(n[l]===t)return r[l]===e;if(n.push(t),r.push(e),o){if((l=t.length)!==e.length)return!1;for(;l--;)if(!Z(t[l],e[l],n,r))return!1}else{var u,h=y.keys(t);if(l=h.length,y.keys(e).length!==l)return!1;for(;l--;)if(u=h[l],!x(e,u)||!Z(t[u],e[u],n,r))return!1}return n.pop(),r.pop(),!0},y.isEqual=function(t,e){return Z(t,e)},y.isEmpty=function(t){return null==t||(A(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=d||function(t){return"[object Array]"===p.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(t){y["is"+t]=function(e){return p.call(e)==="[object "+t+"]"}})),y.isArguments(arguments)||(y.isArguments=function(t){return x(t,"callee")});var z=i.document&&i.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof z&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return!y.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&isNaN(t)},y.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===p.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){if(!y.isArray(e))return x(t,e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(null==t||!h.call(t,i))return!1;t=t[i]}return!!n},y.noConflict=function(){return i._=o,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=function(t){return y.isArray(t)?function(e){return k(e,t)}:I(t)},y.propertyOf=function(t){return null==t?function(){}:function(e){return y.isArray(e)?k(t,e):t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var r=Array(Math.max(0,t));e=v(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},F=y.invert(L),Y=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};y.escape=Y(L),y.unescape=Y(F),y.result=function(t,e,n){y.isArray(e)||(e=[e]);var r=e.length;if(!r)return y.isFunction(n)?n.call(t):n;for(var i=0;i<r;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=n,i=r),t=y.isFunction(o)?o.call(t):o}return t};var G=0;y.uniqueId=function(t){var e=++G+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var X=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\u2028|\u2029/g,$=function(t){return"\\"+J[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var r,i=RegExp([(e.escape||X).source,(e.interpolate||X).source,(e.evaluate||X).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(i,(function(e,n,r,i,s){return a+=t.slice(o,s).replace(q,$),o=s+e.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),e})),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(e.variable||"obj","_",a)}catch(t){throw t.source=a,t}var s=function(t){return r.call(this,t,y)},c=e.variable||"obj";return s.source="function("+c+"){\n"+a+"}",s},y.chain=function(t){var e=y(t);return e._chain=!0,e};var Q=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){return y.each(y.functions(t),(function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),Q(this,n.apply(y,t))}})),y},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=a[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],Q(this,n)}})),y.each(["concat","join","slice"],(function(t){var e=a[t];y.prototype[t]=function(){return Q(this,e.apply(this._wrapped,arguments))}})),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return String(this._wrapped)},void 0===(r=function(){return y}.apply(e,[]))||(n.exports=r)}()}).call(this,n(8),n(68)(t))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(10),i=n(5);function o(t){return function e(n,o){switch(arguments.length){case 0:return e;case 1:return Object(i.a)(n)?e:Object(r.a)((function(e){return t(n,e)}));default:return Object(i.a)(n)&&Object(i.a)(o)?e:Object(i.a)(n)?Object(r.a)((function(e){return t(e,o)})):Object(i.a)(o)?Object(r.a)((function(e){return t(n,e)})):t(n,o)}}}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return s}));var r,i=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=function(t){function e(e,n){var r=this,i=this.constructor.prototype;return(r=t.call(this,e)||this).statusCode=n,r.__proto__=i,r}return i(e,t),e}(Error),a=function(t){function e(e){void 0===e&&(e="A timeout occurred.");var n=this,r=this.constructor.prototype;return(n=t.call(this,e)||this).__proto__=r,n}return i(e,t),e}(Error),s=function(t){function e(e){void 0===e&&(e="An abort occurred.");var n=this,r=this.constructor.prototype;return(n=t.call(this,e)||this).__proto__=r,n}return i(e,t),e}(Error)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(5);function i(t){return function e(n){return 0===arguments.length||Object(r.a)(n)?e:t.apply(this,arguments)}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return a}));var r={Desktop:0,Ios:1},i={Account:0,Operator:1,Visitor:2},o={Message:0,Join:1,Leave:2,Close:3,File:4},a={Start:0,Uploading:1,Unauthorized:2,Error:3,Complete:4}},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n(8))},function(t,e,n){"use strict";var r=n(284);function i(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,i){return e.apply(this,arguments)};case 5:return function(t,n,r,i,o){return e.apply(this,arguments)};case 6:return function(t,n,r,i,o,a){return e.apply(this,arguments)};case 7:return function(t,n,r,i,o,a,s){return e.apply(this,arguments)};case 8:return function(t,n,r,i,o,a,s,c){return e.apply(this,arguments)};case 9:return function(t,n,r,i,o,a,s,c,l){return e.apply(this,arguments)};case 10:return function(t,n,r,i,o,a,s,c,l,u){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function o(t,e){return function(){return e.call(this,t.apply(this,arguments))}}var a=n(10),s=n(7),c=n(5);function l(t){return function e(n,r,i){switch(arguments.length){case 0:return e;case 1:return Object(c.a)(n)?e:Object(s.a)((function(e,r){return t(n,e,r)}));case 2:return Object(c.a)(n)&&Object(c.a)(r)?e:Object(c.a)(n)?Object(s.a)((function(e,n){return t(e,r,n)})):Object(c.a)(r)?Object(s.a)((function(e,r){return t(n,e,r)})):Object(a.a)((function(e){return t(n,r,e)}));default:return Object(c.a)(n)&&Object(c.a)(r)&&Object(c.a)(i)?e:Object(c.a)(n)&&Object(c.a)(r)?Object(s.a)((function(e,n){return t(e,n,i)})):Object(c.a)(n)&&Object(c.a)(i)?Object(s.a)((function(e,n){return t(e,r,n)})):Object(c.a)(r)&&Object(c.a)(i)?Object(s.a)((function(e,r){return t(n,e,r)})):Object(c.a)(n)?Object(a.a)((function(e){return t(e,r,i)})):Object(c.a)(r)?Object(a.a)((function(e){return t(n,e,i)})):Object(c.a)(i)?Object(a.a)((function(e){return t(n,r,e)})):t(n,r,i)}}}var u=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};var p=Object(a.a)((function(t){return!!u(t)||!!t&&("object"==typeof t&&(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})),h=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();var d=Object(s.a)((function(t,e){return i(t.length,(function(){return t.apply(e,arguments)}))}));function g(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function m(t,e,n,r){return t["@@transducer/result"](n[r](d(t["@@transducer/step"],t),e))}var f="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function y(t,e,n){if("function"==typeof t&&(t=function(t){return new h(t)}(t)),p(n))return function(t,e,n){for(var r=0,i=n.length;r<i;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return m(t,e,n,"fantasy-land/reduce");if(null!=n[f])return g(t,e,n[f]());if("function"==typeof n.next)return g(t,e,n);if("function"==typeof n.reduce)return m(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var b=l(y);function v(t,e){return function(){var n=arguments.length;if(0===n)return e();var r=arguments[n-1];return u(r)||"function"!=typeof r[t]?e.apply(this,arguments):r[t].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var w=l(v("slice",(function(t,e,n){return Array.prototype.slice.call(n,t,e)}))),_=Object(a.a)(v("tail",w(1,1/0)));function C(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return i(arguments[0].length,b(o,arguments[0],_(arguments)))}function I(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function x(t,e,n){return function(){if(0===arguments.length)return n();var r=Array.prototype.slice.call(arguments,0),i=r.pop();if(!u(i)){for(var o=0;o<t.length;){if("function"==typeof i[t[o]])return i[t[o]].apply(i,r);o+=1}if(I(i)){var a=e.apply(null,r);return a(i)}}return n.apply(this,arguments)}}var k=function(){return this.xf["@@transducer/init"]()},j=function(t){return this.xf["@@transducer/result"](t)},S=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=k,t.prototype["@@transducer/result"]=j,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},t}(),A=Object(s.a)((function(t,e){return new S(t,e)}));var T=Object(s.a)((function(t,e){return 1===t?Object(a.a)(e):i(t,function t(e,n,r){return function(){for(var o=[],a=0,s=e,l=0;l<n.length||a<arguments.length;){var u;l<n.length&&(!Object(c.a)(n[l])||a>=arguments.length)?u=n[l]:(u=arguments[a],a+=1),o[l]=u,Object(c.a)(u)||(s-=1),l+=1}return s<=0?r.apply(this,o):i(s,t(e,o,r))}}(t,[],e))})),O=n(22),P=Object.prototype.toString,R=function(){return"[object Arguments]"===P.call(arguments)?function(t){return"[object Arguments]"===P.call(t)}:function(t){return Object(O.a)("callee",t)}}(),M=!{toString:null}.propertyIsEnumerable("toString"),W=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],E=function(){return arguments.propertyIsEnumerable("length")}(),N=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1},D="function"!=typeof Object.keys||E?Object(a.a)((function(t){if(Object(t)!==t)return[];var e,n,r=[],i=E&&R(t);for(e in t)!Object(O.a)(e,t)||i&&"length"===e||(r[r.length]=e);if(M)for(n=W.length-1;n>=0;)e=W[n],Object(O.a)(e,t)&&!N(r,e)&&(r[r.length]=e),n-=1;return r})):Object(a.a)((function(t){return Object(t)!==t?[]:Object.keys(t)})),U=Object(s.a)(x(["fantasy-land/map","map"],A,(function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return T(e.length,(function(){return t.call(this,e.apply(this,arguments))}));case"[object Object]":return y((function(n,r){return n[r]=t(e[r]),n}),{},D(e));default:return function(t,e){for(var n=0,r=e.length,i=Array(r);n<r;)i[n]=t(e[n]),n+=1;return i}(t,e)}})));var B=function(){function t(t,e){this.xf=e,this.f=t,this.found=!1}return t.prototype["@@transducer/init"]=k,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){var n;return this.f(e)&&(this.found=!0,t=(n=this.xf["@@transducer/step"](t,e))&&n["@@transducer/reduced"]?n:{"@@transducer/value":n,"@@transducer/reduced":!0}),t},t}(),Z=Object(s.a)((function(t,e){return new B(t,e)})),H=Object(s.a)(x(["find"],Z,(function(t,e){for(var n=0,r=e.length;n<r;){if(t(e[n]))return e[n];n+=1}})));function V(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function z(t,e,n){for(var r=0,i=n.length;r<i;){if(t(e,n[r]))return!0;r+=1}return!1}var L="function"==typeof Object.is?Object.is:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},F=Object(a.a)((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));function Y(t,e,n,r){var i=V(t);function o(t,e){return G(t,e,n.slice(),r.slice())}return!z((function(t,e){return!z(o,e,t)}),V(e),i)}function G(t,e,n,r){if(L(t,e))return!0;var i,o,a=F(t);if(a!==F(e))return!1;if(null==t||null==e)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(a){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===(i=t.constructor,null==(o=String(i).match(/^function (\w*)/))?"":o[1]))return t===e;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof e||!L(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!L(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var s=n.length-1;s>=0;){if(n[s]===t)return r[s]===e;s-=1}switch(a){case"Map":return t.size===e.size&&Y(t.entries(),e.entries(),n.concat([t]),r.concat([e]));case"Set":return t.size===e.size&&Y(t.values(),e.values(),n.concat([t]),r.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var c=D(t);if(c.length!==D(e).length)return!1;var l=n.concat([t]),u=r.concat([e]);for(s=c.length-1;s>=0;){var p=c[s];if(!Object(O.a)(p,e)||!G(e[p],t[p],l,u))return!1;s-=1}return!0}var X=Object(s.a)((function(t,e){return G(t,e,[],[])})),J=l((function(t,e,n){return X(e,n[t])}));function q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(Object(n),!0).forEach((function(e){Q(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"b",(function(){return it})),n.d(e,"a",(function(){return ot}));var K=0,tt=1,et=2,nt={closed_by_visitor:0,closed_by_operator:3,client_timeout:1,chat_inactivity:2,no_operators_joined:4},rt=function(t){var e=t.remoteKey.split(":");if(4!==e.length)throw new Error("Invalid remote key format");return{entityType:e[0],system:e[1],key:e[2],id:e[3]}},it=function(t){var e=C(U(rt),H(J("system","purechat")))(t.remoteParticipants),n=$({},t,{displayName:t.name,isOperator:"purechat:operator"===t.participantType,isInvisibleInRoom:!t.visibleInRoom});return"purechat:visitor"===n.participantType&&(n.id=e.id,n.avatar=n.attributes?n.attributes.avatarUrl:null),"purechat:operator"===n.participantType&&(n.id=parseInt(e.id,10),n.avatar=n.attributes?n.attributes.avatarUrl:null),n},ot=function(t){if(!t)return null;var e=$({},t,{},t.attributes);e.participants&&(e.users=e.participants.map((function(t){return it(t)}))),e.legacyRoomName=e.name;var n,i=C(U(rt),H(J("system","purechat")))(e.remoteRooms);return"purechat:account"===e.roomType?(e.id=i.id,e.roomType=K):"purechat:chat"===e.roomType?(e.id=parseInt(i.id,10),e.roomType=et):"purechat:operator"===e.roomType&&(e.id=i.id,e.roomType=tt),e.attributes&&(e.time=e.createDate,e.timeSinceChatStart=0-e.createDate,e.timeElapsed=e.elapsedTime,e.widgetType=e.attributes.widgetType?parseInt(e.attributes.widgetType,10):null,e.visitorCustomerId=e.attributes.visitorCustomerId,e.initiator=parseInt(e.attributes.initiator,10),e.closedReasonCode&&(e.closedReasonCode=(n=e.closedReasonCode,Object(r.a)(n,nt)?nt[n]:nt.client_timeout)),e.GeolocationData={City:t.attributes.city,State:t.attributes.state,CountryAbbreviation:t.attributes.countryAbbreviation,Country:t.attributes.country,Latitude:t.attributes.latitude,Longitude:t.attributes.longitude}),e}},function(t,e,n){var r=n(12),i=n(55),o=n(20),a=n(81),s=n(82),c=n(212),l=i("wks"),u=r.Symbol,p=c?u:a;t.exports=function(t){return o(l,t)||(s&&o(u,t)?l[t]=u[t]:l[t]=p("Symbol."+t)),l[t]}},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i=function(t,e,n){this.statusCode=t,this.statusText=e,this.content=n},o=function(){function t(){}return t.prototype.get=function(t,e){return this.send(r({},e,{method:"GET",url:t}))},t.prototype.post=function(t,e){return this.send(r({},e,{method:"POST",url:t}))},t.prototype.delete=function(t,e){return this.send(r({},e,{method:"DELETE",url:t}))},t.prototype.getCookieString=function(t){return""},t}()},function(t,e){var n={};n[e.ACCEPTED=202]="Accepted",n[e.BAD_GATEWAY=502]="Bad Gateway",n[e.BAD_REQUEST=400]="Bad Request",n[e.CONFLICT=409]="Conflict",n[e.CONTINUE=100]="Continue",n[e.CREATED=201]="Created",n[e.EXPECTATION_FAILED=417]="Expectation Failed",n[e.FAILED_DEPENDENCY=424]="Failed Dependency",n[e.FORBIDDEN=403]="Forbidden",n[e.GATEWAY_TIMEOUT=504]="Gateway Timeout",n[e.GONE=410]="Gone",n[e.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP Version Not Supported",n[e.IM_A_TEAPOT=418]="I'm a teapot",n[e.INSUFFICIENT_SPACE_ON_RESOURCE=419]="Insufficient Space on Resource",n[e.INSUFFICIENT_STORAGE=507]="Insufficient Storage",n[e.INTERNAL_SERVER_ERROR=500]="Server Error",n[e.LENGTH_REQUIRED=411]="Length Required",n[e.LOCKED=423]="Locked",n[e.METHOD_FAILURE=420]="Method Failure",n[e.METHOD_NOT_ALLOWED=405]="Method Not Allowed",n[e.MOVED_PERMANENTLY=301]="Moved Permanently",n[e.MOVED_TEMPORARILY=302]="Moved Temporarily",n[e.MULTI_STATUS=207]="Multi-Status",n[e.MULTIPLE_CHOICES=300]="Multiple Choices",n[e.NETWORK_AUTHENTICATION_REQUIRED=511]="Network Authentication Required",n[e.NO_CONTENT=204]="No Content",n[e.NON_AUTHORITATIVE_INFORMATION=203]="Non Authoritative Information",n[e.NOT_ACCEPTABLE=406]="Not Acceptable",n[e.NOT_FOUND=404]="Not Found",n[e.NOT_IMPLEMENTED=501]="Not Implemented",n[e.NOT_MODIFIED=304]="Not Modified",n[e.OK=200]="OK",n[e.PARTIAL_CONTENT=206]="Partial Content",n[e.PAYMENT_REQUIRED=402]="Payment Required",n[e.PERMANENT_REDIRECT=308]="Permanent Redirect",n[e.PRECONDITION_FAILED=412]="Precondition Failed",n[e.PRECONDITION_REQUIRED=428]="Precondition Required",n[e.PROCESSING=102]="Processing",n[e.PROXY_AUTHENTICATION_REQUIRED=407]="Proxy Authentication Required",n[e.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="Request Header Fields Too Large",n[e.REQUEST_TIMEOUT=408]="Request Timeout",n[e.REQUEST_TOO_LONG=413]="Request Entity Too Large",n[e.REQUEST_URI_TOO_LONG=414]="Request-URI Too Long",n[e.REQUESTED_RANGE_NOT_SATISFIABLE=416]="Requested Range Not Satisfiable",n[e.RESET_CONTENT=205]="Reset Content",n[e.SEE_OTHER=303]="See Other",n[e.SERVICE_UNAVAILABLE=503]="Service Unavailable",n[e.SWITCHING_PROTOCOLS=101]="Switching Protocols",n[e.TEMPORARY_REDIRECT=307]="Temporary Redirect",n[e.TOO_MANY_REQUESTS=429]="Too Many Requests",n[e.UNAUTHORIZED=401]="Unauthorized",n[e.UNPROCESSABLE_ENTITY=422]="Unprocessable Entity",n[e.UNSUPPORTED_MEDIA_TYPE=415]="Unsupported Media Type",n[e.USE_PROXY=305]="Use Proxy",e.getStatusText=function(t){if(n.hasOwnProperty(t))return n[t];throw new Error("Status code does not exist: "+t)},e.getStatusCode=function(t){for(key in n)if(n[key]===t)return parseInt(key,10);throw new Error("Reason phrase does not exist: "+t)}},function(t,e,n){"use strict";var r=n(284),i=n(7),o=Object(i.a)((function(t,e){for(var n={},r={},i=0,o=t.length;i<o;)r[t[i]]=1,i+=1;for(var a in e)r.hasOwnProperty(a)||(n[a]=e[a]);return n}));function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=n.id,this.message=n.message,this.timeout=n.timeout,this.logger=e,this.timerStarted=(new Date).getTime(),this.thresholdTriggered=!1,this.complete=!1,this.thresholdTimeoutId=window.setTimeout((function(){r.thresholdTriggered=!0}),n.warnThreshold),this.timeoutId=window.setTimeout((function(){r.logger&&r.logger.log(r.logger.LEVELS.ERROR,"[SlowTask] Error timeout of ".concat(r.timeout," met on ").concat(r.id," timer (").concat(r.message,")")),r.complete=!0}),n.timeout)}var e,n,r;return e=t,(n=[{key:"dispose",value:function(t){if(window.clearTimeout(this.thresholdTimeoutId),window.clearTimeout(this.timeoutId),this.thresholdTriggered&&!this.complete){var e=(((new Date).getTime()-this.timerStarted)/1e3).toFixed(2);this.logger&&!t&&this.logger.log(this.logger.LEVELS.WARN,"[SlowTask] Threshold reached on ".concat(this.id," and took ").concat(e,"s but was eventually cleared (").concat(this.message,")"))}}}])&&a(e.prototype,n),r&&a(e,r),t}();function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,"logger",null),l(this,"timers",{})}var e,n,i;return e=t,(n=[{key:"init",value:function(t){if(!Object(r.a)("logger",t))throw new Error("Slow task timer requires a `logger`");this.logger=t.logger}},{key:"start",value:function(t){if(!Object(r.a)("id",t))throw new Error("`id` is required for a new slow task timer");if(!Object(r.a)("message",t))throw new Error("`message` is required for a new slow task timer");if(!Object(r.a)("warnThreshold",t))throw new Error("`warnThreshold` is required for an ew slow task timer");if(!Object(r.a)("timeout",t))throw new Error("`timeout` is required for a new slow task timer");Object(r.a)(t.id,this.timers)&&this.clear(t.id,!0),this.timers[t.id]=new s(this.logger,t)}},{key:"clear",value:function(t,e){Object(r.a)(t,this.timers)&&(this.timers[t].dispose(e),this.timers=o([t],this.timers))}}])&&c(e.prototype,n),i&&c(e,i),t}());n.d(e,"a",(function(){return u}))},function(t,e,n){var r=n(26),i=n(32),o=n(45);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(27);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){(function(r){function i(){try{return e.storage.debug}catch(t){}if(void 0!==r&&"env"in r)return r.env.DEBUG}(e=t.exports=n(254)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(){var t=arguments,n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return t;var r="color: "+this.color;t=[t[0],r,"color: inherit"].concat(Array.prototype.slice.call(t,1));var i=0,o=0;return t[0].replace(/%[a-z%]/g,(function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))})),t.splice(o,0,r),t},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,n(253))},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(e,t)}n.d(e,"a",(function(){return r}))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){}return t.prototype.log=function(t,e){},t.instance=new t,t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){}return t.write=function(e){return""+e+t.RecordSeparator},t.parse=function(e){if(e[e.length-1]!==t.RecordSeparator)throw new Error("Message is incomplete.");var n=e.split(t.RecordSeparator);return n.pop(),n},t.RecordSeparatorCode=30,t.RecordSeparator=String.fromCharCode(t.RecordSeparatorCode),t}()},function(t,e,n){var r=n(23);t.exports=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(12),i=n(63).f,o=n(18),a=n(33),s=n(56),c=n(219),l=n(88);t.exports=function(t,e){var n,u,p,h,d,g=t.target,m=t.global,f=t.stat;if(n=m?r:f?r[g]||s(g,{}):(r[g]||{}).prototype)for(u in e){if(h=e[u],p=t.noTargetGet?(d=i(n,u))&&d.value:n[u],!l(m?u:g+(f?".":"#")+u,t.forced)&&void 0!==p){if(typeof h==typeof p)continue;c(h,p)}(t.sham||p&&p.sham)&&o(h,"sham",!0),a(n,u,h,t)}}},function(t,e,n){var r=n(85),i=n(12),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},function(t){t.exports=JSON.parse('[{"emoji":"🙂","category":"people","description":"slightly smiling face","names":["slightly_smiling_face"],"tags":[]},{"emoji":"😀","category":"people","description":"grinning face","names":["grinning"],"tags":["smile","happy"]},{"emoji":"😃","category":"people","description":"smiling face with open mouth","names":["smiley"],"tags":["happy","joy","haha"]},{"emoji":"😄","category":"people","description":"smiling face with open mouth & smiling eyes","names":["smile"],"tags":["happy","joy","laugh","pleased"]},{"emoji":"😁","category":"people","description":"grinning face with smiling eyes","names":["grin"],"tags":[]},{"emoji":"😆","category":"people","description":"smiling face with open mouth & closed eyes","names":["laughing","satisfied"],"tags":["happy","haha"]},{"emoji":"😅","category":"people","description":"smiling face with open mouth & cold sweat","names":["sweat_smile"],"tags":["hot"]},{"emoji":"😂","category":"people","description":"face with tears of joy","names":["joy"],"tags":["tears"]},{"emoji":"😊","category":"people","description":"smiling face with smiling eyes","names":["blush"],"tags":["proud"]},{"emoji":"😇","category":"people","description":"smiling face with halo","names":["innocent"],"tags":["angel"]},{"emoji":"😉","category":"people","description":"winking face","names":["wink"],"tags":["flirt"]},{"emoji":"😌","category":"people","description":"relieved face","names":["relieved"],"tags":["whew"]},{"emoji":"😍","category":"people","description":"smiling face with heart-eyes","names":["heart_eyes"],"tags":["love","crush"]},{"emoji":"😘","category":"people","description":"face blowing a kiss","names":["kissing_heart"],"tags":["flirt"]},{"emoji":"😗","category":"people","description":"kissing face","names":["kissing"],"tags":[]},{"emoji":"😙","category":"people","description":"kissing face with smiling eyes","names":["kissing_smiling_eyes"],"tags":[]},{"emoji":"😚","category":"people","description":"kissing face with closed eyes","names":["kissing_closed_eyes"],"tags":[]},{"emoji":"😋","category":"people","description":"face savouring delicious food","names":["yum"],"tags":["tongue","lick"]},{"emoji":"😜","category":"people","description":"face with stuck-out tongue & winking eye","names":["stuck_out_tongue_winking_eye"],"tags":["prank","silly"]},{"emoji":"😝","category":"people","description":"face with stuck-out tongue & closed eyes","names":["stuck_out_tongue_closed_eyes"],"tags":["prank"]},{"emoji":"😛","category":"people","description":"face with stuck-out tongue","names":["stuck_out_tongue"],"tags":[]},{"emoji":"😎","category":"people","description":"smiling face with sunglasses","names":["sunglasses"],"tags":["cool"]},{"emoji":"😏","category":"people","description":"smirking face","names":["smirk"],"tags":["smug"]},{"emoji":"😒","category":"people","description":"unamused face","names":["unamused"],"tags":["meh"]},{"emoji":"😞","category":"people","description":"disappointed face","names":["disappointed"],"tags":["sad"]},{"emoji":"😔","category":"people","description":"pensive face","names":["pensive"],"tags":[]},{"emoji":"😟","category":"people","description":"worried face","names":["worried"],"tags":["nervous"]},{"emoji":"😕","category":"people","description":"confused face","names":["confused"],"tags":[]},{"emoji":"😣","category":"people","description":"persevering face","names":["persevere"],"tags":["struggling"]},{"emoji":"😖","category":"people","description":"confounded face","names":["confounded"],"tags":[]},{"emoji":"😫","category":"people","description":"tired face","names":["tired_face"],"tags":["upset","whine"]},{"emoji":"😩","category":"people","description":"weary face","names":["weary"],"tags":["tired"]},{"emoji":"😤","category":"people","description":"face with steam from nose","names":["triumph"],"tags":["smug"]},{"emoji":"😠","category":"people","description":"angry face","names":["angry"],"tags":["mad","annoyed"]},{"emoji":"😡","category":"people","description":"pouting face","names":["rage","pout"],"tags":["angry"]},{"emoji":"😶","category":"people","description":"face without mouth","names":["no_mouth"],"tags":["mute","silence"]},{"emoji":"😐","category":"people","description":"neutral face","names":["neutral_face"],"tags":["meh"]},{"emoji":"😑","category":"people","description":"expressionless face","names":["expressionless"],"tags":[]},{"emoji":"😯","category":"people","description":"hushed face","names":["hushed"],"tags":["silence","speechless"]},{"emoji":"😦","category":"people","description":"frowning face with open mouth","names":["frowning"],"tags":[]},{"emoji":"😧","category":"people","description":"anguished face","names":["anguished"],"tags":["stunned"]},{"emoji":"😮","category":"people","description":"face with open mouth","names":["open_mouth"],"tags":["surprise","impressed","wow"]},{"emoji":"😲","category":"people","description":"astonished face","names":["astonished"],"tags":["amazed","gasp"]},{"emoji":"😵","category":"people","description":"dizzy face","names":["dizzy_face"],"tags":[]},{"emoji":"😳","category":"people","description":"flushed face","names":["flushed"],"tags":[]},{"emoji":"😱","category":"people","description":"face screaming in fear","names":["scream"],"tags":["horror","shocked"]},{"emoji":"😨","category":"people","description":"fearful face","names":["fearful"],"tags":["scared","shocked","oops"]},{"emoji":"😰","category":"people","description":"face with open mouth & cold sweat","names":["cold_sweat"],"tags":["nervous"]},{"emoji":"😢","category":"people","description":"crying face","names":["cry"],"tags":["sad","tear"]},{"emoji":"😥","category":"people","description":"disappointed but relieved face","names":["disappointed_relieved"],"tags":["phew","sweat","nervous"]},{"emoji":"😭","category":"people","description":"loudly crying face","names":["sob"],"tags":["sad","cry","bawling"]},{"emoji":"😓","category":"people","description":"face with cold sweat","names":["sweat"],"tags":[]},{"emoji":"😪","category":"people","description":"sleepy face","names":["sleepy"],"tags":["tired"]},{"emoji":"😴","category":"people","description":"sleeping face","names":["sleeping"],"tags":["zzz"]},{"emoji":"😬","category":"people","description":"grimacing face","names":["grimacing"],"tags":[]},{"emoji":"😷","category":"people","description":"face with medical mask","names":["mask"],"tags":["sick","ill"]},{"emoji":"😈","category":"people","description":"smiling face with horns","names":["smiling_imp"],"tags":["devil","evil","horns"]},{"emoji":"👿","category":"people","description":"angry face with horns","names":["imp"],"tags":["angry","devil","evil","horns"]},{"emoji":"👹","category":"people","description":"ogre","names":["japanese_ogre"],"tags":["monster"]},{"emoji":"👺","category":"people","description":"goblin","names":["japanese_goblin"],"tags":[]},{"emoji":"💩","category":"people","description":"pile of poo","names":["hankey","poop","shit"],"tags":["crap"]},{"emoji":"👻","category":"people","description":"ghost","names":["ghost"],"tags":["halloween"]},{"emoji":"💀","category":"people","description":"skull","names":["skull"],"tags":["dead","danger","poison"]},{"emoji":"☠️","category":"people","description":"skull and crossbones","names":["skull_and_crossbones"],"tags":["danger","pirate"]},{"emoji":"👽","category":"people","description":"alien","names":["alien"],"tags":["ufo"]},{"emoji":"👾","category":"people","description":"alien monster","names":["space_invader"],"tags":["game","retro"]},{"emoji":"🎃","category":"people","description":"jack-o-lantern","names":["jack_o_lantern"],"tags":["halloween"]},{"emoji":"😺","category":"people","description":"smiling cat face with open mouth","names":["smiley_cat"],"tags":[]},{"emoji":"😸","category":"people","description":"grinning cat face with smiling eyes","names":["smile_cat"],"tags":[]},{"emoji":"😹","category":"people","description":"cat face with tears of joy","names":["joy_cat"],"tags":[]},{"emoji":"😻","category":"people","description":"smiling cat face with heart-eyes","names":["heart_eyes_cat"],"tags":[]},{"emoji":"😼","category":"people","description":"cat face with wry smile","names":["smirk_cat"],"tags":[]},{"emoji":"😽","category":"people","description":"kissing cat face with closed eyes","names":["kissing_cat"],"tags":[]},{"emoji":"🙀","category":"people","description":"weary cat face","names":["scream_cat"],"tags":["horror"]},{"emoji":"😿","category":"people","description":"crying cat face","names":["crying_cat_face"],"tags":["sad","tear"]},{"emoji":"😾","category":"people","description":"pouting cat face","names":["pouting_cat"],"tags":[]},{"emoji":"👐","category":"people","description":"open hands","names":["open_hands"],"tags":[]},{"emoji":"🙌","category":"people","description":"raising hands","names":["raised_hands"],"tags":["hooray"]},{"emoji":"👏","category":"people","description":"clapping hands","names":["clap"],"tags":["praise","applause"]},{"emoji":"🙏","category":"people","description":"folded hands","names":["pray"],"tags":["please","hope","wish"]},{"emoji":"👍","category":"people","description":"thumbs up","names":["+1","thumbsup"],"tags":["approve","ok"]},{"emoji":"👎","category":"people","description":"thumbs down","names":["-1","thumbsdown"],"tags":["disapprove","bury"]},{"emoji":"👊","category":"people","description":"oncoming fist","names":["fist_oncoming","facepunch","punch"],"tags":["attack"]},{"emoji":"✌️","category":"people","description":"victory hand","names":["v"],"tags":["victory","peace"]},{"emoji":"👌","category":"people","description":"OK hand","names":["ok_hand"],"tags":[]},{"emoji":"👈","category":"people","description":"backhand index pointing left","names":["point_left"],"tags":[]},{"emoji":"👉","category":"people","description":"backhand index pointing right","names":["point_right"],"tags":[]},{"emoji":"👆","category":"people","description":"backhand index pointing up","names":["point_up_2"],"tags":[]},{"emoji":"👇","category":"people","description":"backhand index pointing down","names":["point_down"],"tags":[]},{"emoji":"☝️","category":"people","description":"index pointing up","names":["point_up"],"tags":[]},{"emoji":"👋","category":"people","description":"waving hand","names":["wave"],"tags":["goodbye"]},{"emoji":"💪","category":"people","description":"flexed biceps","names":["muscle"],"tags":["flex","bicep","strong","workout"]},{"emoji":"💅","category":"people","description":"nail polish","names":["nail_care"],"tags":["beauty","manicure"]},{"emoji":"💍","category":"people","description":"ring","names":["ring"],"tags":["wedding","marriage","engaged"]},{"emoji":"💄","category":"people","description":"lipstick","names":["lipstick"],"tags":["makeup"]},{"emoji":"💋","category":"people","description":"kiss mark","names":["kiss"],"tags":["lipstick"]},{"emoji":"👄","category":"people","description":"mouth","names":["lips"],"tags":["kiss"]},{"emoji":"👅","category":"people","description":"tongue","names":["tongue"],"tags":["taste"]},{"emoji":"👂","category":"people","description":"ear","names":["ear"],"tags":["hear","sound","listen"]},{"emoji":"👃","category":"people","description":"nose","names":["nose"],"tags":["smell"]},{"emoji":"👣","category":"people","description":"footprints","names":["footprints"],"tags":["feet","tracks"]},{"emoji":"👀","category":"people","description":"eyes","names":["eyes"],"tags":["look","see","watch"]},{"emoji":"👤","category":"people","description":"bust in silhouette","names":["bust_in_silhouette"],"tags":["user"]},{"emoji":"👥","category":"people","description":"busts in silhouette","names":["busts_in_silhouette"],"tags":["users","group","team"]},{"emoji":"👶","category":"people","description":"baby","names":["baby"],"tags":["child","newborn"]},{"emoji":"👦","category":"people","description":"boy","names":["boy"],"tags":["child"]},{"emoji":"👧","category":"people","description":"girl","names":["girl"],"tags":["child"]},{"emoji":"👨","category":"people","description":"man","names":["man"],"tags":["mustache","father","dad"]},{"emoji":"👩","category":"people","description":"woman","names":["woman"],"tags":["girls"]},{"emoji":"👱","category":"people","description":"blond-haired person","names":["blonde_man","person_with_blond_hair"],"tags":["boy"]},{"emoji":"👴","category":"people","description":"old man","names":["older_man"],"tags":[]},{"emoji":"👵","category":"people","description":"old woman","names":["older_woman"],"tags":[]},{"emoji":"👲","category":"people","description":"man with Chinese cap","names":["man_with_gua_pi_mao"],"tags":[]},{"emoji":"👳","category":"people","description":"person wearing turban","names":["man_with_turban"],"tags":[]},{"emoji":"👮","category":"people","description":"police officer","names":["policeman","cop"],"tags":["police","law"]},{"emoji":"👷","category":"people","description":"construction worker","names":["construction_worker_man","construction_worker"],"tags":["helmet"]},{"emoji":"💂","category":"people","description":"guard","names":["guardsman"],"tags":[]},{"emoji":"🎅","category":"people","description":"Santa Claus","names":["santa"],"tags":["christmas"]},{"emoji":"👸","category":"people","description":"princess","names":["princess"],"tags":["blonde","crown","royal"]},{"emoji":"👰","category":"people","description":"bride with veil","names":["bride_with_veil"],"tags":["marriage","wedding"]},{"emoji":"👼","category":"people","description":"baby angel","names":["angel"],"tags":[]},{"emoji":"🙇","category":"people","description":"person bowing","names":["bowing_man","bow"],"tags":["respect","thanks"]},{"emoji":"💁","category":"people","description":"person tipping hand","names":["tipping_hand_woman","information_desk_person","sassy_woman"],"tags":[]},{"emoji":"🙅","category":"people","description":"person gesturing NO","names":["no_good_woman","no_good","ng_woman"],"tags":["stop","halt"]},{"emoji":"🙆","category":"people","description":"person gesturing OK","names":["ok_woman"],"tags":[]},{"emoji":"🙋","category":"people","description":"person raising hand","names":["raising_hand_woman","raising_hand"],"tags":[]},{"emoji":"🙎","category":"people","description":"person pouting","names":["pouting_woman","person_with_pouting_face"],"tags":[]},{"emoji":"🙍","category":"people","description":"person frowning","names":["frowning_woman","person_frowning"],"tags":["sad"]},{"emoji":"💇","category":"people","description":"person getting haircut","names":["haircut_woman","haircut"],"tags":["beauty"]},{"emoji":"💆","category":"people","description":"person getting massage","names":["massage_woman","massage"],"tags":["spa"]},{"emoji":"💃","category":"people","description":"woman dancing","names":["dancer"],"tags":["dress"]},{"emoji":"👯","category":"people","description":"people with bunny ears partying","names":["dancing_women","dancers"],"tags":["bunny"]},{"emoji":"🚶","category":"people","description":"person walking","names":["walking_man","walking"],"tags":[]},{"emoji":"🏃","category":"people","description":"person running","names":["running_man","runner","running"],"tags":["exercise","workout","marathon"]},{"emoji":"👫","category":"people","description":"man and woman holding hands","names":["couple"],"tags":["date"]},{"emoji":"👭","category":"people","description":"two women holding hands","names":["two_women_holding_hands"],"tags":["couple","date"]},{"emoji":"👬","category":"people","description":"two men holding hands","names":["two_men_holding_hands"],"tags":["couple","date"]},{"emoji":"💑","category":"people","description":"couple with heart","names":["couple_with_heart_woman_man","couple_with_heart"],"tags":[]},{"emoji":"💏","category":"people","description":"kiss","names":["couplekiss_man_woman"],"tags":[]},{"emoji":"👪","category":"people","description":"family","names":["family_man_woman_boy","family"],"tags":["home","parents","child"]},{"emoji":"👚","category":"people","description":"woman’s clothes","names":["womans_clothes"],"tags":[]},{"emoji":"👕","category":"people","description":"t-shirt","names":["shirt","tshirt"],"tags":[]},{"emoji":"👖","category":"people","description":"jeans","names":["jeans"],"tags":["pants"]},{"emoji":"👔","category":"people","description":"necktie","names":["necktie"],"tags":["shirt","formal"]},{"emoji":"👗","category":"people","description":"dress","names":["dress"],"tags":[]},{"emoji":"👙","category":"people","description":"bikini","names":["bikini"],"tags":["beach"]},{"emoji":"👘","category":"people","description":"kimono","names":["kimono"],"tags":[]},{"emoji":"👠","category":"people","description":"high-heeled shoe","names":["high_heel"],"tags":["shoe"]},{"emoji":"👡","category":"people","description":"woman’s sandal","names":["sandal"],"tags":["shoe"]},{"emoji":"👢","category":"people","description":"woman’s boot","names":["boot"],"tags":[]},{"emoji":"👞","category":"people","description":"man’s shoe","names":["mans_shoe","shoe"],"tags":[]},{"emoji":"👟","category":"people","description":"running shoe","names":["athletic_shoe"],"tags":["sneaker","sport","running"]},{"emoji":"👒","category":"people","description":"woman’s hat","names":["womans_hat"],"tags":[]},{"emoji":"🎩","category":"people","description":"top hat","names":["tophat"],"tags":["hat","classy"]},{"emoji":"🎓","category":"people","description":"graduation cap","names":["mortar_board"],"tags":["education","college","university","graduation"]},{"emoji":"👑","category":"people","description":"crown","names":["crown"],"tags":["king","queen","royal"]},{"emoji":"🎒","category":"people","description":"school backpack","names":["school_satchel"],"tags":[]},{"emoji":"👝","category":"people","description":"clutch bag","names":["pouch"],"tags":["bag"]},{"emoji":"👛","category":"people","description":"purse","names":["purse"],"tags":[]},{"emoji":"👜","category":"people","description":"handbag","names":["handbag"],"tags":["bag"]},{"emoji":"💼","category":"people","description":"briefcase","names":["briefcase"],"tags":["business"]},{"emoji":"👓","category":"people","description":"glasses","names":["eyeglasses"],"tags":["glasses"]},{"emoji":"🌂","category":"people","description":"closed umbrella","names":["closed_umbrella"],"tags":["weather","rain"]},{"emoji":"☂️","category":"people","description":"umbrella","names":["open_umbrella"],"tags":[]},{"emoji":"🐶","category":"nature","description":"dog face","names":["dog"],"tags":["pet"]},{"emoji":"🐱","category":"nature","description":"cat face","names":["cat"],"tags":["pet"]},{"emoji":"🐭","category":"nature","description":"mouse face","names":["mouse"],"tags":[]},{"emoji":"🐹","category":"nature","description":"hamster face","names":["hamster"],"tags":["pet"]},{"emoji":"🐰","category":"nature","description":"rabbit face","names":["rabbit"],"tags":["bunny"]},{"emoji":"🐻","category":"nature","description":"bear face","names":["bear"],"tags":[]},{"emoji":"🐼","category":"nature","description":"panda face","names":["panda_face"],"tags":[]},{"emoji":"🐨","category":"nature","description":"koala","names":["koala"],"tags":[]},{"emoji":"🐯","category":"nature","description":"tiger face","names":["tiger"],"tags":[]},{"emoji":"🐮","category":"nature","description":"cow face","names":["cow"],"tags":[]},{"emoji":"🐷","category":"nature","description":"pig face","names":["pig"],"tags":[]},{"emoji":"🐽","category":"nature","description":"pig nose","names":["pig_nose"],"tags":[]},{"emoji":"🐸","category":"nature","description":"frog face","names":["frog"],"tags":[]},{"emoji":"🐵","category":"nature","description":"monkey face","names":["monkey_face"],"tags":[]},{"emoji":"🙈","category":"nature","description":"see-no-evil monkey","names":["see_no_evil"],"tags":["monkey","blind","ignore"]},{"emoji":"🙉","category":"nature","description":"hear-no-evil monkey","names":["hear_no_evil"],"tags":["monkey","deaf"]},{"emoji":"🙊","category":"nature","description":"speak-no-evil monkey","names":["speak_no_evil"],"tags":["monkey","mute","hush"]},{"emoji":"🐒","category":"nature","description":"monkey","names":["monkey"],"tags":[]},{"emoji":"🐔","category":"nature","description":"chicken","names":["chicken"],"tags":[]},{"emoji":"🐧","category":"nature","description":"penguin","names":["penguin"],"tags":[]},{"emoji":"🐦","category":"nature","description":"bird","names":["bird"],"tags":[]},{"emoji":"🐤","category":"nature","description":"baby chick","names":["baby_chick"],"tags":[]},{"emoji":"🐣","category":"nature","description":"hatching chick","names":["hatching_chick"],"tags":[]},{"emoji":"🐥","category":"nature","description":"front-facing baby chick","names":["hatched_chick"],"tags":[]},{"emoji":"🐺","category":"nature","description":"wolf face","names":["wolf"],"tags":[]},{"emoji":"🐗","category":"nature","description":"boar","names":["boar"],"tags":[]},{"emoji":"🐴","category":"nature","description":"horse face","names":["horse"],"tags":[]},{"emoji":"🐝","category":"nature","description":"honeybee","names":["bee","honeybee"],"tags":[]},{"emoji":"🐛","category":"nature","description":"bug","names":["bug"],"tags":[]},{"emoji":"🐌","category":"nature","description":"snail","names":["snail"],"tags":["slow"]},{"emoji":"🐚","category":"nature","description":"spiral shell","names":["shell"],"tags":["sea","beach"]},{"emoji":"🐞","category":"nature","description":"lady beetle","names":["beetle"],"tags":["bug"]},{"emoji":"🐜","category":"nature","description":"ant","names":["ant"],"tags":[]},{"emoji":"🐢","category":"nature","description":"turtle","names":["turtle"],"tags":["slow"]},{"emoji":"🐍","category":"nature","description":"snake","names":["snake"],"tags":[]},{"emoji":"🐙","category":"nature","description":"octopus","names":["octopus"],"tags":[]},{"emoji":"🐠","category":"nature","description":"tropical fish","names":["tropical_fish"],"tags":[]},{"emoji":"🐟","category":"nature","description":"fish","names":["fish"],"tags":[]},{"emoji":"🐡","category":"nature","description":"blowfish","names":["blowfish"],"tags":[]},{"emoji":"🐬","category":"nature","description":"dolphin","names":["dolphin","flipper"],"tags":[]},{"emoji":"🐳","category":"nature","description":"spouting whale","names":["whale"],"tags":["sea"]},{"emoji":"🐋","category":"nature","description":"whale","names":["whale2"],"tags":[]},{"emoji":"🐊","category":"nature","description":"crocodile","names":["crocodile"],"tags":[]},{"emoji":"🐆","category":"nature","description":"leopard","names":["leopard"],"tags":[]},{"emoji":"🐅","category":"nature","description":"tiger","names":["tiger2"],"tags":[]},{"emoji":"🐃","category":"nature","description":"water buffalo","names":["water_buffalo"],"tags":[]},{"emoji":"🐂","category":"nature","description":"ox","names":["ox"],"tags":[]},{"emoji":"🐄","category":"nature","description":"cow","names":["cow2"],"tags":[]},{"emoji":"🐪","category":"nature","description":"camel","names":["dromedary_camel"],"tags":["desert"]},{"emoji":"🐫","category":"nature","description":"two-hump camel","names":["camel"],"tags":[]},{"emoji":"🐘","category":"nature","description":"elephant","names":["elephant"],"tags":[]},{"emoji":"🐎","category":"nature","description":"horse","names":["racehorse"],"tags":["speed"]},{"emoji":"🐖","category":"nature","description":"pig","names":["pig2"],"tags":[]},{"emoji":"🐐","category":"nature","description":"goat","names":["goat"],"tags":[]},{"emoji":"🐏","category":"nature","description":"ram","names":["ram"],"tags":[]},{"emoji":"🐑","category":"nature","description":"sheep","names":["sheep"],"tags":[]},{"emoji":"🐕","category":"nature","description":"dog","names":["dog2"],"tags":[]},{"emoji":"🐩","category":"nature","description":"poodle","names":["poodle"],"tags":["dog"]},{"emoji":"🐈","category":"nature","description":"cat","names":["cat2"],"tags":[]},{"emoji":"🐓","category":"nature","description":"rooster","names":["rooster"],"tags":[]},{"emoji":"🐇","category":"nature","description":"rabbit","names":["rabbit2"],"tags":[]},{"emoji":"🐁","category":"nature","description":"mouse","names":["mouse2"],"tags":[]},{"emoji":"🐀","category":"nature","description":"rat","names":["rat"],"tags":[]},{"emoji":"🐾","category":"nature","description":"paw prints","names":["feet","paw_prints"],"tags":[]},{"emoji":"🐉","category":"nature","description":"dragon","names":["dragon"],"tags":[]},{"emoji":"🐲","category":"nature","description":"dragon face","names":["dragon_face"],"tags":[]},{"emoji":"🌵","category":"nature","description":"cactus","names":["cactus"],"tags":[]},{"emoji":"🎄","category":"nature","description":"Christmas tree","names":["christmas_tree"],"tags":[]},{"emoji":"🌲","category":"nature","description":"evergreen tree","names":["evergreen_tree"],"tags":["wood"]},{"emoji":"🌳","category":"nature","description":"deciduous tree","names":["deciduous_tree"],"tags":["wood"]},{"emoji":"🌴","category":"nature","description":"palm tree","names":["palm_tree"],"tags":[]},{"emoji":"🌱","category":"nature","description":"seedling","names":["seedling"],"tags":["plant"]},{"emoji":"🌿","category":"nature","description":"herb","names":["herb"],"tags":[]},{"emoji":"☘️","category":"nature","description":"shamrock","names":["shamrock"],"tags":[]},{"emoji":"🍀","category":"nature","description":"four leaf clover","names":["four_leaf_clover"],"tags":["luck"]},{"emoji":"🎍","category":"nature","description":"pine decoration","names":["bamboo"],"tags":[]},{"emoji":"🎋","category":"nature","description":"tanabata tree","names":["tanabata_tree"],"tags":[]},{"emoji":"🍃","category":"nature","description":"leaf fluttering in wind","names":["leaves"],"tags":["leaf"]},{"emoji":"🍂","category":"nature","description":"fallen leaf","names":["fallen_leaf"],"tags":["autumn"]},{"emoji":"🍁","category":"nature","description":"maple leaf","names":["maple_leaf"],"tags":["canada"]},{"emoji":"🍄","category":"nature","description":"mushroom","names":["mushroom"],"tags":[]},{"emoji":"🌾","category":"nature","description":"sheaf of rice","names":["ear_of_rice"],"tags":[]},{"emoji":"💐","category":"nature","description":"bouquet","names":["bouquet"],"tags":["flowers"]},{"emoji":"🌷","category":"nature","description":"tulip","names":["tulip"],"tags":["flower"]},{"emoji":"🌹","category":"nature","description":"rose","names":["rose"],"tags":["flower"]},{"emoji":"🌻","category":"nature","description":"sunflower","names":["sunflower"],"tags":[]},{"emoji":"🌼","category":"nature","description":"blossom","names":["blossom"],"tags":[]},{"emoji":"🌸","category":"nature","description":"cherry blossom","names":["cherry_blossom"],"tags":["flower","spring"]},{"emoji":"🌺","category":"nature","description":"hibiscus","names":["hibiscus"],"tags":[]},{"emoji":"🌎","category":"nature","description":"globe showing Americas","names":["earth_americas"],"tags":["globe","world","international"]},{"emoji":"🌍","category":"nature","description":"globe showing Europe-Africa","names":["earth_africa"],"tags":["globe","world","international"]},{"emoji":"🌏","category":"nature","description":"globe showing Asia-Australia","names":["earth_asia"],"tags":["globe","world","international"]},{"emoji":"🌕","category":"nature","description":"full moon","names":["full_moon"],"tags":[]},{"emoji":"🌖","category":"nature","description":"waning gibbous moon","names":["waning_gibbous_moon"],"tags":[]},{"emoji":"🌗","category":"nature","description":"last quarter moon","names":["last_quarter_moon"],"tags":[]},{"emoji":"🌘","category":"nature","description":"waning crescent moon","names":["waning_crescent_moon"],"tags":[]},{"emoji":"🌑","category":"nature","description":"new moon","names":["new_moon"],"tags":[]},{"emoji":"🌒","category":"nature","description":"waxing crescent moon","names":["waxing_crescent_moon"],"tags":[]},{"emoji":"🌓","category":"nature","description":"first quarter moon","names":["first_quarter_moon"],"tags":[]},{"emoji":"🌔","category":"nature","description":"waxing gibbous moon","names":["moon","waxing_gibbous_moon"],"tags":[]},{"emoji":"🌚","category":"nature","description":"new moon face","names":["new_moon_with_face"],"tags":[]},{"emoji":"🌝","category":"nature","description":"full moon with face","names":["full_moon_with_face"],"tags":[]},{"emoji":"🌞","category":"nature","description":"sun with face","names":["sun_with_face"],"tags":["summer"]},{"emoji":"🌛","category":"nature","description":"first quarter moon with face","names":["first_quarter_moon_with_face"],"tags":[]},{"emoji":"🌜","category":"nature","description":"last quarter moon with face","names":["last_quarter_moon_with_face"],"tags":[]},{"emoji":"🌙","category":"nature","description":"crescent moon","names":["crescent_moon"],"tags":["night"]},{"emoji":"💫","category":"nature","description":"dizzy","names":["dizzy"],"tags":["star"]},{"emoji":"⭐️","category":"nature","description":"white medium star","names":["star"],"tags":[]},{"emoji":"🌟","category":"nature","description":"glowing star","names":["star2"],"tags":[]},{"emoji":"✨","category":"nature","description":"sparkles","names":["sparkles"],"tags":["shiny"]},{"emoji":"⚡️","category":"nature","description":"high voltage","names":["zap"],"tags":["lightning","thunder"]},{"emoji":"🔥","category":"nature","description":"fire","names":["fire"],"tags":["burn"]},{"emoji":"💥","category":"nature","description":"collision","names":["boom","collision"],"tags":["explode"]},{"emoji":"☄","category":"nature","description":"comet","names":["comet"],"tags":[]},{"emoji":"☀️","category":"nature","description":"sun","names":["sunny"],"tags":["weather"]},{"emoji":"⛅️","category":"nature","description":"sun behind cloud","names":["partly_sunny"],"tags":["weather","cloud"]},{"emoji":"🌈","category":"nature","description":"rainbow","names":["rainbow"],"tags":[]},{"emoji":"☁️","category":"nature","description":"cloud","names":["cloud"],"tags":[]},{"emoji":"☃️","category":"nature","description":"snowman","names":["snowman_with_snow"],"tags":["winter","christmas"]},{"emoji":"⛄️","category":"nature","description":"snowman without snow","names":["snowman"],"tags":["winter"]},{"emoji":"❄️","category":"nature","description":"snowflake","names":["snowflake"],"tags":["winter","cold","weather"]},{"emoji":"💨","category":"nature","description":"dashing away","names":["dash"],"tags":["wind","blow","fast"]},{"emoji":"🌊","category":"nature","description":"water wave","names":["ocean"],"tags":["sea"]},{"emoji":"💧","category":"nature","description":"droplet","names":["droplet"],"tags":["water"]},{"emoji":"💦","category":"nature","description":"sweat droplets","names":["sweat_drops"],"tags":["water","workout"]},{"emoji":"☔️","category":"nature","description":"umbrella with rain drops","names":["umbrella"],"tags":["rain","weather"]},{"emoji":"🍏","category":"foods","description":"green apple","names":["green_apple"],"tags":["fruit"]},{"emoji":"🍎","category":"foods","description":"red apple","names":["apple"],"tags":[]},{"emoji":"🍐","category":"foods","description":"pear","names":["pear"],"tags":[]},{"emoji":"🍊","category":"foods","description":"tangerine","names":["tangerine","orange","mandarin"],"tags":[]},{"emoji":"🍋","category":"foods","description":"lemon","names":["lemon"],"tags":[]},{"emoji":"🍌","category":"foods","description":"banana","names":["banana"],"tags":["fruit"]},{"emoji":"🍉","category":"foods","description":"watermelon","names":["watermelon"],"tags":[]},{"emoji":"🍇","category":"foods","description":"grapes","names":["grapes"],"tags":[]},{"emoji":"🍓","category":"foods","description":"strawberry","names":["strawberry"],"tags":["fruit"]},{"emoji":"🍈","category":"foods","description":"melon","names":["melon"],"tags":[]},{"emoji":"🍒","category":"foods","description":"cherries","names":["cherries"],"tags":["fruit"]},{"emoji":"🍑","category":"foods","description":"peach","names":["peach"],"tags":[]},{"emoji":"🍍","category":"foods","description":"pineapple","names":["pineapple"],"tags":[]},{"emoji":"🍅","category":"foods","description":"tomato","names":["tomato"],"tags":[]},{"emoji":"🍆","category":"foods","description":"eggplant","names":["eggplant"],"tags":["aubergine"]},{"emoji":"🌽","category":"foods","description":"ear of corn","names":["corn"],"tags":[]},{"emoji":"🍠","category":"foods","description":"roasted sweet potato","names":["sweet_potato"],"tags":[]},{"emoji":"🌰","category":"foods","description":"chestnut","names":["chestnut"],"tags":[]},{"emoji":"🍯","category":"foods","description":"honey pot","names":["honey_pot"],"tags":[]},{"emoji":"🍞","category":"foods","description":"bread","names":["bread"],"tags":["toast"]},{"emoji":"🍳","category":"foods","description":"cooking","names":["fried_egg"],"tags":["breakfast"]},{"emoji":"🍤","category":"foods","description":"fried shrimp","names":["fried_shrimp"],"tags":["tempura"]},{"emoji":"🍗","category":"foods","description":"poultry leg","names":["poultry_leg"],"tags":["meat","chicken"]},{"emoji":"🍖","category":"foods","description":"meat on bone","names":["meat_on_bone"],"tags":[]},{"emoji":"🍕","category":"foods","description":"pizza","names":["pizza"],"tags":[]},{"emoji":"🍔","category":"foods","description":"hamburger","names":["hamburger"],"tags":["burger"]},{"emoji":"🍟","category":"foods","description":"french fries","names":["fries"],"tags":[]},{"emoji":"🍝","category":"foods","description":"spaghetti","names":["spaghetti"],"tags":["pasta"]},{"emoji":"🍜","category":"foods","description":"steaming bowl","names":["ramen"],"tags":["noodle"]},{"emoji":"🍲","category":"foods","description":"pot of food","names":["stew"],"tags":[]},{"emoji":"🍥","category":"foods","description":"fish cake with swirl","names":["fish_cake"],"tags":[]},{"emoji":"🍣","category":"foods","description":"sushi","names":["sushi"],"tags":[]},{"emoji":"🍱","category":"foods","description":"bento box","names":["bento"],"tags":[]},{"emoji":"🍛","category":"foods","description":"curry rice","names":["curry"],"tags":[]},{"emoji":"🍚","category":"foods","description":"cooked rice","names":["rice"],"tags":[]},{"emoji":"🍙","category":"foods","description":"rice ball","names":["rice_ball"],"tags":[]},{"emoji":"🍘","category":"foods","description":"rice cracker","names":["rice_cracker"],"tags":[]},{"emoji":"🍢","category":"foods","description":"oden","names":["oden"],"tags":[]},{"emoji":"🍡","category":"foods","description":"dango","names":["dango"],"tags":[]},{"emoji":"🍧","category":"foods","description":"shaved ice","names":["shaved_ice"],"tags":[]},{"emoji":"🍨","category":"foods","description":"ice cream","names":["ice_cream"],"tags":[]},{"emoji":"🍦","category":"foods","description":"soft ice cream","names":["icecream"],"tags":[]},{"emoji":"🍰","category":"foods","description":"shortcake","names":["cake"],"tags":["dessert"]},{"emoji":"🎂","category":"foods","description":"birthday cake","names":["birthday"],"tags":["party"]},{"emoji":"🍮","category":"foods","description":"custard","names":["custard"],"tags":[]},{"emoji":"🍭","category":"foods","description":"lollipop","names":["lollipop"],"tags":[]},{"emoji":"🍬","category":"foods","description":"candy","names":["candy"],"tags":["sweet"]},{"emoji":"🍫","category":"foods","description":"chocolate bar","names":["chocolate_bar"],"tags":[]},{"emoji":"🍩","category":"foods","description":"doughnut","names":["doughnut"],"tags":[]},{"emoji":"🍪","category":"foods","description":"cookie","names":["cookie"],"tags":[]},{"emoji":"🍼","category":"foods","description":"baby bottle","names":["baby_bottle"],"tags":["milk"]},{"emoji":"☕️","category":"foods","description":"hot beverage","names":["coffee"],"tags":["cafe","espresso"]},{"emoji":"🍵","category":"foods","description":"teacup without handle","names":["tea"],"tags":["green","breakfast"]},{"emoji":"🍶","category":"foods","description":"sake","names":["sake"],"tags":[]},{"emoji":"🍺","category":"foods","description":"beer mug","names":["beer"],"tags":["drink"]},{"emoji":"🍻","category":"foods","description":"clinking beer mugs","names":["beers"],"tags":["drinks"]},{"emoji":"🍷","category":"foods","description":"wine glass","names":["wine_glass"],"tags":[]},{"emoji":"🥃","category":"foods","description":"tumbler glass","names":["tumbler_glass"],"tags":["whisky"]},{"emoji":"🍸","category":"foods","description":"cocktail glass","names":["cocktail"],"tags":["drink"]},{"emoji":"🍹","category":"foods","description":"tropical drink","names":["tropical_drink"],"tags":["summer","vacation"]},{"emoji":"🍴","category":"foods","description":"fork and knife","names":["fork_and_knife"],"tags":["cutlery"]},{"emoji":"⚽️","category":"activity","description":"soccer ball","names":["soccer"],"tags":["sports"]},{"emoji":"🏀","category":"activity","description":"basketball","names":["basketball"],"tags":["sports"]},{"emoji":"🏈","category":"activity","description":"american football","names":["football"],"tags":["sports"]},{"emoji":"⚾️","category":"activity","description":"baseball","names":["baseball"],"tags":["sports"]},{"emoji":"🎾","category":"activity","description":"tennis","names":["tennis"],"tags":["sports"]},{"emoji":"🏉","category":"activity","description":"rugby football","names":["rugby_football"],"tags":[]},{"emoji":"🎱","category":"activity","description":"pool 8 ball","names":["8ball"],"tags":["pool","billiards"]},{"emoji":"⛳️","category":"activity","description":"flag in hole","names":["golf"],"tags":[]},{"emoji":"🎣","category":"activity","description":"fishing pole","names":["fishing_pole_and_fish"],"tags":[]},{"emoji":"⛸","category":"activity","description":"ice skate","names":["ice_skate"],"tags":["skating"]},{"emoji":"🎿","category":"activity","description":"skis","names":["ski"],"tags":[]},{"emoji":"⛷","category":"activity","description":"skier","names":["skier"],"tags":[]},{"emoji":"🏂","category":"activity","description":"snowboarder","names":["snowboarder"],"tags":[]},{"emoji":"⛹","category":"activity","description":"person bouncing ball","names":["basketball_man"],"tags":[]},{"emoji":"🏄","category":"activity","description":"person surfing","names":["surfing_man","surfer"],"tags":[]},{"emoji":"🏊","category":"activity","description":"person swimming","names":["swimming_man","swimmer"],"tags":[]},{"emoji":"🚣","category":"activity","description":"person rowing boat","names":["rowing_man","rowboat"],"tags":[]},{"emoji":"🏇","category":"activity","description":"horse racing","names":["horse_racing"],"tags":[]},{"emoji":"🚴","category":"activity","description":"person biking","names":["biking_man","bicyclist"],"tags":[]},{"emoji":"🚵","category":"activity","description":"person mountain biking","names":["mountain_biking_man","mountain_bicyclist"],"tags":[]},{"emoji":"🎽","category":"activity","description":"running shirt","names":["running_shirt_with_sash"],"tags":["marathon"]},{"emoji":"🏆","category":"activity","description":"trophy","names":["trophy"],"tags":["award","contest","winner"]},{"emoji":"🎪","category":"activity","description":"circus tent","names":["circus_tent"],"tags":[]},{"emoji":"🎭","category":"activity","description":"performing arts","names":["performing_arts"],"tags":["theater","drama"]},{"emoji":"🎨","category":"activity","description":"artist palette","names":["art"],"tags":["design","paint"]},{"emoji":"🎬","category":"activity","description":"clapper board","names":["clapper"],"tags":["film"]},{"emoji":"🎤","category":"activity","description":"microphone","names":["microphone"],"tags":["sing"]},{"emoji":"🎧","category":"activity","description":"headphone","names":["headphones"],"tags":["music","earphones"]},{"emoji":"🎼","category":"activity","description":"musical score","names":["musical_score"],"tags":[]},{"emoji":"🎹","category":"activity","description":"musical keyboard","names":["musical_keyboard"],"tags":["piano"]},{"emoji":"🎷","category":"activity","description":"saxophone","names":["saxophone"],"tags":[]},{"emoji":"🎺","category":"activity","description":"trumpet","names":["trumpet"],"tags":[]},{"emoji":"🎸","category":"activity","description":"guitar","names":["guitar"],"tags":["rock"]},{"emoji":"🎻","category":"activity","description":"violin","names":["violin"],"tags":[]},{"emoji":"🎲","category":"activity","description":"game die","names":["game_die"],"tags":["dice","gambling"]},{"emoji":"🎯","category":"activity","description":"direct hit","names":["dart"],"tags":["target"]},{"emoji":"🎳","category":"activity","description":"bowling","names":["bowling"],"tags":[]},{"emoji":"🎮","category":"activity","description":"video game","names":["video_game"],"tags":["play","controller","console"]},{"emoji":"🎰","category":"activity","description":"slot machine","names":["slot_machine"],"tags":[]},{"emoji":"🚗","category":"places","description":"automobile","names":["car","red_car"],"tags":[]},{"emoji":"🚕","category":"places","description":"taxi","names":["taxi"],"tags":[]},{"emoji":"🚙","category":"places","description":"sport utility vehicle","names":["blue_car"],"tags":[]},{"emoji":"🚌","category":"places","description":"bus","names":["bus"],"tags":[]},{"emoji":"🚎","category":"places","description":"trolleybus","names":["trolleybus"],"tags":[]},{"emoji":"🚓","category":"places","description":"police car","names":["police_car"],"tags":[]},{"emoji":"🚑","category":"places","description":"ambulance","names":["ambulance"],"tags":[]},{"emoji":"🚒","category":"places","description":"fire engine","names":["fire_engine"],"tags":[]},{"emoji":"🚐","category":"places","description":"minibus","names":["minibus"],"tags":[]},{"emoji":"🚚","category":"places","description":"delivery truck","names":["truck"],"tags":[]},{"emoji":"🚛","category":"places","description":"articulated lorry","names":["articulated_lorry"],"tags":[]},{"emoji":"🚜","category":"places","description":"tractor","names":["tractor"],"tags":[]},{"emoji":"🚲","category":"places","description":"bicycle","names":["bike"],"tags":["bicycle"]},{"emoji":"🚨","category":"places","description":"police car light","names":["rotating_light"],"tags":["911","emergency"]},{"emoji":"🚔","category":"places","description":"oncoming police car","names":["oncoming_police_car"],"tags":[]},{"emoji":"🚍","category":"places","description":"oncoming bus","names":["oncoming_bus"],"tags":[]},{"emoji":"🚘","category":"places","description":"oncoming automobile","names":["oncoming_automobile"],"tags":[]},{"emoji":"🚖","category":"places","description":"oncoming taxi","names":["oncoming_taxi"],"tags":[]},{"emoji":"🚡","category":"places","description":"aerial tramway","names":["aerial_tramway"],"tags":[]},{"emoji":"🚠","category":"places","description":"mountain cableway","names":["mountain_cableway"],"tags":[]},{"emoji":"🚟","category":"places","description":"suspension railway","names":["suspension_railway"],"tags":[]},{"emoji":"🚃","category":"places","description":"railway car","names":["railway_car"],"tags":[]},{"emoji":"🚋","category":"places","description":"tram car","names":["train"],"tags":[]},{"emoji":"🚞","category":"places","description":"mountain railway","names":["mountain_railway"],"tags":[]},{"emoji":"🚝","category":"places","description":"monorail","names":["monorail"],"tags":[]},{"emoji":"🚄","category":"places","description":"high-speed train","names":["bullettrain_side"],"tags":["train"]},{"emoji":"🚅","category":"places","description":"high-speed train with bullet nose","names":["bullettrain_front"],"tags":["train"]},{"emoji":"🚈","category":"places","description":"light rail","names":["light_rail"],"tags":[]},{"emoji":"🚂","category":"places","description":"locomotive","names":["steam_locomotive"],"tags":["train"]},{"emoji":"🚆","category":"places","description":"train","names":["train2"],"tags":[]},{"emoji":"🚇","category":"places","description":"metro","names":["metro"],"tags":[]},{"emoji":"🚊","category":"places","description":"tram","names":["tram"],"tags":[]},{"emoji":"🚉","category":"places","description":"station","names":["station"],"tags":[]},{"emoji":"🚁","category":"places","description":"helicopter","names":["helicopter"],"tags":[]},{"emoji":"✈️","category":"places","description":"airplane","names":["airplane"],"tags":["flight"]},{"emoji":"🚀","category":"places","description":"rocket","names":["rocket"],"tags":["ship","launch"]},{"emoji":"💺","category":"places","description":"seat","names":["seat"],"tags":[]},{"emoji":"⛵️","category":"places","description":"sailboat","names":["boat","sailboat"],"tags":[]},{"emoji":"🚤","category":"places","description":"speedboat","names":["speedboat"],"tags":["ship"]},{"emoji":"⛴","category":"places","description":"ferry","names":["ferry"],"tags":[]},{"emoji":"🚢","category":"places","description":"ship","names":["ship"],"tags":[]},{"emoji":"⚓️","category":"places","description":"anchor","names":["anchor"],"tags":["ship"]},{"emoji":"🚧","category":"places","description":"construction","names":["construction"],"tags":["wip"]},{"emoji":"⛽️","category":"places","description":"fuel pump","names":["fuelpump"],"tags":[]},{"emoji":"🚏","category":"places","description":"bus stop","names":["busstop"],"tags":[]},{"emoji":"🚦","category":"places","description":"vertical traffic light","names":["vertical_traffic_light"],"tags":["semaphore"]},{"emoji":"🚥","category":"places","description":"horizontal traffic light","names":["traffic_light"],"tags":[]},{"emoji":"🗿","category":"places","description":"moai","names":["moyai"],"tags":["stone"]},{"emoji":"🗽","category":"places","description":"Statue of Liberty","names":["statue_of_liberty"],"tags":[]},{"emoji":"⛲️","category":"places","description":"fountain","names":["fountain"],"tags":[]},{"emoji":"🗼","category":"places","description":"Tokyo tower","names":["tokyo_tower"],"tags":[]},{"emoji":"🏰","category":"places","description":"castle","names":["european_castle"],"tags":[]},{"emoji":"🏯","category":"places","description":"Japanese castle","names":["japanese_castle"],"tags":[]},{"emoji":"🎡","category":"places","description":"ferris wheel","names":["ferris_wheel"],"tags":[]},{"emoji":"🎢","category":"places","description":"roller coaster","names":["roller_coaster"],"tags":[]},{"emoji":"🎠","category":"places","description":"carousel horse","names":["carousel_horse"],"tags":[]},{"emoji":"⛰","category":"places","description":"mountain","names":["mountain"],"tags":[]},{"emoji":"🗻","category":"places","description":"mount fuji","names":["mount_fuji"],"tags":[]},{"emoji":"🌋","category":"places","description":"volcano","names":["volcano"],"tags":[]},{"emoji":"⛺️","category":"places","description":"tent","names":["tent"],"tags":["camping"]},{"emoji":"🏭","category":"places","description":"factory","names":["factory"],"tags":[]},{"emoji":"🏡","category":"places","description":"house with garden","names":["house_with_garden"],"tags":[]},{"emoji":"🏢","category":"places","description":"office building","names":["office"],"tags":[]},{"emoji":"🏬","category":"places","description":"department store","names":["department_store"],"tags":[]},{"emoji":"🏣","category":"places","description":"Japanese post office","names":["post_office"],"tags":[]},{"emoji":"🏤","category":"places","description":"post office","names":["european_post_office"],"tags":[]},{"emoji":"🏥","category":"places","description":"hospital","names":["hospital"],"tags":[]},{"emoji":"🏦","category":"places","description":"bank","names":["bank"],"tags":[]},{"emoji":"🏨","category":"places","description":"hotel","names":["hotel"],"tags":[]},{"emoji":"🏪","category":"places","description":"convenience store","names":["convenience_store"],"tags":[]},{"emoji":"🏫","category":"places","description":"school","names":["school"],"tags":[]},{"emoji":"🏩","category":"places","description":"love hotel","names":["love_hotel"],"tags":[]},{"emoji":"💒","category":"places","description":"wedding","names":["wedding"],"tags":["marriage"]},{"emoji":"⛪️","category":"places","description":"church","names":["church"],"tags":[]},{"emoji":"🗾","category":"places","description":"map of Japan","names":["japan"],"tags":[]},{"emoji":"🎑","category":"places","description":"moon viewing ceremony","names":["rice_scene"],"tags":[]},{"emoji":"🌅","category":"places","description":"sunrise","names":["sunrise"],"tags":[]},{"emoji":"🌄","category":"places","description":"sunrise over mountains","names":["sunrise_over_mountains"],"tags":[]},{"emoji":"🌠","category":"places","description":"shooting star","names":["stars"],"tags":[]},{"emoji":"🎇","category":"places","description":"sparkler","names":["sparkler"],"tags":[]},{"emoji":"🎆","category":"places","description":"fireworks","names":["fireworks"],"tags":["festival","celebration"]},{"emoji":"🌇","category":"places","description":"sunset","names":["city_sunrise"],"tags":[]},{"emoji":"🌆","category":"places","description":"cityscape at dusk","names":["city_sunset"],"tags":[]},{"emoji":"🌃","category":"places","description":"night with stars","names":["night_with_stars"],"tags":[]},{"emoji":"🌌","category":"places","description":"milky way","names":["milky_way"],"tags":[]},{"emoji":"🌉","category":"places","description":"bridge at night","names":["bridge_at_night"],"tags":[]},{"emoji":"🌁","category":"places","description":"foggy","names":["foggy"],"tags":["karl"]},{"emoji":"⌚️","category":"objects","description":"watch","names":["watch"],"tags":["time"]},{"emoji":"📱","category":"objects","description":"mobile phone","names":["iphone"],"tags":["smartphone","mobile"]},{"emoji":"📲","category":"objects","description":"mobile phone with arrow","names":["calling"],"tags":["call","incoming"]},{"emoji":"💻","category":"objects","description":"laptop computer","names":["computer"],"tags":["desktop","screen"]},{"emoji":"💽","category":"objects","description":"computer disk","names":["minidisc"],"tags":[]},{"emoji":"💾","category":"objects","description":"floppy disk","names":["floppy_disk"],"tags":["save"]},{"emoji":"💿","category":"objects","description":"optical disk","names":["cd"],"tags":[]},{"emoji":"📀","category":"objects","description":"dvd","names":["dvd"],"tags":[]},{"emoji":"📼","category":"objects","description":"videocassette","names":["vhs"],"tags":[]},{"emoji":"📷","category":"objects","description":"camera","names":["camera"],"tags":["photo"]},{"emoji":"📹","category":"objects","description":"video camera","names":["video_camera"],"tags":[]},{"emoji":"🎥","category":"objects","description":"movie camera","names":["movie_camera"],"tags":["film","video"]},{"emoji":"📞","category":"objects","description":"telephone receiver","names":["telephone_receiver"],"tags":["phone","call"]},{"emoji":"☎️","category":"objects","description":"telephone","names":["phone","telephone"],"tags":[]},{"emoji":"📟","category":"objects","description":"pager","names":["pager"],"tags":[]},{"emoji":"📠","category":"objects","description":"fax machine","names":["fax"],"tags":[]},{"emoji":"📺","category":"objects","description":"television","names":["tv"],"tags":[]},{"emoji":"📻","category":"objects","description":"radio","names":["radio"],"tags":["podcast"]},{"emoji":"⏰","category":"objects","description":"alarm clock","names":["alarm_clock"],"tags":["morning"]},{"emoji":"⌛️","category":"objects","description":"hourglass","names":["hourglass"],"tags":["time"]},{"emoji":"⏳","category":"objects","description":"hourglass with flowing sand","names":["hourglass_flowing_sand"],"tags":["time"]},{"emoji":"📡","category":"objects","description":"satellite antenna","names":["satellite"],"tags":["signal"]},{"emoji":"🔋","category":"objects","description":"battery","names":["battery"],"tags":["power"]},{"emoji":"🔌","category":"objects","description":"electric plug","names":["electric_plug"],"tags":[]},{"emoji":"💡","category":"objects","description":"light bulb","names":["bulb"],"tags":["idea","light"]},{"emoji":"🔦","category":"objects","description":"flashlight","names":["flashlight"],"tags":[]},{"emoji":"💸","category":"objects","description":"money with wings","names":["money_with_wings"],"tags":["dollar"]},{"emoji":"💵","category":"objects","description":"dollar banknote","names":["dollar"],"tags":["money"]},{"emoji":"💴","category":"objects","description":"yen banknote","names":["yen"],"tags":[]},{"emoji":"💶","category":"objects","description":"euro banknote","names":["euro"],"tags":[]},{"emoji":"💷","category":"objects","description":"pound banknote","names":["pound"],"tags":[]},{"emoji":"💰","category":"objects","description":"money bag","names":["moneybag"],"tags":["dollar","cream"]},{"emoji":"💳","category":"objects","description":"credit card","names":["credit_card"],"tags":["subscription"]},{"emoji":"💎","category":"objects","description":"gem stone","names":["gem"],"tags":["diamond"]},{"emoji":"⚖️","category":"objects","description":"balance scale","names":["balance_scale"],"tags":[]},{"emoji":"🔧","category":"objects","description":"wrench","names":["wrench"],"tags":["tool"]},{"emoji":"🔨","category":"objects","description":"hammer","names":["hammer"],"tags":["tool"]},{"emoji":"🔩","category":"objects","description":"nut and bolt","names":["nut_and_bolt"],"tags":[]},{"emoji":"⚙️","category":"objects","description":"gear","names":["gear"],"tags":[]},{"emoji":"⛓","category":"objects","description":"chains","names":["chains"],"tags":[]},{"emoji":"🔫","category":"objects","description":"pistol","names":["gun"],"tags":["shoot","weapon"]},{"emoji":"💣","category":"objects","description":"bomb","names":["bomb"],"tags":["boom"]},{"emoji":"🔪","category":"objects","description":"kitchen knife","names":["hocho","knife"],"tags":["cut","chop"]},{"emoji":"⚔️","category":"objects","description":"crossed swords","names":["crossed_swords"],"tags":[]},{"emoji":"🚬","category":"objects","description":"cigarette","names":["smoking"],"tags":["cigarette"]},{"emoji":"⚰️","category":"objects","description":"coffin","names":["coffin"],"tags":["funeral"]},{"emoji":"⚱️","category":"objects","description":"funeral urn","names":["funeral_urn"],"tags":[]},{"emoji":"🔮","category":"objects","description":"crystal ball","names":["crystal_ball"],"tags":["fortune"]},{"emoji":"💈","category":"objects","description":"barber pole","names":["barber"],"tags":[]},{"emoji":"⚗️","category":"objects","description":"alembic","names":["alembic"],"tags":[]},{"emoji":"🔭","category":"objects","description":"telescope","names":["telescope"],"tags":[]},{"emoji":"🔬","category":"objects","description":"microscope","names":["microscope"],"tags":["science","laboratory","investigate"]},{"emoji":"💊","category":"objects","description":"pill","names":["pill"],"tags":["health","medicine"]},{"emoji":"💉","category":"objects","description":"syringe","names":["syringe"],"tags":["health","hospital","needle"]},{"emoji":"🚽","category":"objects","description":"toilet","names":["toilet"],"tags":["wc"]},{"emoji":"🚰","category":"objects","description":"potable water","names":["potable_water"],"tags":[]},{"emoji":"🚿","category":"objects","description":"shower","names":["shower"],"tags":["bath"]},{"emoji":"🛁","category":"objects","description":"bathtub","names":["bathtub"],"tags":[]},{"emoji":"🛀","category":"objects","description":"person taking bath","names":["bath"],"tags":["shower"]},{"emoji":"🔑","category":"objects","description":"key","names":["key"],"tags":["lock","password"]},{"emoji":"🚪","category":"objects","description":"door","names":["door"],"tags":[]},{"emoji":"🎁","category":"objects","description":"wrapped gift","names":["gift"],"tags":["present","birthday","christmas"]},{"emoji":"🎈","category":"objects","description":"balloon","names":["balloon"],"tags":["party","birthday"]},{"emoji":"🎏","category":"objects","description":"carp streamer","names":["flags"],"tags":[]},{"emoji":"🎀","category":"objects","description":"ribbon","names":["ribbon"],"tags":[]},{"emoji":"🎊","category":"objects","description":"confetti ball","names":["confetti_ball"],"tags":[]},{"emoji":"🎉","category":"objects","description":"party popper","names":["tada"],"tags":["hooray","party"]},{"emoji":"🎎","category":"objects","description":"Japanese dolls","names":["dolls"],"tags":[]},{"emoji":"🏮","category":"objects","description":"red paper lantern","names":["izakaya_lantern","lantern"],"tags":[]},{"emoji":"✉️","category":"objects","description":"envelope","names":["email","envelope"],"tags":["letter"]},{"emoji":"📩","category":"objects","description":"envelope with arrow","names":["envelope_with_arrow"],"tags":[]},{"emoji":"📨","category":"objects","description":"incoming envelope","names":["incoming_envelope"],"tags":[]},{"emoji":"📧","category":"objects","description":"e-mail","names":["e-mail"],"tags":[]},{"emoji":"💌","category":"objects","description":"love letter","names":["love_letter"],"tags":["email","envelope"]},{"emoji":"📥","category":"objects","description":"inbox tray","names":["inbox_tray"],"tags":[]},{"emoji":"📤","category":"objects","description":"outbox tray","names":["outbox_tray"],"tags":[]},{"emoji":"📦","category":"objects","description":"package","names":["package"],"tags":["shipping"]},{"emoji":"📪","category":"objects","description":"closed mailbox with lowered flag","names":["mailbox_closed"],"tags":[]},{"emoji":"📫","category":"objects","description":"closed mailbox with raised flag","names":["mailbox"],"tags":[]},{"emoji":"📬","category":"objects","description":"open mailbox with raised flag","names":["mailbox_with_mail"],"tags":[]},{"emoji":"📭","category":"objects","description":"open mailbox with lowered flag","names":["mailbox_with_no_mail"],"tags":[]},{"emoji":"📮","category":"objects","description":"postbox","names":["postbox"],"tags":[]},{"emoji":"📯","category":"objects","description":"postal horn","names":["postal_horn"],"tags":[]},{"emoji":"📜","category":"objects","description":"scroll","names":["scroll"],"tags":["document"]},{"emoji":"📃","category":"objects","description":"page with curl","names":["page_with_curl"],"tags":[]},{"emoji":"📄","category":"objects","description":"page facing up","names":["page_facing_up"],"tags":["document"]},{"emoji":"📑","category":"objects","description":"bookmark tabs","names":["bookmark_tabs"],"tags":[]},{"emoji":"📊","category":"objects","description":"bar chart","names":["bar_chart"],"tags":["stats","metrics"]},{"emoji":"📈","category":"objects","description":"chart increasing","names":["chart_with_upwards_trend"],"tags":["graph","metrics"]},{"emoji":"📉","category":"objects","description":"chart decreasing","names":["chart_with_downwards_trend"],"tags":["graph","metrics"]},{"emoji":"📆","category":"objects","description":"tear-off calendar","names":["calendar"],"tags":["schedule"]},{"emoji":"📅","category":"objects","description":"calendar","names":["date"],"tags":["calendar","schedule"]},{"emoji":"📇","category":"objects","description":"card index","names":["card_index"],"tags":[]},{"emoji":"📋","category":"objects","description":"clipboard","names":["clipboard"],"tags":[]},{"emoji":"📁","category":"objects","description":"file folder","names":["file_folder"],"tags":["directory"]},{"emoji":"📂","category":"objects","description":"open file folder","names":["open_file_folder"],"tags":[]},{"emoji":"📰","category":"objects","description":"newspaper","names":["newspaper"],"tags":["press"]},{"emoji":"📓","category":"objects","description":"notebook","names":["notebook"],"tags":[]},{"emoji":"📔","category":"objects","description":"notebook with decorative cover","names":["notebook_with_decorative_cover"],"tags":[]},{"emoji":"📒","category":"objects","description":"ledger","names":["ledger"],"tags":[]},{"emoji":"📕","category":"objects","description":"closed book","names":["closed_book"],"tags":[]},{"emoji":"📗","category":"objects","description":"green book","names":["green_book"],"tags":[]},{"emoji":"📘","category":"objects","description":"blue book","names":["blue_book"],"tags":[]},{"emoji":"📙","category":"objects","description":"orange book","names":["orange_book"],"tags":[]},{"emoji":"📚","category":"objects","description":"books","names":["books"],"tags":["library"]},{"emoji":"📖","category":"objects","description":"open book","names":["book","open_book"],"tags":[]},{"emoji":"🔖","category":"objects","description":"bookmark","names":["bookmark"],"tags":[]},{"emoji":"🔗","category":"objects","description":"link","names":["link"],"tags":[]},{"emoji":"📎","category":"objects","description":"paperclip","names":["paperclip"],"tags":[]},{"emoji":"📐","category":"objects","description":"triangular ruler","names":["triangular_ruler"],"tags":[]},{"emoji":"📏","category":"objects","description":"straight ruler","names":["straight_ruler"],"tags":[]},{"emoji":"📌","category":"objects","description":"pushpin","names":["pushpin"],"tags":["location"]},{"emoji":"📍","category":"objects","description":"round pushpin","names":["round_pushpin"],"tags":["location"]},{"emoji":"✂️","category":"objects","description":"scissors","names":["scissors"],"tags":["cut"]},{"emoji":"✒️","category":"objects","description":"black nib","names":["black_nib"],"tags":[]},{"emoji":"📝","category":"objects","description":"memo","names":["memo","pencil"],"tags":["document","note"]},{"emoji":"✏️","category":"objects","description":"pencil","names":["pencil2"],"tags":[]},{"emoji":"🔍","category":"objects","description":"left-pointing magnifying glass","names":["mag"],"tags":["search","zoom"]},{"emoji":"🔎","category":"objects","description":"right-pointing magnifying glass","names":["mag_right"],"tags":[]},{"emoji":"🔏","category":"objects","description":"locked with pen","names":["lock_with_ink_pen"],"tags":[]},{"emoji":"🔐","category":"objects","description":"locked with key","names":["closed_lock_with_key"],"tags":["security"]},{"emoji":"🔒","category":"objects","description":"locked","names":["lock"],"tags":["security","private"]},{"emoji":"🔓","category":"objects","description":"unlocked","names":["unlock"],"tags":["security"]},{"emoji":"❤️","category":"symbols","description":"red heart","names":["heart"],"tags":["love"]},{"emoji":"💛","category":"symbols","description":"yellow heart","names":["yellow_heart"],"tags":[]},{"emoji":"💚","category":"symbols","description":"green heart","names":["green_heart"],"tags":[]},{"emoji":"💙","category":"symbols","description":"blue heart","names":["blue_heart"],"tags":[]},{"emoji":"💜","category":"symbols","description":"purple heart","names":["purple_heart"],"tags":[]},{"emoji":"💔","category":"symbols","description":"broken heart","names":["broken_heart"],"tags":[]},{"emoji":"❣️","category":"symbols","description":"heavy heart exclamation","names":["heavy_heart_exclamation"],"tags":[]},{"emoji":"💕","category":"symbols","description":"two hearts","names":["two_hearts"],"tags":[]},{"emoji":"💞","category":"symbols","description":"revolving hearts","names":["revolving_hearts"],"tags":[]},{"emoji":"💓","category":"symbols","description":"beating heart","names":["heartbeat"],"tags":[]},{"emoji":"💗","category":"symbols","description":"growing heart","names":["heartpulse"],"tags":[]},{"emoji":"💖","category":"symbols","description":"sparkling heart","names":["sparkling_heart"],"tags":[]},{"emoji":"💘","category":"symbols","description":"heart with arrow","names":["cupid"],"tags":["love","heart"]},{"emoji":"💝","category":"symbols","description":"heart with ribbon","names":["gift_heart"],"tags":["chocolates"]},{"emoji":"💟","category":"symbols","description":"heart decoration","names":["heart_decoration"],"tags":[]},{"emoji":"☮️","category":"symbols","description":"peace symbol","names":["peace_symbol"],"tags":[]},{"emoji":"✝️","category":"symbols","description":"latin cross","names":["latin_cross"],"tags":[]},{"emoji":"☪️","category":"symbols","description":"star and crescent","names":["star_and_crescent"],"tags":[]},{"emoji":"☸️","category":"symbols","description":"wheel of dharma","names":["wheel_of_dharma"],"tags":[]},{"emoji":"✡️","category":"symbols","description":"star of David","names":["star_of_david"],"tags":[]},{"emoji":"🔯","category":"symbols","description":"dotted six-pointed star","names":["six_pointed_star"],"tags":[]},{"emoji":"☯️","category":"symbols","description":"yin yang","names":["yin_yang"],"tags":[]},{"emoji":"☦️","category":"symbols","description":"orthodox cross","names":["orthodox_cross"],"tags":[]},{"emoji":"⛎","category":"symbols","description":"Ophiuchus","names":["ophiuchus"],"tags":[]},{"emoji":"♈️","category":"symbols","description":"Aries","names":["aries"],"tags":[]},{"emoji":"♉️","category":"symbols","description":"Taurus","names":["taurus"],"tags":[]},{"emoji":"♊️","category":"symbols","description":"Gemini","names":["gemini"],"tags":[]},{"emoji":"♋️","category":"symbols","description":"Cancer","names":["cancer"],"tags":[]},{"emoji":"♌️","category":"symbols","description":"Leo","names":["leo"],"tags":[]},{"emoji":"♍️","category":"symbols","description":"Virgo","names":["virgo"],"tags":[]},{"emoji":"♎️","category":"symbols","description":"Libra","names":["libra"],"tags":[]},{"emoji":"♏️","category":"symbols","description":"Scorpius","names":["scorpius"],"tags":[]},{"emoji":"♐️","category":"symbols","description":"Sagittarius","names":["sagittarius"],"tags":[]},{"emoji":"♑️","category":"symbols","description":"Capricorn","names":["capricorn"],"tags":[]},{"emoji":"♒️","category":"symbols","description":"Aquarius","names":["aquarius"],"tags":[]},{"emoji":"♓️","category":"symbols","description":"Pisces","names":["pisces"],"tags":[]},{"emoji":"🆔","category":"symbols","description":"ID button","names":["id"],"tags":[]},{"emoji":"⚛️","category":"symbols","description":"atom symbol","names":["atom_symbol"],"tags":[]},{"emoji":"🉑","category":"symbols","description":"Japanese “acceptable” button","names":["accept"],"tags":[]},{"emoji":"☢️","category":"symbols","description":"radioactive","names":["radioactive"],"tags":[]},{"emoji":"☣️","category":"symbols","description":"biohazard","names":["biohazard"],"tags":[]},{"emoji":"📴","category":"symbols","description":"mobile phone off","names":["mobile_phone_off"],"tags":["mute","off"]},{"emoji":"📳","category":"symbols","description":"vibration mode","names":["vibration_mode"],"tags":[]},{"emoji":"🈶","category":"symbols","description":"Japanese “not free of charge” button","names":["u6709"],"tags":[]},{"emoji":"🈚️","category":"symbols","description":"Japanese “free of charge” button","names":["u7121"],"tags":[]},{"emoji":"🈸","category":"symbols","description":"Japanese “application” button","names":["u7533"],"tags":[]},{"emoji":"🈺","category":"symbols","description":"Japanese “open for business” button","names":["u55b6"],"tags":[]},{"emoji":"🈷️","category":"symbols","description":"Japanese “monthly amount” button","names":["u6708"],"tags":[]},{"emoji":"✴️","category":"symbols","description":"eight-pointed star","names":["eight_pointed_black_star"],"tags":[]},{"emoji":"🆚","category":"symbols","description":"VS button","names":["vs"],"tags":[]},{"emoji":"💮","category":"symbols","description":"white flower","names":["white_flower"],"tags":[]},{"emoji":"🉐","category":"symbols","description":"Japanese “bargain” button","names":["ideograph_advantage"],"tags":[]},{"emoji":"㊙️","category":"symbols","description":"Japanese “secret” button","names":["secret"],"tags":[]},{"emoji":"㊗️","category":"symbols","description":"Japanese “congratulations” button","names":["congratulations"],"tags":[]},{"emoji":"🈴","category":"symbols","description":"Japanese “passing grade” button","names":["u5408"],"tags":[]},{"emoji":"🈵","category":"symbols","description":"Japanese “no vacancy” button","names":["u6e80"],"tags":[]},{"emoji":"🈹","category":"symbols","description":"Japanese “discount” button","names":["u5272"],"tags":[]},{"emoji":"🈲","category":"symbols","description":"Japanese “prohibited” button","names":["u7981"],"tags":[]},{"emoji":"🅰️","category":"symbols","description":"A button (blood type)","names":["a"],"tags":[]},{"emoji":"🅱️","category":"symbols","description":"B button (blood type)","names":["b"],"tags":[]},{"emoji":"🆎","category":"symbols","description":"AB button (blood type)","names":["ab"],"tags":[]},{"emoji":"🆑","category":"symbols","description":"CL button","names":["cl"],"tags":[]},{"emoji":"🅾️","category":"symbols","description":"O button (blood type)","names":["o2"],"tags":[]},{"emoji":"🆘","category":"symbols","description":"SOS button","names":["sos"],"tags":["help","emergency"]},{"emoji":"❌","category":"symbols","description":"cross mark","names":["x"],"tags":[]},{"emoji":"⭕️","category":"symbols","description":"heavy large circle","names":["o"],"tags":[]},{"emoji":"⛔️","category":"symbols","description":"no entry","names":["no_entry"],"tags":["limit"]},{"emoji":"📛","category":"symbols","description":"name badge","names":["name_badge"],"tags":[]},{"emoji":"🚫","category":"symbols","description":"prohibited","names":["no_entry_sign"],"tags":["block","forbidden"]},{"emoji":"💯","category":"symbols","description":"hundred points","names":["100"],"tags":["score","perfect"]},{"emoji":"💢","category":"symbols","description":"anger symbol","names":["anger"],"tags":["angry"]},{"emoji":"♨️","category":"symbols","description":"hot springs","names":["hotsprings"],"tags":[]},{"emoji":"🚷","category":"symbols","description":"no pedestrians","names":["no_pedestrians"],"tags":[]},{"emoji":"🚯","category":"symbols","description":"no littering","names":["do_not_litter"],"tags":[]},{"emoji":"🚳","category":"symbols","description":"no bicycles","names":["no_bicycles"],"tags":[]},{"emoji":"🚱","category":"symbols","description":"non-potable water","names":["non-potable_water"],"tags":[]},{"emoji":"🔞","category":"symbols","description":"no one under eighteen","names":["underage"],"tags":[]},{"emoji":"📵","category":"symbols","description":"no mobile phones","names":["no_mobile_phones"],"tags":[]},{"emoji":"🚭","category":"symbols","description":"no smoking","names":["no_smoking"],"tags":[]},{"emoji":"❗️","category":"symbols","description":"exclamation mark","names":["exclamation","heavy_exclamation_mark"],"tags":["bang"]},{"emoji":"❕","category":"symbols","description":"white exclamation mark","names":["grey_exclamation"],"tags":[]},{"emoji":"❓","category":"symbols","description":"question mark","names":["question"],"tags":["confused"]},{"emoji":"❔","category":"symbols","description":"white question mark","names":["grey_question"],"tags":[]},{"emoji":"🔅","category":"symbols","description":"dim button","names":["low_brightness"],"tags":[]},{"emoji":"🔆","category":"symbols","description":"bright button","names":["high_brightness"],"tags":[]},{"emoji":"〽️","category":"symbols","description":"part alternation mark","names":["part_alternation_mark"],"tags":[]},{"emoji":"⚠️","category":"symbols","description":"warning","names":["warning"],"tags":["wip"]},{"emoji":"🚸","category":"symbols","description":"children crossing","names":["children_crossing"],"tags":[]},{"emoji":"🔱","category":"symbols","description":"trident emblem","names":["trident"],"tags":[]},{"emoji":"⚜️","category":"symbols","description":"fleur-de-lis","names":["fleur_de_lis"],"tags":[]},{"emoji":"🔰","category":"symbols","description":"Japanese symbol for beginner","names":["beginner"],"tags":[]},{"emoji":"♻️","category":"symbols","description":"recycling symbol","names":["recycle"],"tags":["environment","green"]},{"emoji":"✅","category":"symbols","description":"white heavy check mark","names":["white_check_mark"],"tags":[]},{"emoji":"🈯️","category":"symbols","description":"Japanese “reserved” button","names":["u6307"],"tags":[]},{"emoji":"💹","category":"symbols","description":"chart increasing with yen","names":["chart"],"tags":[]},{"emoji":"❇️","category":"symbols","description":"sparkle","names":["sparkle"],"tags":[]},{"emoji":"✳️","category":"symbols","description":"eight-spoked asterisk","names":["eight_spoked_asterisk"],"tags":[]},{"emoji":"❎","category":"symbols","description":"cross mark button","names":["negative_squared_cross_mark"],"tags":[]},{"emoji":"🌐","category":"symbols","description":"globe with meridians","names":["globe_with_meridians"],"tags":["world","global","international"]},{"emoji":"💠","category":"symbols","description":"diamond with a dot","names":["diamond_shape_with_a_dot_inside"],"tags":[]},{"emoji":"Ⓜ️","category":"symbols","description":"circled M","names":["m"],"tags":[]},{"emoji":"🌀","category":"symbols","description":"cyclone","names":["cyclone"],"tags":["swirl"]},{"emoji":"💤","category":"symbols","description":"zzz","names":["zzz"],"tags":["sleeping"]},{"emoji":"🏧","category":"symbols","description":"ATM sign","names":["atm"],"tags":[]},{"emoji":"🚾","category":"symbols","description":"water closet","names":["wc"],"tags":["toilet","restroom"]},{"emoji":"♿️","category":"symbols","description":"wheelchair symbol","names":["wheelchair"],"tags":["accessibility"]},{"emoji":"🅿️","category":"symbols","description":"P button","names":["parking"],"tags":[]},{"emoji":"🈳","category":"symbols","description":"Japanese “vacancy” button","names":["u7a7a"],"tags":[]},{"emoji":"🈂️","category":"symbols","description":"Japanese “service charge” button","names":["sa"],"tags":[]},{"emoji":"🛂","category":"symbols","description":"passport control","names":["passport_control"],"tags":[]},{"emoji":"🛃","category":"symbols","description":"customs","names":["customs"],"tags":[]},{"emoji":"🛄","category":"symbols","description":"baggage claim","names":["baggage_claim"],"tags":["airport"]},{"emoji":"🛅","category":"symbols","description":"left luggage","names":["left_luggage"],"tags":[]},{"emoji":"🚹","category":"symbols","description":"men’s room","names":["mens"],"tags":[]},{"emoji":"🚺","category":"symbols","description":"women’s room","names":["womens"],"tags":[]},{"emoji":"🚼","category":"symbols","description":"baby symbol","names":["baby_symbol"],"tags":[]},{"emoji":"🚻","category":"symbols","description":"restroom","names":["restroom"],"tags":["toilet"]},{"emoji":"🚮","category":"symbols","description":"litter in bin sign","names":["put_litter_in_its_place"],"tags":[]},{"emoji":"🎦","category":"symbols","description":"cinema","names":["cinema"],"tags":["film","movie"]},{"emoji":"📶","category":"symbols","description":"antenna bars","names":["signal_strength"],"tags":["wifi"]},{"emoji":"🈁","category":"symbols","description":"Japanese “here” button","names":["koko"],"tags":[]},{"emoji":"🔣","category":"symbols","description":"input symbols","names":["symbols"],"tags":[]},{"emoji":"ℹ️","category":"symbols","description":"information","names":["information_source"],"tags":[]},{"emoji":"🔤","category":"symbols","description":"input latin letters","names":["abc"],"tags":["alphabet"]},{"emoji":"🔡","category":"symbols","description":"input latin lowercase","names":["abcd"],"tags":[]},{"emoji":"🔠","category":"symbols","description":"input latin uppercase","names":["capital_abcd"],"tags":["letters"]},{"emoji":"🆖","category":"symbols","description":"NG button","names":["ng"],"tags":[]},{"emoji":"🆗","category":"symbols","description":"OK button","names":["ok"],"tags":["yes"]},{"emoji":"🆙","category":"symbols","description":"UP! button","names":["up"],"tags":[]},{"emoji":"🆒","category":"symbols","description":"COOL button","names":["cool"],"tags":[]},{"emoji":"🆕","category":"symbols","description":"NEW button","names":["new"],"tags":["fresh"]},{"emoji":"🆓","category":"symbols","description":"FREE button","names":["free"],"tags":[]},{"emoji":"🔟","category":"symbols","description":"keycap 10","names":["keycap_ten"],"tags":[]},{"emoji":"🔢","category":"symbols","description":"input numbers","names":["1234"],"tags":["numbers"]},{"emoji":"▶️","category":"symbols","description":"play button","names":["arrow_forward"],"tags":[]},{"emoji":"⏩","category":"symbols","description":"fast-forward button","names":["fast_forward"],"tags":[]},{"emoji":"⏪","category":"symbols","description":"fast reverse button","names":["rewind"],"tags":[]},{"emoji":"⏫","category":"symbols","description":"fast up button","names":["arrow_double_up"],"tags":[]},{"emoji":"⏬","category":"symbols","description":"fast down button","names":["arrow_double_down"],"tags":[]},{"emoji":"◀️","category":"symbols","description":"reverse button","names":["arrow_backward"],"tags":[]},{"emoji":"🔼","category":"symbols","description":"up button","names":["arrow_up_small"],"tags":[]},{"emoji":"🔽","category":"symbols","description":"down button","names":["arrow_down_small"],"tags":[]},{"emoji":"➡️","category":"symbols","description":"right arrow","names":["arrow_right"],"tags":[]},{"emoji":"⬅️","category":"symbols","description":"left arrow","names":["arrow_left"],"tags":[]},{"emoji":"⬆️","category":"symbols","description":"up arrow","names":["arrow_up"],"tags":[]},{"emoji":"⬇️","category":"symbols","description":"down arrow","names":["arrow_down"],"tags":[]},{"emoji":"↘️","category":"symbols","description":"down-right arrow","names":["arrow_lower_right"],"tags":[]},{"emoji":"↖️","category":"symbols","description":"up-left arrow","names":["arrow_upper_left"],"tags":[]},{"emoji":"↪️","category":"symbols","description":"left arrow curving right","names":["arrow_right_hook"],"tags":[]},{"emoji":"↩️","category":"symbols","description":"right arrow curving left","names":["leftwards_arrow_with_hook"],"tags":["return"]},{"emoji":"⤴️","category":"symbols","description":"right arrow curving up","names":["arrow_heading_up"],"tags":[]},{"emoji":"⤵️","category":"symbols","description":"right arrow curving down","names":["arrow_heading_down"],"tags":[]},{"emoji":"🔀","category":"symbols","description":"shuffle tracks button","names":["twisted_rightwards_arrows"],"tags":["shuffle"]},{"emoji":"🔁","category":"symbols","description":"repeat button","names":["repeat"],"tags":["loop"]},{"emoji":"🔂","category":"symbols","description":"repeat single button","names":["repeat_one"],"tags":[]},{"emoji":"🔄","category":"symbols","description":"anticlockwise arrows button","names":["arrows_counterclockwise"],"tags":["sync"]},{"emoji":"🔃","category":"symbols","description":"clockwise vertical arrows","names":["arrows_clockwise"],"tags":[]},{"emoji":"🎵","category":"symbols","description":"musical note","names":["musical_note"],"tags":[]},{"emoji":"🎶","category":"symbols","description":"musical notes","names":["notes"],"tags":["music"]},{"emoji":"➕","category":"symbols","description":"heavy plus sign","names":["heavy_plus_sign"],"tags":[]},{"emoji":"➖","category":"symbols","description":"heavy minus sign","names":["heavy_minus_sign"],"tags":[]},{"emoji":"➗","category":"symbols","description":"heavy division sign","names":["heavy_division_sign"],"tags":[]},{"emoji":"✖️","category":"symbols","description":"heavy multiplication x","names":["heavy_multiplication_x"],"tags":[]},{"emoji":"💲","category":"symbols","description":"heavy dollar sign","names":["heavy_dollar_sign"],"tags":[]},{"emoji":"💱","category":"symbols","description":"currency exchange","names":["currency_exchange"],"tags":[]},{"emoji":"〰️","category":"symbols","description":"wavy dash","names":["wavy_dash"],"tags":[]},{"emoji":"➰","category":"symbols","description":"curly loop","names":["curly_loop"],"tags":[]},{"emoji":"➿","category":"symbols","description":"double curly loop","names":["loop"],"tags":[]},{"emoji":"🔚","category":"symbols","description":"END arrow","names":["end"],"tags":[]},{"emoji":"🔙","category":"symbols","description":"BACK arrow","names":["back"],"tags":[]},{"emoji":"🔛","category":"symbols","description":"ON! arrow","names":["on"],"tags":[]},{"emoji":"🔝","category":"symbols","description":"TOP arrow","names":["top"],"tags":[]},{"emoji":"🔜","category":"symbols","description":"SOON arrow","names":["soon"],"tags":[]},{"emoji":"✔️","category":"symbols","description":"heavy check mark","names":["heavy_check_mark"],"tags":[]},{"emoji":"☑️","category":"symbols","description":"ballot box with check","names":["ballot_box_with_check"],"tags":[]},{"emoji":"🔘","category":"symbols","description":"radio button","names":["radio_button"],"tags":[]},{"emoji":"⚪️","category":"symbols","description":"white circle","names":["white_circle"],"tags":[]},{"emoji":"⚫️","category":"symbols","description":"black circle","names":["black_circle"],"tags":[]},{"emoji":"🔴","category":"symbols","description":"red circle","names":["red_circle"],"tags":[]},{"emoji":"🔵","category":"symbols","description":"blue circle","names":["large_blue_circle"],"tags":[]},{"emoji":"🔺","category":"symbols","description":"red triangle pointed up","names":["small_red_triangle"],"tags":[]},{"emoji":"🔻","category":"symbols","description":"red triangle pointed down","names":["small_red_triangle_down"],"tags":[]},{"emoji":"🔸","category":"symbols","description":"small orange diamond","names":["small_orange_diamond"],"tags":[]},{"emoji":"🔹","category":"symbols","description":"small blue diamond","names":["small_blue_diamond"],"tags":[]},{"emoji":"🔶","category":"symbols","description":"large orange diamond","names":["large_orange_diamond"],"tags":[]},{"emoji":"🔷","category":"symbols","description":"large blue diamond","names":["large_blue_diamond"],"tags":[]},{"emoji":"🔳","category":"symbols","description":"white square button","names":["white_square_button"],"tags":[]},{"emoji":"🔲","category":"symbols","description":"black square button","names":["black_square_button"],"tags":[]},{"emoji":"▪️","category":"symbols","description":"black small square","names":["black_small_square"],"tags":[]},{"emoji":"▫️","category":"symbols","description":"white small square","names":["white_small_square"],"tags":[]},{"emoji":"◾️","category":"symbols","description":"black medium-small square","names":["black_medium_small_square"],"tags":[]},{"emoji":"◽️","category":"symbols","description":"white medium-small square","names":["white_medium_small_square"],"tags":[]},{"emoji":"◼️","category":"symbols","description":"black medium square","names":["black_medium_square"],"tags":[]},{"emoji":"◻️","category":"symbols","description":"white medium square","names":["white_medium_square"],"tags":[]},{"emoji":"⬛️","category":"symbols","description":"black large square","names":["black_large_square"],"tags":[]},{"emoji":"⬜️","category":"symbols","description":"white large square","names":["white_large_square"],"tags":[]},{"emoji":"🔈","category":"symbols","description":"speaker low volume","names":["speaker"],"tags":[]},{"emoji":"🔇","category":"symbols","description":"muted speaker","names":["mute"],"tags":["sound","volume"]},{"emoji":"🔉","category":"symbols","description":"speaker medium volume","names":["sound"],"tags":["volume"]},{"emoji":"🔊","category":"symbols","description":"speaker high volume","names":["loud_sound"],"tags":["volume"]},{"emoji":"🔔","category":"symbols","description":"bell","names":["bell"],"tags":["sound","notification"]},{"emoji":"🔕","category":"symbols","description":"bell with slash","names":["no_bell"],"tags":["volume","off"]},{"emoji":"📣","category":"symbols","description":"megaphone","names":["mega"],"tags":[]},{"emoji":"📢","category":"symbols","description":"loudspeaker","names":["loudspeaker"],"tags":["announcement"]},{"emoji":"💬","category":"symbols","description":"speech balloon","names":["speech_balloon"],"tags":["comment"]},{"emoji":"💭","category":"symbols","description":"thought balloon","names":["thought_balloon"],"tags":["thinking"]},{"emoji":"🗯","category":"symbols","description":"right anger bubble","names":["right_anger_bubble"],"tags":[]},{"emoji":"♠️","category":"symbols","description":"spade suit","names":["spades"],"tags":[]},{"emoji":"♣️","category":"symbols","description":"club suit","names":["clubs"],"tags":[]},{"emoji":"♥️","category":"symbols","description":"heart suit","names":["hearts"],"tags":[]},{"emoji":"♦️","category":"symbols","description":"diamond suit","names":["diamonds"],"tags":[]},{"emoji":"🃏","category":"symbols","description":"joker","names":["black_joker"],"tags":[]},{"emoji":"🎴","category":"symbols","description":"flower playing cards","names":["flower_playing_cards"],"tags":[]},{"emoji":"🀄️","category":"symbols","description":"mahjong red dragon","names":["mahjong"],"tags":[]},{"emoji":"🕐","category":"symbols","description":"one o’clock","names":["clock1"],"tags":[]},{"emoji":"🕑","category":"symbols","description":"two o’clock","names":["clock2"],"tags":[]},{"emoji":"🕒","category":"symbols","description":"three o’clock","names":["clock3"],"tags":[]},{"emoji":"🕓","category":"symbols","description":"four o’clock","names":["clock4"],"tags":[]},{"emoji":"🕔","category":"symbols","description":"five o’clock","names":["clock5"],"tags":[]},{"emoji":"🕕","category":"symbols","description":"six o’clock","names":["clock6"],"tags":[]},{"emoji":"🕖","category":"symbols","description":"seven o’clock","names":["clock7"],"tags":[]},{"emoji":"🕗","category":"symbols","description":"eight o’clock","names":["clock8"],"tags":[]},{"emoji":"🕘","category":"symbols","description":"nine o’clock","names":["clock9"],"tags":[]},{"emoji":"🕙","category":"symbols","description":"ten o’clock","names":["clock10"],"tags":[]},{"emoji":"🕚","category":"symbols","description":"eleven o’clock","names":["clock11"],"tags":[]},{"emoji":"🕛","category":"symbols","description":"twelve o’clock","names":["clock12"],"tags":[]},{"emoji":"🕜","category":"symbols","description":"one-thirty","names":["clock130"],"tags":[]},{"emoji":"🕝","category":"symbols","description":"two-thirty","names":["clock230"],"tags":[]},{"emoji":"🕞","category":"symbols","description":"three-thirty","names":["clock330"],"tags":[]},{"emoji":"🕟","category":"symbols","description":"four-thirty","names":["clock430"],"tags":[]},{"emoji":"🕠","category":"symbols","description":"five-thirty","names":["clock530"],"tags":[]},{"emoji":"🕡","category":"symbols","description":"six-thirty","names":["clock630"],"tags":[]},{"emoji":"🕢","category":"symbols","description":"seven-thirty","names":["clock730"],"tags":[]},{"emoji":"🕣","category":"symbols","description":"eight-thirty","names":["clock830"],"tags":[]},{"emoji":"🕤","category":"symbols","description":"nine-thirty","names":["clock930"],"tags":[]},{"emoji":"🕥","category":"symbols","description":"ten-thirty","names":["clock1030"],"tags":[]},{"emoji":"🕦","category":"symbols","description":"eleven-thirty","names":["clock1130"],"tags":[]},{"emoji":"🕧","category":"symbols","description":"twelve-thirty","names":["clock1230"],"tags":[]}]')},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));n(6);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=/\s+/,o=function(t,e){var n,r=-1,i=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e)}},a=function(t,e,n,o){if(!n)return!0;if("object"===r(n)){for(var a in n)t[e].apply(t,[a,n[a]].concat(o));return!1}if(i.test(n)){for(var s=n.split(i),c=0,l=s.length;c<l;c++)t[e].apply(t,[s[c]].concat(o));return!1}return!0}},function(t,e,n){var r=n(26),i=n(79),o=n(19),a=n(80),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(12),i=n(18),o=n(20),a=n(56),s=n(58),c=n(39),l=c.get,u=c.enforce,p=String(String).split("String");(t.exports=function(t,e,n,s){var c=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),u(n).source=p.join("string"==typeof e?e:"")),t!==r?(c?!h&&t[e]&&(l=!0):delete t[e],l?t[e]=n:i(t,e,n)):l?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){(function(t){var r,i=n(264),o=n(105),a=n(265),s=n(266),c=n(267);t&&t.ArrayBuffer&&(r=n(268));var l="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),u="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),p=l||u;e.protocol=3;var h=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},d=i(h),g={type:"error",data:"parser error"},m=n(269);function f(t,e,n){for(var r=new Array(t.length),i=s(t.length,n),o=function(t,n,i){e(n,(function(e,n){r[t]=n,i(e,r)}))},a=0;a<t.length;a++)o(a,t[a],i)}e.encodePacket=function(n,r,i,o){"function"==typeof r&&(o=r,r=!1),"function"==typeof i&&(o=i,i=null);var a=void 0===n.data?void 0:n.data.buffer||n.data;if(t.ArrayBuffer&&a instanceof ArrayBuffer)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var i=t.data,o=new Uint8Array(i),a=new Uint8Array(1+i.byteLength);a[0]=h[t.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return r(a.buffer)}(n,r,o);if(m&&a instanceof t.Blob)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);if(p)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var i=new FileReader;return i.onload=function(){t.data=i.result,e.encodePacket(t,n,!0,r)},i.readAsArrayBuffer(t.data)}(t,n,r);var i=new Uint8Array(1);i[0]=h[t.type];var o=new m([i.buffer,t.data]);return r(o)}(n,r,o);if(a&&a.base64)return function(t,n){var r="b"+e.packets[t.type]+t.data.data;return n(r)}(n,o);var s=h[n.type];return void 0!==n.data&&(s+=i?c.encode(String(n.data)):String(n.data)),o(""+s)},e.encodeBase64Packet=function(n,r){var i,o="b"+e.packets[n.type];if(m&&n.data instanceof t.Blob){var a=new FileReader;return a.onload=function(){var t=a.result.split(",")[1];r(o+t)},a.readAsDataURL(n.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(t){for(var s=new Uint8Array(n.data),c=new Array(s.length),l=0;l<s.length;l++)c[l]=s[l];i=String.fromCharCode.apply(null,c)}return o+=t.btoa(i),r(o)},e.decodePacket=function(t,n,r){if(void 0===t)return g;if("string"==typeof t){if("b"==t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(r&&!1===(t=function(t){try{t=c.decode(t)}catch(t){return!1}return t}(t)))return g;var i=t.charAt(0);return Number(i)==i&&d[i]?t.length>1?{type:d[i],data:t.substring(1)}:{type:d[i]}:g}i=new Uint8Array(t)[0];var o=a(t,1);return m&&"blob"===n&&(o=new m([o])),{type:d[i],data:o}},e.decodeBase64Packet=function(t,e){var n=d[t.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:t.substr(1)}};var i=r.decode(t.substr(1));return"blob"===e&&m&&(i=new m([i])),{type:n,data:i}},e.encodePayload=function(t,n,r){"function"==typeof n&&(r=n,n=null);var i=o(t);if(n&&i)return m&&!p?e.encodePayloadAsBlob(t,r):e.encodePayloadAsArrayBuffer(t,r);if(!t.length)return r("0:");f(t,(function(t,r){e.encodePacket(t,!!i&&n,!0,(function(t){r(null,function(t){return t.length+":"+t}(t))}))}),(function(t,e){return r(e.join(""))}))},e.decodePayload=function(t,n,r){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,r);var i;if("function"==typeof n&&(r=n,n=null),""==t)return r(g,0,1);for(var o,a,s="",c=0,l=t.length;c<l;c++){var u=t.charAt(c);if(":"!=u)s+=u;else{if(""==s||s!=(o=Number(s)))return r(g,0,1);if(s!=(a=t.substr(c+1,o)).length)return r(g,0,1);if(a.length){if(i=e.decodePacket(a,n,!0),g.type==i.type&&g.data==i.data)return r(g,0,1);if(!1===r(i,c+o,l))return}c+=o,s=""}}return""!=s?r(g,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){if(!t.length)return n(new ArrayBuffer(0));f(t,(function(t,n){e.encodePacket(t,!0,!0,(function(t){return n(null,t)}))}),(function(t,e){var r=e.reduce((function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2}),0),i=new Uint8Array(r),o=0;return e.forEach((function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),a=0;a<t.length;a++)r[a]=t.charCodeAt(a);n=r.buffer}i[o++]=e?0:1;var s=n.byteLength.toString();for(a=0;a<s.length;a++)i[o++]=parseInt(s[a]);i[o++]=255;for(r=new Uint8Array(n),a=0;a<r.length;a++)i[o++]=r[a]})),n(i.buffer)}))},e.encodePayloadAsBlob=function(t,n){f(t,(function(t,n){e.encodePacket(t,!0,!0,(function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);t=r.buffer,e[0]=0}var o=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),a=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)a[i]=parseInt(o[i]);if(a[o.length]=255,m){var s=new m([e.buffer,a.buffer,t]);n(null,s)}}))}),(function(t,e){return n(new m(e))}))},e.decodePayloadAsBinary=function(t,n,r){"function"==typeof n&&(r=n,n=null);for(var i=t,o=[],s=!1;i.byteLength>0;){for(var c=new Uint8Array(i),l=0===c[0],u="",p=1;255!=c[p];p++){if(u.length>310){s=!0;break}u+=c[p]}if(s)return r(g,0,1);i=a(i,2+u.length),u=parseInt(u);var h=a(i,0,u);if(l)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(t){var d=new Uint8Array(h);h="";for(p=0;p<d.length;p++)h+=String.fromCharCode(d[p])}o.push(h),i=a(i,u)}var m=o.length;o.forEach((function(t,i){r(e.decodePacket(t,n,!0),i,m)}))}}).call(this,n(8))},function(t,e,n){"use strict";var r,i,o=n(9),a=n(15),s=n(114),c=n(1),l=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e){var n=t.call(this)||this;return n.logger=e,n}return l(e,t),e.prototype.send=function(t){var e=this;return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new o.a):t.method?t.url?new Promise((function(n,r){var i=new XMLHttpRequest;i.open(t.method,t.url,!0),i.withCredentials=!0,i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-Type","text/plain;charset=UTF-8");var s=t.headers;s&&Object.keys(s).forEach((function(t){i.setRequestHeader(t,s[t])})),t.responseType&&(i.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=function(){i.abort(),r(new o.a)}),t.timeout&&(i.timeout=t.timeout),i.onload=function(){t.abortSignal&&(t.abortSignal.onabort=null),i.status>=200&&i.status<300?n(new a.b(i.status,i.statusText,i.response||i.responseText)):r(new o.b(i.statusText,i.status))},i.onerror=function(){e.logger.log(c.a.Warning,"Error from HTTP request. "+i.status+": "+i.statusText+"."),r(new o.b(i.statusText,i.status))},i.ontimeout=function(){e.logger.log(c.a.Warning,"Timeout from HTTP request."),r(new o.c)},i.send(t.content||"")})):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},e}(a.a),p=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(t){function e(e){var n=t.call(this)||this;return"undefined"!=typeof XMLHttpRequest?n.httpClient=new u(e):n.httpClient=new s.a(e),n}return p(e,t),e.prototype.send=function(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new o.a):t.method?t.url?this.httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},e.prototype.getCookieString=function(t){return this.httpClient.getCookieString(t)},e}(a.a),d=n(115);!function(t){t[t.Invocation=1]="Invocation",t[t.StreamItem=2]="StreamItem",t[t.Completion=3]="Completion",t[t.StreamInvocation=4]="StreamInvocation",t[t.CancelInvocation=5]="CancelInvocation",t[t.Ping=6]="Ping",t[t.Close=7]="Close"}(i||(i={}));var g,m=n(2),f=function(){function t(){this.observers=[]}return t.prototype.next=function(t){for(var e=0,n=this.observers;e<n.length;e++){n[e].next(t)}},t.prototype.error=function(t){for(var e=0,n=this.observers;e<n.length;e++){var r=n[e];r.error&&r.error(t)}},t.prototype.complete=function(){for(var t=0,e=this.observers;t<e.length;t++){var n=e[t];n.complete&&n.complete()}},t.prototype.subscribe=function(t){return this.observers.push(t),new m.d(this,t)},t}(),y=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}c((r=r.apply(t,e||[])).next())}))},b=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},v=3e4,w=15e3;!function(t){t.Disconnected="Disconnected",t.Connecting="Connecting",t.Connected="Connected",t.Disconnecting="Disconnecting",t.Reconnecting="Reconnecting"}(g||(g={}));var _,C,I=function(){function t(t,e,n,r){var o=this;m.a.isRequired(t,"connection"),m.a.isRequired(e,"logger"),m.a.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=v,this.keepAliveIntervalInMilliseconds=w,this.logger=e,this.protocol=n,this.connection=t,this.reconnectPolicy=r,this.handshakeProtocol=new d.a,this.connection.onreceive=function(t){return o.processIncomingData(t)},this.connection.onclose=function(t){return o.connectionClosed(t)},this.callbacks={},this.methods={},this.closedCallbacks=[],this.reconnectingCallbacks=[],this.reconnectedCallbacks=[],this.invocationId=0,this.receivedHandshakeResponse=!1,this.connectionState=g.Disconnected,this.connectionStarted=!1,this.cachedPingMessage=this.protocol.writeMessage({type:i.Ping})}return t.create=function(e,n,r,i){return new t(e,n,r,i)},Object.defineProperty(t.prototype,"state",{get:function(){return this.connectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"connectionId",{get:function(){return this.connection&&this.connection.connectionId||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseUrl",{get:function(){return this.connection.baseUrl||""},set:function(t){if(this.connectionState!==g.Disconnected&&this.connectionState!==g.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t},enumerable:!0,configurable:!0}),t.prototype.start=function(){return this.startPromise=this.startWithStateTransitions(),this.startPromise},t.prototype.startWithStateTransitions=function(){return y(this,void 0,void 0,(function(){var t;return b(this,(function(e){switch(e.label){case 0:if(this.connectionState!==g.Disconnected)return[2,Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."))];this.connectionState=g.Connecting,this.logger.log(c.a.Debug,"Starting HubConnection."),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.startInternal()];case 2:return e.sent(),this.connectionState=g.Connected,this.connectionStarted=!0,this.logger.log(c.a.Debug,"HubConnection connected successfully."),[3,4];case 3:return t=e.sent(),this.connectionState=g.Disconnected,this.logger.log(c.a.Debug,"HubConnection failed to start successfully because of error '"+t+"'."),[2,Promise.reject(t)];case 4:return[2]}}))}))},t.prototype.startInternal=function(){return y(this,void 0,void 0,(function(){var t,e,n,r=this;return b(this,(function(i){switch(i.label){case 0:return this.stopDuringStartError=void 0,this.receivedHandshakeResponse=!1,t=new Promise((function(t,e){r.handshakeResolver=t,r.handshakeRejecter=e})),[4,this.connection.start(this.protocol.transferFormat)];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,5,,7]),e={protocol:this.protocol.name,version:this.protocol.version},this.logger.log(c.a.Debug,"Sending handshake request."),[4,this.sendMessage(this.handshakeProtocol.writeHandshakeRequest(e))];case 3:return i.sent(),this.logger.log(c.a.Information,"Using HubProtocol '"+this.protocol.name+"'."),this.cleanupTimeout(),this.resetTimeoutPeriod(),this.resetKeepAliveInterval(),[4,t];case 4:if(i.sent(),this.stopDuringStartError)throw this.stopDuringStartError;return[3,7];case 5:return n=i.sent(),this.logger.log(c.a.Debug,"Hub handshake failed with error '"+n+"' during start(). Stopping HubConnection."),this.cleanupTimeout(),this.cleanupPingTimer(),[4,this.connection.stop(n)];case 6:throw i.sent(),n;case 7:return[2]}}))}))},t.prototype.stop=function(){return y(this,void 0,void 0,(function(){var t;return b(this,(function(e){switch(e.label){case 0:return t=this.startPromise,this.stopPromise=this.stopInternal(),[4,this.stopPromise];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,t];case 3:return e.sent(),[3,5];case 4:return e.sent(),[3,5];case 5:return[2]}}))}))},t.prototype.stopInternal=function(t){return this.connectionState===g.Disconnected?(this.logger.log(c.a.Debug,"Call to HubConnection.stop("+t+") ignored because it is already in the disconnected state."),Promise.resolve()):this.connectionState===g.Disconnecting?(this.logger.log(c.a.Debug,"Call to HttpConnection.stop("+t+") ignored because the connection is already in the disconnecting state."),this.stopPromise):(this.connectionState=g.Disconnecting,this.logger.log(c.a.Debug,"Stopping HubConnection."),this.reconnectDelayHandle?(this.logger.log(c.a.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this.reconnectDelayHandle),this.reconnectDelayHandle=void 0,this.completeClose(),Promise.resolve()):(this.cleanupTimeout(),this.cleanupPingTimer(),this.stopDuringStartError=t||new Error("The connection was stopped before the hub handshake could complete."),this.connection.stop(t)))},t.prototype.stream=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o,a=this.replaceStreamingParams(n),s=a[0],c=a[1],l=this.createStreamInvocation(t,n,c),u=new f;return u.cancelCallback=function(){var t=e.createCancelInvocation(l.invocationId);return delete e.callbacks[l.invocationId],o.then((function(){return e.sendWithProtocol(t)}))},this.callbacks[l.invocationId]=function(t,e){e?u.error(e):t&&(t.type===i.Completion?t.error?u.error(new Error(t.error)):u.complete():u.next(t.item))},o=this.sendWithProtocol(l).catch((function(t){u.error(t),delete e.callbacks[l.invocationId]})),this.launchStreams(s,o),u},t.prototype.sendMessage=function(t){return this.resetKeepAliveInterval(),this.connection.send(t)},t.prototype.sendWithProtocol=function(t){return this.sendMessage(this.protocol.writeMessage(t))},t.prototype.send=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this.replaceStreamingParams(e),i=r[0],o=r[1],a=this.sendWithProtocol(this.createInvocation(t,e,!0,o));return this.launchStreams(i,a),a},t.prototype.invoke=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.replaceStreamingParams(n),a=o[0],s=o[1],c=this.createInvocation(t,n,!1,s),l=new Promise((function(t,n){e.callbacks[c.invocationId]=function(e,r){r?n(r):e&&(e.type===i.Completion?e.error?n(new Error(e.error)):t(e.result):n(new Error("Unexpected message type: "+e.type)))};var r=e.sendWithProtocol(c).catch((function(t){n(t),delete e.callbacks[c.invocationId]}));e.launchStreams(a,r)}));return l},t.prototype.on=function(t,e){t&&e&&(t=t.toLowerCase(),this.methods[t]||(this.methods[t]=[]),-1===this.methods[t].indexOf(e)&&this.methods[t].push(e))},t.prototype.off=function(t,e){if(t){t=t.toLowerCase();var n=this.methods[t];if(n)if(e){var r=n.indexOf(e);-1!==r&&(n.splice(r,1),0===n.length&&delete this.methods[t])}else delete this.methods[t]}},t.prototype.onclose=function(t){t&&this.closedCallbacks.push(t)},t.prototype.onreconnecting=function(t){t&&this.reconnectingCallbacks.push(t)},t.prototype.onreconnected=function(t){t&&this.reconnectedCallbacks.push(t)},t.prototype.processIncomingData=function(t){if(this.cleanupTimeout(),this.receivedHandshakeResponse||(t=this.processHandshakeResponse(t),this.receivedHandshakeResponse=!0),t)for(var e=0,n=this.protocol.parseMessages(t,this.logger);e<n.length;e++){var r=n[e];switch(r.type){case i.Invocation:this.invokeClientMethod(r);break;case i.StreamItem:case i.Completion:var o=this.callbacks[r.invocationId];o&&(r.type===i.Completion&&delete this.callbacks[r.invocationId],o(r));break;case i.Ping:break;case i.Close:this.logger.log(c.a.Information,"Close message received from server."),this.stopPromise=this.stopInternal(r.error?new Error("Server returned an error on close: "+r.error):void 0);break;default:this.logger.log(c.a.Warning,"Invalid message type: "+r.type+".")}}this.resetTimeoutPeriod()},t.prototype.processHandshakeResponse=function(t){var e,n,r;try{r=(e=this.handshakeProtocol.parseHandshakeResponse(t))[0],n=e[1]}catch(t){var i="Error parsing handshake response: "+t;this.logger.log(c.a.Error,i);var o=new Error(i);throw this.handshakeRejecter(o),o}if(n.error){i="Server returned handshake error: "+n.error;this.logger.log(c.a.Error,i);o=new Error(i);throw this.handshakeRejecter(o),o}return this.logger.log(c.a.Debug,"Server handshake complete."),this.handshakeResolver(),r},t.prototype.resetKeepAliveInterval=function(){var t=this;this.cleanupPingTimer(),this.pingServerHandle=setTimeout((function(){return y(t,void 0,void 0,(function(){return b(this,(function(t){switch(t.label){case 0:if(this.connectionState!==g.Connected)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.sendMessage(this.cachedPingMessage)];case 2:return t.sent(),[3,4];case 3:return t.sent(),this.cleanupPingTimer(),[3,4];case 4:return[2]}}))}))}),this.keepAliveIntervalInMilliseconds)},t.prototype.resetTimeoutPeriod=function(){var t=this;this.connection.features&&this.connection.features.inherentKeepAlive||(this.timeoutHandle=setTimeout((function(){return t.serverTimeout()}),this.serverTimeoutInMilliseconds))},t.prototype.serverTimeout=function(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))},t.prototype.invokeClientMethod=function(t){var e=this,n=this.methods[t.target.toLowerCase()];if(n){try{n.forEach((function(n){return n.apply(e,t.arguments)}))}catch(e){this.logger.log(c.a.Error,"A callback for the method "+t.target.toLowerCase()+" threw error '"+e+"'.")}if(t.invocationId){var r="Server requested a response, which is not supported in this version of the client.";this.logger.log(c.a.Error,r),this.stopPromise=this.stopInternal(new Error(r))}}else this.logger.log(c.a.Warning,"No client method with the name '"+t.target+"' found.")},t.prototype.connectionClosed=function(t){this.logger.log(c.a.Debug,"HubConnection.connectionClosed("+t+") called while in state "+this.connectionState+"."),this.stopDuringStartError=this.stopDuringStartError||t||new Error("The underlying connection was closed before the hub handshake could complete."),this.handshakeResolver&&this.handshakeResolver(),this.cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this.cleanupTimeout(),this.cleanupPingTimer(),this.connectionState===g.Disconnecting?this.completeClose(t):this.connectionState===g.Connected&&this.reconnectPolicy?this.reconnect(t):this.connectionState===g.Connected&&this.completeClose(t)},t.prototype.completeClose=function(t){var e=this;if(this.connectionStarted){this.connectionState=g.Disconnected,this.connectionStarted=!1;try{this.closedCallbacks.forEach((function(n){return n.apply(e,[t])}))}catch(e){this.logger.log(c.a.Error,"An onclose callback called with error '"+t+"' threw error '"+e+"'.")}}},t.prototype.reconnect=function(t){return y(this,void 0,void 0,(function(){var e,n,r,i,o,a=this;return b(this,(function(s){switch(s.label){case 0:if(e=Date.now(),n=0,r=void 0!==t?t:new Error("Attempting to reconnect due to a unknown error."),null===(i=this.getNextRetryDelay(n++,0,r)))return this.logger.log(c.a.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this.completeClose(t),[2];if(this.connectionState=g.Reconnecting,t?this.logger.log(c.a.Information,"Connection reconnecting because of error '"+t+"'."):this.logger.log(c.a.Information,"Connection reconnecting."),this.onreconnecting){try{this.reconnectingCallbacks.forEach((function(e){return e.apply(a,[t])}))}catch(e){this.logger.log(c.a.Error,"An onreconnecting callback called with error '"+t+"' threw error '"+e+"'.")}if(this.connectionState!==g.Reconnecting)return this.logger.log(c.a.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting."),[2]}s.label=1;case 1:return null===i?[3,7]:(this.logger.log(c.a.Information,"Reconnect attempt number "+n+" will start in "+i+" ms."),[4,new Promise((function(t){a.reconnectDelayHandle=setTimeout(t,i)}))]);case 2:if(s.sent(),this.reconnectDelayHandle=void 0,this.connectionState!==g.Reconnecting)return this.logger.log(c.a.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting."),[2];s.label=3;case 3:return s.trys.push([3,5,,6]),[4,this.startInternal()];case 4:if(s.sent(),this.connectionState=g.Connected,this.logger.log(c.a.Information,"HubConnection reconnected successfully."),this.onreconnected)try{this.reconnectedCallbacks.forEach((function(t){return t.apply(a,[a.connection.connectionId])}))}catch(t){this.logger.log(c.a.Error,"An onreconnected callback called with connectionId '"+this.connection.connectionId+"; threw error '"+t+"'.")}return[2];case 5:return o=s.sent(),this.logger.log(c.a.Information,"Reconnect attempt failed because of error '"+o+"'."),this.connectionState!==g.Reconnecting?(this.logger.log(c.a.Debug,"Connection left the reconnecting state during reconnect attempt. Done reconnecting."),[2]):(r=o instanceof Error?o:new Error(o.toString()),i=this.getNextRetryDelay(n++,Date.now()-e,r),[3,6]);case 6:return[3,1];case 7:return this.logger.log(c.a.Information,"Reconnect retries have been exhausted after "+(Date.now()-e)+" ms and "+n+" failed attempts. Connection disconnecting."),this.completeClose(),[2]}}))}))},t.prototype.getNextRetryDelay=function(t,e,n){try{return this.reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:e,previousRetryCount:t,retryReason:n})}catch(n){return this.logger.log(c.a.Error,"IRetryPolicy.nextRetryDelayInMilliseconds("+t+", "+e+") threw error '"+n+"'."),null}},t.prototype.cancelCallbacksWithError=function(t){var e=this.callbacks;this.callbacks={},Object.keys(e).forEach((function(n){(0,e[n])(null,t)}))},t.prototype.cleanupPingTimer=function(){this.pingServerHandle&&clearTimeout(this.pingServerHandle)},t.prototype.cleanupTimeout=function(){this.timeoutHandle&&clearTimeout(this.timeoutHandle)},t.prototype.createInvocation=function(t,e,n,r){if(n)return{arguments:e,streamIds:r,target:t,type:i.Invocation};var o=this.invocationId;return this.invocationId++,{arguments:e,invocationId:o.toString(),streamIds:r,target:t,type:i.Invocation}},t.prototype.launchStreams=function(t,e){var n=this;if(0!==t.length){e||(e=Promise.resolve());var r=function(r){t[r].subscribe({complete:function(){e=e.then((function(){return n.sendWithProtocol(n.createCompletionMessage(r))}))},error:function(t){var i;i=t instanceof Error?t.message:t&&t.toString?t.toString():"Unknown error",e=e.then((function(){return n.sendWithProtocol(n.createCompletionMessage(r,i))}))},next:function(t){e=e.then((function(){return n.sendWithProtocol(n.createStreamItemMessage(r,t))}))}})};for(var i in t)r(i)}},t.prototype.replaceStreamingParams=function(t){for(var e=[],n=[],r=0;r<t.length;r++){var i=t[r];if(this.isObservable(i)){var o=this.invocationId;this.invocationId++,e[o]=i,n.push(o.toString()),t.splice(r,1)}}return[e,n]},t.prototype.isObservable=function(t){return t&&t.subscribe&&"function"==typeof t.subscribe},t.prototype.createStreamInvocation=function(t,e,n){var r=this.invocationId;return this.invocationId++,{arguments:e,invocationId:r.toString(),streamIds:n,target:t,type:i.StreamInvocation}},t.prototype.createCancelInvocation=function(t){return{invocationId:t,type:i.CancelInvocation}},t.prototype.createStreamItemMessage=function(t,e){return{invocationId:t,item:e,type:i.StreamItem}},t.prototype.createCompletionMessage=function(t,e,n){return e?{error:e,invocationId:t,type:i.Completion}:{invocationId:t,result:n,type:i.Completion}},t}(),x=[0,2e3,1e4,3e4,null],k=function(){function t(t){this.retryDelays=void 0!==t?t.concat([null]):x}return t.prototype.nextRetryDelayInMilliseconds=function(t){return this.retryDelays[t.previousRetryCount]},t}();!function(t){t[t.None=0]="None",t[t.WebSockets=1]="WebSockets",t[t.ServerSentEvents=2]="ServerSentEvents",t[t.LongPolling=4]="LongPolling"}(_||(_={})),function(t){t[t.Text=1]="Text",t[t.Binary=2]="Binary"}(C||(C={}));var j=function(){function t(){this.isAborted=!1,this.onabort=null}return t.prototype.abort=function(){this.isAborted||(this.isAborted=!0,this.onabort&&this.onabort())},Object.defineProperty(t.prototype,"signal",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aborted",{get:function(){return this.isAborted},enumerable:!0,configurable:!0}),t}(),S=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}c((r=r.apply(t,e||[])).next())}))},A=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},T=function(){function t(t,e,n,r){this.httpClient=t,this.accessTokenFactory=e,this.logger=n,this.pollAbort=new j,this.logMessageContent=r,this.running=!1,this.onreceive=null,this.onclose=null}return Object.defineProperty(t.prototype,"pollAborted",{get:function(){return this.pollAbort.aborted},enumerable:!0,configurable:!0}),t.prototype.connect=function(t,e){return S(this,void 0,void 0,(function(){var n,r,i,a;return A(this,(function(s){switch(s.label){case 0:if(m.a.isRequired(t,"url"),m.a.isRequired(e,"transferFormat"),m.a.isIn(e,C,"transferFormat"),this.url=t,this.logger.log(c.a.Trace,"(LongPolling transport) Connecting."),e===C.Binary&&"undefined"!=typeof XMLHttpRequest&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");return n={abortSignal:this.pollAbort.signal,headers:{},timeout:1e5},e===C.Binary&&(n.responseType="arraybuffer"),[4,this.getAccessToken()];case 1:return r=s.sent(),this.updateHeaderToken(n,r),i=t+"&_="+Date.now(),this.logger.log(c.a.Trace,"(LongPolling transport) polling: "+i+"."),[4,this.httpClient.get(i,n)];case 2:return 200!==(a=s.sent()).statusCode?(this.logger.log(c.a.Error,"(LongPolling transport) Unexpected response code: "+a.statusCode+"."),this.closeError=new o.b(a.statusText||"",a.statusCode),this.running=!1):this.running=!0,this.receiving=this.poll(this.url,n),[2]}}))}))},t.prototype.getAccessToken=function(){return S(this,void 0,void 0,(function(){return A(this,(function(t){switch(t.label){case 0:return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:return[2,t.sent()];case 2:return[2,null]}}))}))},t.prototype.updateHeaderToken=function(t,e){t.headers||(t.headers={}),e?t.headers.Authorization="Bearer "+e:t.headers.Authorization&&delete t.headers.Authorization},t.prototype.poll=function(t,e){return S(this,void 0,void 0,(function(){var n,r,i,a;return A(this,(function(s){switch(s.label){case 0:s.trys.push([0,,8,9]),s.label=1;case 1:return this.running?[4,this.getAccessToken()]:[3,7];case 2:n=s.sent(),this.updateHeaderToken(e,n),s.label=3;case 3:return s.trys.push([3,5,,6]),r=t+"&_="+Date.now(),this.logger.log(c.a.Trace,"(LongPolling transport) polling: "+r+"."),[4,this.httpClient.get(r,e)];case 4:return 204===(i=s.sent()).statusCode?(this.logger.log(c.a.Information,"(LongPolling transport) Poll terminated by server."),this.running=!1):200!==i.statusCode?(this.logger.log(c.a.Error,"(LongPolling transport) Unexpected response code: "+i.statusCode+"."),this.closeError=new o.b(i.statusText||"",i.statusCode),this.running=!1):i.content?(this.logger.log(c.a.Trace,"(LongPolling transport) data received. "+Object(m.f)(i.content,this.logMessageContent)+"."),this.onreceive&&this.onreceive(i.content)):this.logger.log(c.a.Trace,"(LongPolling transport) Poll timed out, reissuing."),[3,6];case 5:return a=s.sent(),this.running?a instanceof o.c?this.logger.log(c.a.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this.closeError=a,this.running=!1):this.logger.log(c.a.Trace,"(LongPolling transport) Poll errored after shutdown: "+a.message),[3,6];case 6:return[3,1];case 7:return[3,9];case 8:return this.logger.log(c.a.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this.raiseOnClose(),[7];case 9:return[2]}}))}))},t.prototype.send=function(t){return S(this,void 0,void 0,(function(){return A(this,(function(e){return this.running?[2,Object(m.h)(this.logger,"LongPolling",this.httpClient,this.url,this.accessTokenFactory,t,this.logMessageContent)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]}))}))},t.prototype.stop=function(){return S(this,void 0,void 0,(function(){var t,e;return A(this,(function(n){switch(n.label){case 0:this.logger.log(c.a.Trace,"(LongPolling transport) Stopping polling."),this.running=!1,this.pollAbort.abort(),n.label=1;case 1:return n.trys.push([1,,5,6]),[4,this.receiving];case 2:return n.sent(),this.logger.log(c.a.Trace,"(LongPolling transport) sending DELETE request to "+this.url+"."),t={headers:{}},[4,this.getAccessToken()];case 3:return e=n.sent(),this.updateHeaderToken(t,e),[4,this.httpClient.delete(this.url,t)];case 4:return n.sent(),this.logger.log(c.a.Trace,"(LongPolling transport) DELETE request sent."),[3,6];case 5:return this.logger.log(c.a.Trace,"(LongPolling transport) Stop finished."),this.raiseOnClose(),[7];case 6:return[2]}}))}))},t.prototype.raiseOnClose=function(){if(this.onclose){var t="(LongPolling transport) Firing onclose event.";this.closeError&&(t+=" Error: "+this.closeError),this.logger.log(c.a.Trace,t),this.onclose(this.closeError)}},t}(),O=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}c((r=r.apply(t,e||[])).next())}))},P=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},R=function(){function t(t,e,n,r,i){this.httpClient=t,this.accessTokenFactory=e,this.logger=n,this.logMessageContent=r,this.eventSourceConstructor=i,this.onreceive=null,this.onclose=null}return t.prototype.connect=function(t,e){return O(this,void 0,void 0,(function(){var n,r=this;return P(this,(function(i){switch(i.label){case 0:return m.a.isRequired(t,"url"),m.a.isRequired(e,"transferFormat"),m.a.isIn(e,C,"transferFormat"),this.logger.log(c.a.Trace,"(SSE transport) Connecting."),this.url=t,this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(n=i.sent())&&(t+=(t.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(n)),i.label=2;case 2:return[2,new Promise((function(n,i){var o=!1;if(e===C.Text){var a;if(m.c.isBrowser||m.c.isWebWorker)a=new r.eventSourceConstructor(t,{withCredentials:!0});else{var s=r.httpClient.getCookieString(t);a=new r.eventSourceConstructor(t,{withCredentials:!0,headers:{Cookie:s}})}try{a.onmessage=function(t){if(r.onreceive)try{r.logger.log(c.a.Trace,"(SSE transport) data received. "+Object(m.f)(t.data,r.logMessageContent)+"."),r.onreceive(t.data)}catch(t){return void r.close(t)}},a.onerror=function(t){var e=new Error(t.data||"Error occurred");o?r.close(e):i(e)},a.onopen=function(){r.logger.log(c.a.Information,"SSE connected to "+r.url),r.eventSource=a,o=!0,n()}}catch(t){return void i(t)}}else i(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))}))]}}))}))},t.prototype.send=function(t){return O(this,void 0,void 0,(function(){return P(this,(function(e){return this.eventSource?[2,Object(m.h)(this.logger,"SSE",this.httpClient,this.url,this.accessTokenFactory,t,this.logMessageContent)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]}))}))},t.prototype.stop=function(){return this.close(),Promise.resolve()},t.prototype.close=function(t){this.eventSource&&(this.eventSource.close(),this.eventSource=void 0,this.onclose&&this.onclose(t))},t}(),M=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}c((r=r.apply(t,e||[])).next())}))},W=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},E=function(){function t(t,e,n,r,i){this.logger=n,this.accessTokenFactory=e,this.logMessageContent=r,this.webSocketConstructor=i,this.httpClient=t,this.onreceive=null,this.onclose=null}return t.prototype.connect=function(t,e){return M(this,void 0,void 0,(function(){var n,r=this;return W(this,(function(i){switch(i.label){case 0:return m.a.isRequired(t,"url"),m.a.isRequired(e,"transferFormat"),m.a.isIn(e,C,"transferFormat"),this.logger.log(c.a.Trace,"(WebSockets transport) Connecting."),this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(n=i.sent())&&(t+=(t.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(n)),i.label=2;case 2:return[2,new Promise((function(n,i){var o;t=t.replace(/^http/,"ws");var a=r.httpClient.getCookieString(t),s=!1;m.c.isNode&&a&&(o=new r.webSocketConstructor(t,void 0,{headers:{Cookie:""+a}})),o||(o=new r.webSocketConstructor(t)),e===C.Binary&&(o.binaryType="arraybuffer"),o.onopen=function(e){r.logger.log(c.a.Information,"WebSocket connected to "+t+"."),r.webSocket=o,s=!0,n()},o.onerror=function(t){var e=null;e="undefined"!=typeof ErrorEvent&&t instanceof ErrorEvent?t.error:new Error("There was an error with the transport."),i(e)},o.onmessage=function(t){r.logger.log(c.a.Trace,"(WebSockets transport) data received. "+Object(m.f)(t.data,r.logMessageContent)+"."),r.onreceive&&r.onreceive(t.data)},o.onclose=function(t){if(s)r.close(t);else{var e=null;e="undefined"!=typeof ErrorEvent&&t instanceof ErrorEvent?t.error:new Error("There was an error with the transport."),i(e)}}}))]}}))}))},t.prototype.send=function(t){return this.webSocket&&this.webSocket.readyState===this.webSocketConstructor.OPEN?(this.logger.log(c.a.Trace,"(WebSockets transport) sending data. "+Object(m.f)(t,this.logMessageContent)+"."),this.webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")},t.prototype.stop=function(){return this.webSocket&&(this.webSocket.onclose=function(){},this.webSocket.onmessage=function(){},this.webSocket.onerror=function(){},this.webSocket.close(),this.webSocket=void 0,this.close(void 0)),Promise.resolve()},t.prototype.close=function(t){this.logger.log(c.a.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!t||!1!==t.wasClean&&1e3===t.code?this.onclose():this.onclose(new Error("WebSocket closed with status code: "+t.code+" ("+t.reason+").")))},t}(),N=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}c((r=r.apply(t,e||[])).next())}))},D=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},U=null,B=null;if(m.c.isNode){var Z=require;U=Z("ws"),B=Z("eventsource")}var H=function(){function t(t,e){void 0===e&&(e={}),this.features={},m.a.isRequired(t,"url"),this.logger=Object(m.e)(e.logger),this.baseUrl=this.resolveUrl(t),(e=e||{}).logMessageContent=e.logMessageContent||!1,m.c.isNode||"undefined"==typeof WebSocket||e.WebSocket?m.c.isNode&&!e.WebSocket&&U&&(e.WebSocket=U):e.WebSocket=WebSocket,m.c.isNode||"undefined"==typeof EventSource||e.EventSource?m.c.isNode&&!e.EventSource&&void 0!==B&&(e.EventSource=B):e.EventSource=EventSource,this.httpClient=e.httpClient||new h(this.logger),this.connectionState="Disconnected",this.connectionStarted=!1,this.options=e,this.onreceive=null,this.onclose=null}return t.prototype.start=function(t){return N(this,void 0,void 0,(function(){var e;return D(this,(function(n){switch(n.label){case 0:return t=t||C.Binary,m.a.isIn(t,C,"transferFormat"),this.logger.log(c.a.Debug,"Starting connection with transfer format '"+C[t]+"'."),"Disconnected"!==this.connectionState?[2,Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."))]:(this.connectionState="Connecting ",this.startInternalPromise=this.startInternal(t),[4,this.startInternalPromise]);case 1:return n.sent(),"Disconnecting"!==this.connectionState?[3,3]:(e="Failed to start the HttpConnection before stop() was called.",this.logger.log(c.a.Error,e),[4,this.stopPromise]);case 2:return n.sent(),[2,Promise.reject(new Error(e))];case 3:if("Connected"!==this.connectionState)return e="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!",this.logger.log(c.a.Error,e),[2,Promise.reject(new Error(e))];n.label=4;case 4:return this.connectionStarted=!0,[2]}}))}))},t.prototype.send=function(t){return"Connected"!==this.connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this.sendQueue||(this.sendQueue=new V(this.transport)),this.sendQueue.send(t))},t.prototype.stop=function(t){return N(this,void 0,void 0,(function(){var e=this;return D(this,(function(n){switch(n.label){case 0:return"Disconnected"===this.connectionState?(this.logger.log(c.a.Debug,"Call to HttpConnection.stop("+t+") ignored because the connection is already in the disconnected state."),[2,Promise.resolve()]):"Disconnecting"===this.connectionState?(this.logger.log(c.a.Debug,"Call to HttpConnection.stop("+t+") ignored because the connection is already in the disconnecting state."),[2,this.stopPromise]):(this.connectionState="Disconnecting",this.stopPromise=new Promise((function(t){e.stopPromiseResolver=t})),[4,this.stopInternal(t)]);case 1:return n.sent(),[4,this.stopPromise];case 2:return n.sent(),[2]}}))}))},t.prototype.stopInternal=function(t){return N(this,void 0,void 0,(function(){var e,n;return D(this,(function(r){switch(r.label){case 0:this.stopError=t,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.startInternalPromise];case 2:return r.sent(),[3,4];case 3:return r.sent(),[3,4];case 4:if(!this.sendQueue)return[3,9];r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.sendQueue.stop()];case 6:return r.sent(),[3,8];case 7:return e=r.sent(),this.logger.log(c.a.Error,"TransportSendQueue.stop() threw error '"+e+"'."),[3,8];case 8:this.sendQueue=void 0,r.label=9;case 9:if(!this.transport)return[3,14];r.label=10;case 10:return r.trys.push([10,12,,13]),[4,this.transport.stop()];case 11:return r.sent(),[3,13];case 12:return n=r.sent(),this.logger.log(c.a.Error,"HttpConnection.transport.stop() threw error '"+n+"'."),this.stopConnection(),[3,13];case 13:return this.transport=void 0,[3,15];case 14:this.logger.log(c.a.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed."),this.stopConnection(),r.label=15;case 15:return[2]}}))}))},t.prototype.startInternal=function(t){return N(this,void 0,void 0,(function(){var e,n,r,i,o,a;return D(this,(function(s){switch(s.label){case 0:e=this.baseUrl,this.accessTokenFactory=this.options.accessTokenFactory,s.label=1;case 1:return s.trys.push([1,12,,13]),this.options.skipNegotiation?this.options.transport!==_.WebSockets?[3,3]:(this.transport=this.constructTransport(_.WebSockets),[4,this.startTransport(e,t)]):[3,5];case 2:return s.sent(),[3,4];case 3:throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");case 4:return[3,11];case 5:n=null,r=0,i=function(){var t;return D(this,(function(i){switch(i.label){case 0:return[4,o.getNegotiationResponse(e)];case 1:if(n=i.sent(),"Disconnecting"===o.connectionState||"Disconnected"===o.connectionState)throw new Error("The connection was stopped during negotiation.");if(n.error)throw new Error(n.error);if(n.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");return n.url&&(e=n.url),n.accessToken&&(t=n.accessToken,o.accessTokenFactory=function(){return t}),r++,[2]}}))},o=this,s.label=6;case 6:return[5,i()];case 7:s.sent(),s.label=8;case 8:if(n.url&&r<100)return[3,6];s.label=9;case 9:if(100===r&&n.url)throw new Error("Negotiate redirection limit exceeded.");return this.connectionId=n.connectionId,[4,this.createTransport(e,this.options.transport,n,t)];case 10:s.sent(),s.label=11;case 11:return this.transport instanceof T&&(this.features.inherentKeepAlive=!0),"Connecting "===this.connectionState&&(this.logger.log(c.a.Debug,"The HttpConnection connected successfully."),this.connectionState="Connected"),[3,13];case 12:return a=s.sent(),this.logger.log(c.a.Error,"Failed to start the connection: "+a),this.connectionState="Disconnected",this.transport=void 0,[2,Promise.reject(a)];case 13:return[2]}}))}))},t.prototype.getNegotiationResponse=function(t){return N(this,void 0,void 0,(function(){var e,n,r,i,o,a;return D(this,(function(s){switch(s.label){case 0:return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(r=s.sent())&&((e={}).Authorization="Bearer "+r,n=e),s.label=2;case 2:i=this.resolveNegotiateUrl(t),this.logger.log(c.a.Debug,"Sending negotiation request: "+i+"."),s.label=3;case 3:return s.trys.push([3,5,,6]),[4,this.httpClient.post(i,{content:"",headers:n})];case 4:return 200!==(o=s.sent()).statusCode?[2,Promise.reject(new Error("Unexpected status code returned from negotiate "+o.statusCode))]:[2,JSON.parse(o.content)];case 5:return a=s.sent(),this.logger.log(c.a.Error,"Failed to complete negotiation with the server: "+a),[2,Promise.reject(a)];case 6:return[2]}}))}))},t.prototype.createConnectUrl=function(t,e){return e?t+(-1===t.indexOf("?")?"?":"&")+"id="+e:t},t.prototype.createTransport=function(t,e,n,r){return N(this,void 0,void 0,(function(){var i,o,a,s,l,u,p,h,d,g;return D(this,(function(m){switch(m.label){case 0:return i=this.createConnectUrl(t,n.connectionId),this.isITransport(e)?(this.logger.log(c.a.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=e,[4,this.startTransport(i,r)]):[3,2];case 1:return m.sent(),[2];case 2:o=[],a=n.availableTransports||[],s=0,l=a,m.label=3;case 3:return s<l.length?(u=l[s],(p=this.resolveTransportOrError(u,e,r))instanceof Error?(o.push(u.transport+" failed: "+p),[3,12]):[3,4]):[3,13];case 4:if(!this.isITransport(p))return[3,12];if(this.transport=p,n.connectionId)return[3,9];m.label=5;case 5:return m.trys.push([5,7,,8]),[4,this.getNegotiationResponse(t)];case 6:return n=m.sent(),[3,8];case 7:return h=m.sent(),[2,Promise.reject(h)];case 8:i=this.createConnectUrl(t,n.connectionId),m.label=9;case 9:return m.trys.push([9,11,,12]),[4,this.startTransport(i,r)];case 10:return m.sent(),[2];case 11:return d=m.sent(),this.logger.log(c.a.Error,"Failed to start the transport '"+u.transport+"': "+d),n.connectionId=void 0,o.push(u.transport+" failed: "+d),"Connecting "!==this.connectionState?(g="Failed to select transport before stop() was called.",this.logger.log(c.a.Debug,g),[2,Promise.reject(new Error(g))]):[3,12];case 12:return s++,[3,3];case 13:return o.length>0?[2,Promise.reject(new Error("Unable to connect to the server with any of the available transports. "+o.join(" ")))]:[2,Promise.reject(new Error("None of the transports supported by the client are supported by the server."))]}}))}))},t.prototype.constructTransport=function(t){switch(t){case _.WebSockets:if(!this.options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new E(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.WebSocket);case _.ServerSentEvents:if(!this.options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new R(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.EventSource);case _.LongPolling:return new T(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1);default:throw new Error("Unknown transport: "+t+".")}},t.prototype.startTransport=function(t,e){var n=this;return this.transport.onreceive=this.onreceive,this.transport.onclose=function(t){return n.stopConnection(t)},this.transport.connect(t,e)},t.prototype.resolveTransportOrError=function(t,e,n){var r=_[t.transport];if(null==r)return this.logger.log(c.a.Debug,"Skipping transport '"+t.transport+"' because it is not supported by this client."),new Error("Skipping transport '"+t.transport+"' because it is not supported by this client.");if(!function(t,e){return!t||0!=(e&t)}(e,r))return this.logger.log(c.a.Debug,"Skipping transport '"+_[r]+"' because it was disabled by the client."),new Error("'"+_[r]+"' is disabled by the client.");if(!(t.transferFormats.map((function(t){return C[t]})).indexOf(n)>=0))return this.logger.log(c.a.Debug,"Skipping transport '"+_[r]+"' because it does not support the requested transfer format '"+C[n]+"'."),new Error("'"+_[r]+"' does not support "+C[n]+".");if(r===_.WebSockets&&!this.options.WebSocket||r===_.ServerSentEvents&&!this.options.EventSource)return this.logger.log(c.a.Debug,"Skipping transport '"+_[r]+"' because it is not supported in your environment.'"),new Error("'"+_[r]+"' is not supported in your environment.");this.logger.log(c.a.Debug,"Selecting transport '"+_[r]+"'.");try{return this.constructTransport(r)}catch(t){return t}},t.prototype.isITransport=function(t){return t&&"object"==typeof t&&"connect"in t},t.prototype.stopConnection=function(t){if(this.logger.log(c.a.Debug,"HttpConnection.stopConnection("+t+") called while in state "+this.connectionState+"."),this.transport=void 0,t=this.stopError||t,this.stopError=void 0,"Disconnected"!==this.connectionState)if("Connecting "!==this.connectionState){if("Disconnecting"===this.connectionState&&this.stopPromiseResolver(),t?this.logger.log(c.a.Error,"Connection disconnected with error '"+t+"'."):this.logger.log(c.a.Information,"Connection disconnected."),this.connectionId=void 0,this.connectionState="Disconnected",this.onclose&&this.connectionStarted){this.connectionStarted=!1;try{this.onclose(t)}catch(e){this.logger.log(c.a.Error,"HttpConnection.onclose("+t+") threw error '"+e+"'.")}}}else this.logger.log(c.a.Warning,"Call to HttpConnection.stopConnection("+t+") was ignored because the connection hasn't yet left the in the connecting state.");else this.logger.log(c.a.Debug,"Call to HttpConnection.stopConnection("+t+") was ignored because the connection is already in the disconnected state.")},t.prototype.resolveUrl=function(t){if(0===t.lastIndexOf("https://",0)||0===t.lastIndexOf("http://",0))return t;if(!m.c.isBrowser||!window.document)throw new Error("Cannot resolve '"+t+"'.");var e=window.document.createElement("a");return e.href=t,this.logger.log(c.a.Information,"Normalizing '"+t+"' to '"+e.href+"'."),e.href},t.prototype.resolveNegotiateUrl=function(t){var e=t.indexOf("?"),n=t.substring(0,-1===e?t.length:e);return"/"!==n[n.length-1]&&(n+="/"),n+="negotiate",n+=-1===e?"":t.substring(e)},t}();var V=function(){function t(t){this.transport=t,this.buffer=[],this.executing=!0,this.sendBufferedData=new z,this.transportResult=new z,this.sendLoopPromise=this.sendLoop()}return t.prototype.send=function(t){return this.bufferData(t),this.transportResult||(this.transportResult=new z),this.transportResult.promise},t.prototype.stop=function(){return this.executing=!1,this.sendBufferedData.resolve(),this.sendLoopPromise},t.prototype.bufferData=function(t){if(this.buffer.length&&typeof this.buffer[0]!=typeof t)throw new Error("Expected data to be of type "+typeof this.buffer+" but was of type "+typeof t);this.buffer.push(t),this.sendBufferedData.resolve()},t.prototype.sendLoop=function(){return N(this,void 0,void 0,(function(){var e,n,r;return D(this,(function(i){switch(i.label){case 0:return[4,this.sendBufferedData.promise];case 1:if(i.sent(),!this.executing)return this.transportResult&&this.transportResult.reject("Connection stopped."),[3,6];this.sendBufferedData=new z,e=this.transportResult,this.transportResult=void 0,n="string"==typeof this.buffer[0]?this.buffer.join(""):t.concatBuffers(this.buffer),this.buffer.length=0,i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this.transport.send(n)];case 3:return i.sent(),e.resolve(),[3,5];case 4:return r=i.sent(),e.reject(r),[3,5];case 5:return[3,0];case 6:return[2]}}))}))},t.concatBuffers=function(t){for(var e=t.map((function(t){return t.byteLength})).reduce((function(t,e){return t+e})),n=new Uint8Array(e),r=0,i=0,o=t;i<o.length;i++){var a=o[i];n.set(new Uint8Array(a),r),r+=a.byteLength}return n},t}(),z=function(){function t(){var t=this;this.promise=new Promise((function(e,n){var r;return r=[e,n],t.resolver=r[0],t.rejecter=r[1],r}))}return t.prototype.resolve=function(){this.resolver()},t.prototype.reject=function(t){this.rejecter(t)},t}(),L=n(24),F=n(25),Y="json",G=function(){function t(){this.name=Y,this.version=1,this.transferFormat=C.Text}return t.prototype.parseMessages=function(t,e){if("string"!=typeof t)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];null===e&&(e=L.a.instance);for(var n=[],r=0,o=F.a.parse(t);r<o.length;r++){var a=o[r],s=JSON.parse(a);if("number"!=typeof s.type)throw new Error("Invalid payload.");switch(s.type){case i.Invocation:this.isInvocationMessage(s);break;case i.StreamItem:this.isStreamItemMessage(s);break;case i.Completion:this.isCompletionMessage(s);break;case i.Ping:case i.Close:break;default:e.log(c.a.Information,"Unknown message type '"+s.type+"' ignored.");continue}n.push(s)}return n},t.prototype.writeMessage=function(t){return F.a.write(JSON.stringify(t))},t.prototype.isInvocationMessage=function(t){this.assertNotEmptyString(t.target,"Invalid payload for Invocation message."),void 0!==t.invocationId&&this.assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")},t.prototype.isStreamItemMessage=function(t){if(this.assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),void 0===t.item)throw new Error("Invalid payload for StreamItem message.")},t.prototype.isCompletionMessage=function(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this.assertNotEmptyString(t.error,"Invalid payload for Completion message."),this.assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")},t.prototype.assertNotEmptyString=function(t,e){if("string"!=typeof t||""===t)throw new Error(e)},t}(),X=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},J={trace:c.a.Trace,debug:c.a.Debug,info:c.a.Information,information:c.a.Information,warn:c.a.Warning,warning:c.a.Warning,error:c.a.Error,critical:c.a.Critical,none:c.a.None};var q=function(){function t(){}return t.prototype.configureLogging=function(t){if(m.a.isRequired(t,"logging"),void 0!==t.log)this.logger=t;else if("string"==typeof t){var e=function(t){var e=J[t.toLowerCase()];if(void 0!==e)return e;throw new Error("Unknown log level: "+t)}(t);this.logger=new m.b(e)}else this.logger=new m.b(t);return this},t.prototype.withUrl=function(t,e){return m.a.isRequired(t,"url"),this.url=t,this.httpConnectionOptions=X({},this.httpConnectionOptions,"object"==typeof e?e:{transport:e}),this},t.prototype.withHubProtocol=function(t){return m.a.isRequired(t,"protocol"),this.protocol=t,this},t.prototype.withAutomaticReconnect=function(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return t?Array.isArray(t)?this.reconnectPolicy=new k(t):this.reconnectPolicy=t:this.reconnectPolicy=new k,this},t.prototype.build=function(){var t=this.httpConnectionOptions||{};if(void 0===t.logger&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");var e=new H(this.url,t);return I.create(e,this.logger||L.a.instance,this.protocol||new G,this.reconnectPolicy)},t}();n.d(e,"b",(function(){return g})),n.d(e,"a",(function(){return q})),n.d(e,"c",(function(){return c.a}))},function(t,e){t.exports=!1},function(t,e,n){var r,i,o,a=n(213),s=n(12),c=n(27),l=n(18),u=n(20),p=n(59),h=n(60),d=s.WeakMap;if(a){var g=new d,m=g.get,f=g.has,y=g.set;r=function(t,e){return y.call(g,t,e),e},i=function(t){return m.call(g,t)||{}},o=function(t){return f.call(g,t)}}else{var b=p("state");h[b]=!0,r=function(t,e){return l(t,b,e),e},i=function(t){return u(t,b)?t[b]:{}},o=function(t){return u(t,b)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(34),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},function(t,e,n){(function(r){var i,o,a;a="object"==typeof self&&self.self===self&&self||"object"==typeof r&&r.global===r&&r,i=[n(6),n(0),e],void 0===(o=function(t,e,n){a.Backbone=function(t,e,n,r){var i=t.Backbone,o=Array.prototype.slice;e.VERSION="1.4.0",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a,s=e.Events={},c=/\s+/,l=function(t,e,r,i,o){var a,s=0;if(r&&"object"==typeof r){void 0!==i&&"context"in o&&void 0===o.context&&(o.context=i);for(a=n.keys(r);s<a.length;s++)e=l(t,e,a[s],r[a[s]],o)}else if(r&&c.test(r))for(a=r.split(c);s<a.length;s++)e=t(e,a[s],i,o);else e=t(e,r,i,o);return e};s.on=function(t,e,n){return this._events=l(u,this._events||{},t,e,{context:n,ctx:this,listening:a}),a&&((this._listeners||(this._listeners={}))[a.id]=a,a.interop=!1),this},s.listenTo=function(t,e,r){if(!t)return this;var i=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),s=a=o[i];s||(this._listenId||(this._listenId=n.uniqueId("l")),s=a=o[i]=new f(this,t));var c=p(t,e,r,this);if(a=void 0,c)throw c;return s.interop&&s.on(e,r),this};var u=function(t,e,n,r){if(n){var i=t[e]||(t[e]=[]),o=r.context,a=r.ctx,s=r.listening;s&&s.count++,i.push({callback:n,context:o,ctx:o||a,listening:s})}return t},p=function(t,e,n,r){try{t.on(e,n,r)}catch(t){return t}};s.off=function(t,e,n){return this._events?(this._events=l(h,this._events,t,e,{context:n,listeners:this._listeners}),this):this},s.stopListening=function(t,e,r){var i=this._listeningTo;if(!i)return this;for(var o=t?[t._listenId]:n.keys(i),a=0;a<o.length;a++){var s=i[o[a]];if(!s)break;s.obj.off(e,r,this),s.interop&&s.off(e,r)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var h=function(t,e,r,i){if(t){var o,a=i.context,s=i.listeners,c=0;if(e||a||r){for(o=e?[e]:n.keys(t);c<o.length;c++){var l=t[e=o[c]];if(!l)break;for(var u=[],p=0;p<l.length;p++){var h=l[p];if(r&&r!==h.callback&&r!==h.callback._callback||a&&a!==h.context)u.push(h);else{var d=h.listening;d&&d.off(e,r)}}u.length?t[e]=u:delete t[e]}return t}for(o=n.keys(s);c<o.length;c++)s[o[c]].cleanup()}};s.once=function(t,e,n){var r=l(d,{},t,e,this.off.bind(this));return"string"==typeof t&&null==n&&(e=void 0),this.on(r,e,n)},s.listenToOnce=function(t,e,n){var r=l(d,{},e,n,this.stopListening.bind(this,t));return this.listenTo(t,r)};var d=function(t,e,r,i){if(r){var o=t[e]=n.once((function(){i(e,o),r.apply(this,arguments)}));o._callback=r}return t};s.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;r<e;r++)n[r]=arguments[r+1];return l(g,this._events,t,void 0,n),this};var g=function(t,e,n,r){if(t){var i=t[e],o=t.all;i&&o&&(o=o.slice()),i&&m(i,r),o&&m(o,[e].concat(r))}return t},m=function(t,e){var n,r=-1,i=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}},f=function(t,e){this.id=t._listenId,this.listener=t,this.obj=e,this.interop=!0,this.count=0,this._events=void 0};f.prototype.on=s.on,f.prototype.off=function(t,e){var n;this.interop?(this._events=l(h,this._events,t,e,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=0===this.count),n&&this.cleanup()},f.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},s.bind=s.on,s.unbind=s.off,n.extend(e,s);var y=e.Model=function(t,e){var r=t||{};e||(e={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(y.prototype,s,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var i;if("object"==typeof t?(i=t,r=e):(i={})[t]=e,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,a=r.silent,s=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={});var l=this.attributes,u=this.changed,p=this._previousAttributes;for(var h in i)e=i[h],n.isEqual(l[h],e)||s.push(h),n.isEqual(p[h],e)?delete u[h]:u[h]=e,o?delete l[h]:l[h]=e;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!a){s.length&&(this._pending=r);for(var d=0;d<s.length;d++)this.trigger("change:"+s[d],this,l[s[d]],r)}if(c)return this;if(!a)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e,r=this._changing?this._previousAttributes:this.attributes,i={};for(var o in t){var a=t[o];n.isEqual(r[o],a)||(i[o]=a,e=!0)}return!!e&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var i=t.parse?e.parse(n,t):n;if(!e.set(i,t))return!1;r&&r.call(t.context,e,n,t),e.trigger("sync",e,n,t)},L(this,t),this.sync("read",this,t)},save:function(t,e,r){var i;null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e;var o=(r=n.extend({validate:!0,parse:!0},r)).wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var a=this,s=r.success,c=this.attributes;r.success=function(t){a.attributes=c;var e=r.parse?a.parse(t,r):t;if(o&&(e=n.extend({},i,e)),e&&!a.set(e,r))return!1;s&&s.call(r.context,a,t,r),a.trigger("sync",a,t,r)},L(this,r),i&&o&&(this.attributes=n.extend({},c,i));var l=this.isNew()?"create":r.patch?"patch":"update";"patch"!==l||r.attrs||(r.attrs=i);var u=this.sync(l,this,r);return this.attributes=c,u},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){i&&o(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var a=!1;return this.isNew()?n.defer(t.success):(L(this,t),a=this.sync("delete",this,t)),i||o(),a},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||z();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1)}});var b=e.Collection=function(t,e){e||(e={}),this.preinitialize.apply(this,arguments),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},v={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},_=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var r,i=Array(t.length-n),o=e.length;for(r=0;r<i.length;r++)i[r]=t[r+n];for(r=0;r<o;r++)t[r+n]=e[r];for(r=0;r<i.length;r++)t[r+o+n]=i[r]};n.extend(b.prototype,s,{model:y,preinitialize:function(){},initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,w))},remove:function(t,e){e=n.extend({},e);var r=!n.isArray(t);t=r?[t]:t.slice();var i=this._removeModels(t,e);return!e.silent&&i.length&&(e.changes={added:[],merged:[],removed:i},this.trigger("update",this,e)),r?i[0]:i},set:function(t,e){if(null!=t){(e=n.extend({},v,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var r=!n.isArray(t);t=r?[t]:t.slice();var i=e.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var o,a,s=[],c=[],l=[],u=[],p={},h=e.add,d=e.merge,g=e.remove,m=!1,f=this.comparator&&null==i&&!1!==e.sort,y=n.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){o=t[a];var b=this.get(o);if(b){if(d&&o!==b){var w=this._isModel(o)?o.attributes:o;e.parse&&(w=b.parse(w,e)),b.set(w,e),l.push(b),f&&!m&&(m=b.hasChanged(y))}p[b.cid]||(p[b.cid]=!0,s.push(b)),t[a]=b}else h&&(o=t[a]=this._prepareModel(o,e))&&(c.push(o),this._addReference(o,e),p[o.cid]=!0,s.push(o))}if(g){for(a=0;a<this.length;a++)p[(o=this.models[a]).cid]||u.push(o);u.length&&this._removeModels(u,e)}var C=!1,I=!f&&h&&g;if(s.length&&I?(C=this.length!==s.length||n.some(this.models,(function(t,e){return t!==s[e]})),this.models.length=0,_(this.models,s,0),this.length=this.models.length):c.length&&(f&&(m=!0),_(this.models,c,null==i?this.length:i),this.length=this.models.length),m&&this.sort({silent:!0}),!e.silent){for(a=0;a<c.length;a++)null!=i&&(e.index=i+a),(o=c[a]).trigger("add",o,this,e);(m||C)&&this.trigger("sort",this,e),(c.length||u.length||l.length)&&(e.changes={added:c,removed:u,merged:l},this.trigger("update",this,e))}return r?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(this._isModel(t)?t.attributes:t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return n.isFunction(e)&&(e=e.bind(this)),1===r||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){var e=(t=n.extend({parse:!0},t)).success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},L(this,t),this.sync("read",this,t)},create:function(t,e){var r=(e=e?n.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;r||this.add(t,e);var i=this,o=e.success;return e.success=function(t,e,n){r&&i.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},values:function(){return new I(this,x)},keys:function(){return new I(this,k)},entries:function(){return new I(this,j)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?n.clone(e):{}).collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var i=this.get(t[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,delete this._byId[i.cid];var a=this.modelId(i.attributes);null!=a&&delete this._byId[a],e.silent||(e.index=o,i.trigger("remove",i,this,e)),n.push(i),this._removeReference(i,e)}}return n},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,r),"change"===t){var i=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);i!==o&&(null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=e))}}this.trigger.apply(this,arguments)}});var C="function"==typeof Symbol&&Symbol.iterator;C&&(b.prototype[C]=b.prototype.values);var I=function(t,e){this._collection=t,this._kind=e,this._index=0},x=1,k=2,j=3;C&&(I.prototype[C]=function(){return this}),I.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var t,e=this._collection.at(this._index);if(this._index++,this._kind===x)t=e;else{var n=this._collection.modelId(e.attributes);t=this._kind===k?n:[n,e]}return{value:t,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var S=e.View=function(t){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(t,T)),this._ensureElement(),this.initialize.apply(this,arguments)},A=/^(\S+)\s*(.*)$/,T=["model","collection","el","id","attributes","className","tagName","events"];n.extend(S.prototype,s,{tagName:"div",$:function(t){return this.$el.find(t)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var r=t[e];if(n.isFunction(r)||(r=this[r]),r){var i=e.match(A);this.delegate(i[1],i[2],r.bind(this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}});var O=function(t,e,r,i){n.each(r,(function(n,r){e[r]&&(t.prototype[r]=function(t,e,n,r){switch(e){case 1:return function(){return t[n](this[r])};case 2:return function(e){return t[n](this[r],e)};case 3:return function(e,i){return t[n](this[r],P(e,this),i)};case 4:return function(e,i,o){return t[n](this[r],P(e,this),i,o)};default:return function(){var e=o.call(arguments);return e.unshift(this[r]),t[n].apply(t,e)}}}(e,n,r,i))}))},P=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?R(t):n.isString(t)?function(e){return e.get(t)}:t},R=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}};n.each([[b,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],(function(t){var e=t[0],r=t[1],i=t[2];e.mixin=function(t){var r=n.reduce(n.functions(t),(function(t,e){return t[e]=0,t}),{});O(e,t,r,i)},O(e,n,r,i)})),e.sync=function(t,r,i){var o=M[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(i.url||(a.url=n.result(r,"url")||z()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",i.emulateJSON&&(a.data._method=o);var s=i.beforeSend;i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===a.type||i.emulateJSON||(a.processData=!1);var c=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,c&&c.call(i.context,t,e,n)};var l=i.xhr=e.ajax(n.extend(a,i));return r.trigger("request",r,l,i),l};var M={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var W=e.Router=function(t){t||(t={}),this.preinitialize.apply(this,arguments),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},E=/\((.*?)\)/g,N=/(\(\?)?:\w+/g,D=/\*\w+/g,U=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(W.prototype,s,{preinitialize:function(){},initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return e.history.route(t,(function(n){var a=o._extractParameters(t,n);!1!==o.execute(i,a,r)&&(o.trigger.apply(o,["route:"+r].concat(a)),o.trigger("route",r,a),e.history.trigger("route",o,r,a))})),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(U,"\\$&").replace(E,"(?:$1)?").replace(N,(function(t,e){return e?t:"([^/?]+)"})).replace(D,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,(function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null}))}});var B=e.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},Z=/^[#\/]|\s+$/g,H=/^\/+|\/+$/g,V=/#.*$/;B.started=!1,n.extend(B.prototype,s,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(Z,"")},start:function(t){if(B.started)throw new Error("Backbone.history has already been started");if(B.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(H,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),B.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0})))},navigate:function(t,e){if(!B.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+t;t=t.replace(V,"");var i=this.decodeFragment(t);if(this.fragment!==i){if(this.fragment=i,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var o=this.iframe.contentWindow;e.replace||(o.document.open(),o.document.close()),this._updateHash(o.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new B,y.extend=b.extend=W.extend=S.extend=B.extend=function(t,e){var r,i=this;return r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e),r.prototype=n.create(i.prototype,t),r.prototype.constructor=r,r.__super__=i.prototype,r};var z=function(){throw new Error('A "url" property or function must be specified')},L=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e}(a,n,t,e)}.apply(e,i))||(t.exports=o)}).call(this,n(8))},function(t,e,n){(function(e){!function(e){"use strict";var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}|~{3,})([^`~\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:f,table:f,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};function r(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||C.defaults,this.rules=n.normal,this.options.pedantic?this.rules=n.pedantic:this.options.gfm&&(this.rules=n.gfm)}n._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,n._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,n.def=h(n.def).replace("label",n._label).replace("title",n._title).getRegex(),n.bullet=/(?:[*+-]|\d{1,9}\.)/,n.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,n.item=h(n.item,"gm").replace(/bull/g,n.bullet).getRegex(),n.list=h(n.list).replace(/bull/g,n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+n.def.source+")").getRegex(),n._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",n._comment=/<!--(?!-?>)[\s\S]*?-->/,n.html=h(n.html,"i").replace("comment",n._comment).replace("tag",n._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),n.paragraph=h(n._paragraph).replace("hr",n.hr).replace("heading"," {0,3}#{1,6} +").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}|~{3,})[^`\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",n._tag).getRegex(),n.blockquote=h(n.blockquote).replace("paragraph",n.paragraph).getRegex(),n.normal=y({},n),n.gfm=y({},n.normal,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),n.pedantic=y({},n.normal,{html:h("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",n._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:f,paragraph:h(n.normal._paragraph).replace("hr",n.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",n.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),r.rules=n,r.lex=function(t,e){return new r(e).lex(t)},r.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},r.prototype.token=function(t,e){var r,i,o,a,s,c,l,p,h,d,g,m,f,y,w,_;for(t=t.replace(/^ +$/gm,"");t;)if((o=this.rules.newline.exec(t))&&(t=t.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(t)){var C=this.tokens[this.tokens.length-1];t=t.substring(o[0].length),C&&"paragraph"===C.type?C.text+="\n"+o[0].trimRight():(o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?o:v(o,"\n")}))}else if(o=this.rules.fences.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"code",lang:o[2]?o[2].trim():o[2],text:o[3]||""});else if(o=this.rules.heading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if((o=this.rules.nptable.exec(t))&&(c={type:"table",header:b(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]}).header.length===c.align.length){for(t=t.substring(o[0].length),g=0;g<c.align.length;g++)/^ *-+: *$/.test(c.align[g])?c.align[g]="right":/^ *:-+: *$/.test(c.align[g])?c.align[g]="center":/^ *:-+ *$/.test(c.align[g])?c.align[g]="left":c.align[g]=null;for(g=0;g<c.cells.length;g++)c.cells[g]=b(c.cells[g],c.header.length);this.tokens.push(c)}else if(o=this.rules.hr.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,e),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(t)){for(t=t.substring(o[0].length),l={type:"list_start",ordered:y=(a=o[2]).length>1,start:y?+a:"",loose:!1},this.tokens.push(l),p=[],r=!1,f=(o=o[0].match(this.rules.item)).length,g=0;g<f;g++)d=(c=o[g]).length,~(c=c.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(d-=c.length,c=this.options.pedantic?c.replace(/^ {1,4}/gm,""):c.replace(new RegExp("^ {1,"+d+"}","gm"),"")),g!==f-1&&(s=n.bullet.exec(o[g+1])[0],(a.length>1?1===s.length:s.length>1||this.options.smartLists&&s!==a)&&(t=o.slice(g+1).join("\n")+t,g=f-1)),i=r||/\n\n(?!\s*$)/.test(c),g!==f-1&&(r="\n"===c.charAt(c.length-1),i||(i=r)),i&&(l.loose=!0),_=void 0,(w=/^\[[ xX]\] /.test(c))&&(_=" "!==c[1],c=c.replace(/^\[[ xX]\] +/,"")),h={type:"list_item_start",task:w,checked:_,loose:i},p.push(h),this.tokens.push(h),this.token(c,!1),this.tokens.push({type:"list_item_end"});if(l.loose)for(f=p.length,g=0;g<f;g++)p[g].loose=!0;this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(t))t=t.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):u(o[0]):o[0]});else if(e&&(o=this.rules.def.exec(t)))t=t.substring(o[0].length),o[3]&&(o[3]=o[3].substring(1,o[3].length-1)),m=o[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[m]||(this.tokens.links[m]={href:o[2],title:o[3]});else if((o=this.rules.table.exec(t))&&(c={type:"table",header:b(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]}).header.length===c.align.length){for(t=t.substring(o[0].length),g=0;g<c.align.length;g++)/^ *-+: *$/.test(c.align[g])?c.align[g]="right":/^ *:-+: *$/.test(c.align[g])?c.align[g]="center":/^ *:-+ *$/.test(c.align[g])?c.align[g]="left":c.align[g]=null;for(g=0;g<c.cells.length;g++)c.cells[g]=b(c.cells[g].replace(/^ *\| *| *\| *$/g,""),c.header.length);this.tokens.push(c)}else if(o=this.rules.lheading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2].charAt(0)?1:2,text:o[1]});else if(e&&(o=this.rules.paragraph.exec(t)))t=t.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var i={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:f,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:f,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};function o(t,e){if(this.options=e||C.defaults,this.links=t,this.rules=i.normal,this.renderer=this.options.renderer||new a,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=i.pedantic:this.options.gfm&&(this.options.breaks?this.rules=i.breaks:this.rules=i.gfm)}function a(t){this.options=t||C.defaults}function s(){}function c(t){this.tokens=[],this.token=null,this.options=t||C.defaults,this.options.renderer=this.options.renderer||new a,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new l}function l(){this.seen={}}function u(t,e){if(e){if(u.escapeTest.test(t))return t.replace(u.escapeReplace,(function(t){return u.replacements[t]}))}else if(u.escapeTestNoEncode.test(t))return t.replace(u.escapeReplaceNoEncode,(function(t){return u.replacements[t]}));return t}function p(t){return t.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,(function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""}))}function h(t,e){return t=t.source||t,e=e||"",{replace:function(e,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),t=t.replace(e,n),this},getRegex:function(){return new RegExp(t,e)}}}function d(t,e,n){if(t){try{var r=decodeURIComponent(p(n)).replace(/[^\w:]/g,"").toLowerCase()}catch(t){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!m.test(n)&&(n=function(t,e){g[" "+t]||(/^[^:]+:\/*[^/]*$/.test(t)?g[" "+t]=t+"/":g[" "+t]=v(t,"/",!0));return t=g[" "+t],"//"===e.slice(0,2)?t.replace(/:[\s\S]*/,":")+e:"/"===e.charAt(0)?t.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+e:t+e}(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(t){return null}return n}i._punctuation="!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~",i.em=h(i.em).replace(/punctuation/g,i._punctuation).getRegex(),i._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,i._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,i._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,i.autolink=h(i.autolink).replace("scheme",i._scheme).replace("email",i._email).getRegex(),i._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,i.tag=h(i.tag).replace("comment",n._comment).replace("attribute",i._attribute).getRegex(),i._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,i._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,i._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,i.link=h(i.link).replace("label",i._label).replace("href",i._href).replace("title",i._title).getRegex(),i.reflink=h(i.reflink).replace("label",i._label).getRegex(),i.normal=y({},i),i.pedantic=y({},i.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:h(/^!?\[(label)\]\((.*?)\)/).replace("label",i._label).getRegex(),reflink:h(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",i._label).getRegex()}),i.gfm=y({},i.normal,{escape:h(i.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),i.gfm.url=h(i.gfm.url,"i").replace("email",i.gfm._extended_email).getRegex(),i.breaks=y({},i.gfm,{br:h(i.br).replace("{2,}","*").getRegex(),text:h(i.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),o.rules=i,o.output=function(t,e,n){return new o(e,n).output(t)},o.prototype.output=function(t){for(var e,n,r,i,a,s,c="";t;)if(a=this.rules.escape.exec(t))t=t.substring(a[0].length),c+=u(a[1]);else if(a=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(a[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(a[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(a[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(a[0])&&(this.inRawBlock=!1),t=t.substring(a[0].length),c+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):u(a[0]):a[0];else if(a=this.rules.link.exec(t)){var l=w(a[2],"()");if(l>-1){var p=4+a[1].length+l;a[2]=a[2].substring(0,l),a[0]=a[0].substring(0,p).trim(),a[3]=""}t=t.substring(a[0].length),this.inLink=!0,r=a[2],this.options.pedantic?(e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r))?(r=e[1],i=e[3]):i="":i=a[3]?a[3].slice(1,-1):"",r=r.trim().replace(/^<([\s\S]*)>$/,"$1"),c+=this.outputLink(a,{href:o.escapes(r),title:o.escapes(i)}),this.inLink=!1}else if((a=this.rules.reflink.exec(t))||(a=this.rules.nolink.exec(t))){if(t=t.substring(a[0].length),e=(a[2]||a[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){c+=a[0].charAt(0),t=a[0].substring(1)+t;continue}this.inLink=!0,c+=this.outputLink(a,e),this.inLink=!1}else if(a=this.rules.strong.exec(t))t=t.substring(a[0].length),c+=this.renderer.strong(this.output(a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.em.exec(t))t=t.substring(a[0].length),c+=this.renderer.em(this.output(a[6]||a[5]||a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.code.exec(t))t=t.substring(a[0].length),c+=this.renderer.codespan(u(a[2].trim(),!0));else if(a=this.rules.br.exec(t))t=t.substring(a[0].length),c+=this.renderer.br();else if(a=this.rules.del.exec(t))t=t.substring(a[0].length),c+=this.renderer.del(this.output(a[1]));else if(a=this.rules.autolink.exec(t))t=t.substring(a[0].length),r="@"===a[2]?"mailto:"+(n=u(this.mangle(a[1]))):n=u(a[1]),c+=this.renderer.link(r,null,n);else if(this.inLink||!(a=this.rules.url.exec(t))){if(a=this.rules.text.exec(t))t=t.substring(a[0].length),this.inRawBlock?c+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):u(a[0]):a[0]):c+=this.renderer.text(u(this.smartypants(a[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else{if("@"===a[2])r="mailto:"+(n=u(a[0]));else{do{s=a[0],a[0]=this.rules._backpedal.exec(a[0])[0]}while(s!==a[0]);n=u(a[0]),r="www."===a[1]?"http://"+n:n}t=t.substring(a[0].length),c+=this.renderer.link(r,null,n)}return c},o.escapes=function(t){return t?t.replace(o.rules._escapes,"$1"):t},o.prototype.outputLink=function(t,e){var n=e.href,r=e.title?u(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(n,r,this.output(t[1])):this.renderer.image(n,r,u(t[1]))},o.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):t},o.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,n="",r=t.length,i=0;i<r;i++)e=t.charCodeAt(i),Math.random()>.5&&(e="x"+e.toString(16)),n+="&#"+e+";";return n},a.prototype.code=function(t,e,n){var r=(e||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(t,r);null!=i&&i!==t&&(n=!0,t=i)}return r?'<pre><code class="'+this.options.langPrefix+u(r,!0)+'">'+(n?t:u(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:u(t,!0))+"</code></pre>"},a.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},a.prototype.html=function(t){return t},a.prototype.heading=function(t,e,n,r){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+r.slug(n)+'">'+t+"</h"+e+">\n":"<h"+e+">"+t+"</h"+e+">\n"},a.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},a.prototype.list=function(t,e,n){var r=e?"ol":"ul";return"<"+r+(e&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+r+">\n"},a.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},a.prototype.checkbox=function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},a.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},a.prototype.table=function(t,e){return e&&(e="<tbody>"+e+"</tbody>"),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"},a.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},a.prototype.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' align="'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},a.prototype.strong=function(t){return"<strong>"+t+"</strong>"},a.prototype.em=function(t){return"<em>"+t+"</em>"},a.prototype.codespan=function(t){return"<code>"+t+"</code>"},a.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},a.prototype.del=function(t){return"<del>"+t+"</del>"},a.prototype.link=function(t,e,n){if(null===(t=d(this.options.sanitize,this.options.baseUrl,t)))return n;var r='<a href="'+u(t)+'"';return e&&(r+=' title="'+e+'"'),r+=">"+n+"</a>"},a.prototype.image=function(t,e,n){if(null===(t=d(this.options.sanitize,this.options.baseUrl,t)))return n;var r='<img src="'+t+'" alt="'+n+'"';return e&&(r+=' title="'+e+'"'),r+=this.options.xhtml?"/>":">"},a.prototype.text=function(t){return t},s.prototype.strong=s.prototype.em=s.prototype.codespan=s.prototype.del=s.prototype.text=function(t){return t},s.prototype.link=s.prototype.image=function(t,e,n){return""+n},s.prototype.br=function(){return""},c.parse=function(t,e){return new c(e).parse(t)},c.prototype.parse=function(t){this.inline=new o(t.links,this.options),this.inlineText=new o(t.links,y({},this.options,{renderer:new s})),this.tokens=t.reverse();for(var e="";this.next();)e+=this.tok();return e},c.prototype.next=function(){return this.token=this.tokens.pop(),this.token},c.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},c.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},c.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,p(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,n,r,i="",o="";for(n="",t=0;t<this.token.header.length;t++)n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(i+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],n="",r=0;r<e.length;r++)n+=this.renderer.tablecell(this.inline.output(e[r]),{header:!1,align:this.token.align[r]});o+=this.renderer.tablerow(n)}return this.renderer.table(i,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var a=this.token.ordered,s=this.token.start;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,a,s);case"list_item_start":o="";var c=this.token.loose,l=this.token.checked,u=this.token.task;for(this.token.task&&(o+=this.renderer.checkbox(l));"list_item_end"!==this.next().type;)o+=c||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(o,u,l);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:var h='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(h);console.log(h)}},l.prototype.slug=function(t){var e=t.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(e)){var n=e;do{this.seen[n]++,e=n+"-"+this.seen[n]}while(this.seen.hasOwnProperty(e))}return this.seen[e]=0,e},u.escapeTest=/[&<>"']/,u.escapeReplace=/[&<>"']/g,u.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,u.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var g={},m=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function f(){}function y(t){for(var e,n,r=1;r<arguments.length;r++)for(n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function b(t,e){var n=t.replace(/\|/g,(function(t,e,n){for(var r=!1,i=e;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function v(t,e,n){if(0===t.length)return"";for(var r=0;r<t.length;){var i=t.charAt(t.length-r-1);if(i!==e||n){if(i===e||!n)break;r++}else r++}return t.substr(0,t.length-r)}function w(t,e){if(-1===t.indexOf(e[1]))return-1;for(var n=0,r=0;r<t.length;r++)if("\\"===t[r])r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&--n<0)return r;return-1}function _(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function C(t,e,n){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(n||"function"==typeof e){n||(n=e,e=null),_(e=y({},C.defaults,e||{}));var i,o,a=e.highlight,s=0;try{i=r.lex(t,e)}catch(t){return n(t)}o=i.length;var l=function(t){if(t)return e.highlight=a,n(t);var r;try{r=c.parse(i,e)}catch(e){t=e}return e.highlight=a,t?n(t):n(null,r)};if(!a||a.length<3)return l();if(delete e.highlight,!o)return l();for(;s<i.length;s++)!function(t){"code"!==t.type?--o||l():a(t.text,t.lang,(function(e,n){return e?l(e):null==n||n===t.text?--o||l():(t.text=n,t.escaped=!0,void(--o||l()))}))}(i[s])}else try{return e&&(e=y({},C.defaults,e)),_(e),c.parse(r.lex(t,e),e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",(e||C.defaults).silent)return"<p>An error occurred:</p><pre>"+u(t.message+"",!0)+"</pre>";throw t}}f.exec=f,C.options=C.setOptions=function(t){return y(C.defaults,t),C},C.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new a,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}},C.defaults=C.getDefaults(),C.Parser=c,C.parser=c.parse,C.Renderer=a,C.TextRenderer=s,C.Lexer=r,C.lexer=r.lex,C.InlineLexer=o,C.inlineLexer=o.output,C.Slugger=l,C.parse=C,t.exports=C}(this||"undefined"!=typeof window&&window)}).call(this,n(8))},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(218),i=n(62);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(19),i=n(239),o=n(87),a=n(93),s=n(240),c=n(241),l=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,u,p){var h,d,g,m,f,y,b,v=a(e,n,u?2:1);if(p)h=t;else{if("function"!=typeof(d=s(t)))throw TypeError("Target is not iterable");if(i(d)){for(g=0,m=o(t.length);m>g;g++)if((f=u?v(r(b=t[g])[0],b[1]):v(t[g]))&&f instanceof l)return f;return new l(!1)}h=d.call(t)}for(y=h.next;!(b=y.call(h)).done;)if("object"==typeof(f=c(h,v,b.value,u))&&f&&f instanceof l)return f;return new l(!1)}).stop=function(t){return new l(!0,t)}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){var r=n(252),i=n(69),o=n(102),a=n(21)("socket.io-client");t.exports=e=c;var s=e.managers={};function c(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i=r(t),c=i.source,l=i.id,u=i.path,p=s[l]&&u in s[l].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||p?(a("ignoring socket cache for %s",c),n=o(c,e)):(s[l]||(a("new io instance for %s",c),s[l]=o(c,e)),n=s[l]),i.query&&!e.query?e.query=i.query:e&&"object"==typeof e.query&&(e.query=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}(e.query)),n.socket(i.path,e)}e.protocol=i.protocol,e.connect=c,e.Manager=n(102),e.Socket=n(108)},function(t,e,n){t.exports=n.p+"visitor.b84d3b849f17f523051e.png"},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div data-resourcekey="'+(null==(__t=obj.parent.get("resourceKey")||"")?"":__t)+'" class="purechat-message-container '+(null==(__t=obj.parent.get("myMessage")?"purechat-message-right":"purechat-message-left")?"":__t)+'">\r\n\t<div class="purechat-message">\r\n\t\t<span class="purechat-message-actual">\r\n\t\t\t<span class="purechat-new-thought">\r\n\t\t\t\t',obj.title&&(__p+='\r\n\t\t\t\t\t<div class="purechat-unfurl-title">\r\n\t\t\t\t\t\t',obj.icon&&(__p+='\r\n\t\t\t\t\t\t<img src="'+(null==(__t=obj.icon)?"":__t)+'" alt="" width="16" height="16" class="purechat-unfurl-favicon" />\r\n\t\t\t\t\t\t'),__p+='\r\n\t\t\t\t\t\t<a href="'+(null==(__t=obj.link)?"":__t)+'" target="_blank">'+(null==(__t=obj.title)?"":__t)+"</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t"),__p+='\r\n\t\t\t\t<a href="'+(null==(__t=obj.link)?"":__t)+'" target="_blank">\r\n\t\t\t\t\t<img src="'+(null==(__t=obj.media)?"":__t)+'" alt="" class="purechat-unfurl-media" />\r\n\t\t\t\t</a>\r\n\t\t\t</span>\r\n\t\t</span>\r\n\t</div>\r\n\t<div class="purechat-timestamp">\r\n\t\t',obj.time&&(__p+='<time class="purechat-time" title="'+(null==(__t=obj.date)?"":__t)+'" datetime="'+(null==(__t=obj.date)?"":__t)+'">'+(null==(__t=obj.prettyDate(obj.date))?"":__t)+"</time>"),__p+="\r\n\t</div>\r\n</div>\r\n";return __p}},function(t,e,n){t.exports=n.p+"1avatar-operator-skinny.d0b62c7c078feb3f1042.png"},function(t,e,n){var r={};r[n(14)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(38),i=n(211);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.4.7",mode:r?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(12),i=n(18);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(12),i=n(27),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e,n){var r=n(55),i=Function.toString;t.exports=r("inspectSource",(function(t){return i.call(t)}))},function(t,e,n){var r=n(55),i=n(81),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e){t.exports={}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(26),i=n(217),o=n(45),a=n(46),s=n(80),c=n(20),l=n(79),u=Object.getOwnPropertyDescriptor;e.f=r?u:function(t,e){if(t=a(t),e=s(e,!0),l)try{return u(t,e)}catch(t){}if(c(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(20),i=n(226),o=n(59),a=n(227),s=o("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,e,n){var r=n(19),i=n(228),o=n(64),a=n(60),s=n(90),c=n(57),l=n(59)("IE_PROTO"),u=function(){},p=function(){var t,e=c("iframe"),n=o.length;for(e.style.display="none",s.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),p=t.F;n--;)delete p.prototype[o[n]];return p()};t.exports=Object.create||function(t,e){var n;return null!==t?(u.prototype=r(t),n=new u,u.prototype=null,n[l]=t):n=p(),void 0===e?n:i(n,e)},a[l]=!0},function(t,e,n){var r=n(32).f,i=n(20),o=n(14)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(21)("socket.io-parser"),i=n(256),o=n(35),a=n(258),s=n(101);function c(){}function l(t){var n="",o=!1;return n+=t.type,e.BINARY_EVENT!=t.type&&e.BINARY_ACK!=t.type||(n+=t.attachments,n+="-"),t.nsp&&"/"!=t.nsp&&(o=!0,n+=t.nsp),null!=t.id&&(o&&(n+=",",o=!1),n+=t.id),null!=t.data&&(o&&(n+=","),n+=i.stringify(t.data)),r("encoded %j as %s",t,n),n}function u(){this.reconstructor=null}function p(t){this.reconPack=t,this.buffers=[]}function h(t){return{type:e.ERROR,data:"parser error"}}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=c,e.Decoder=u,c.prototype.encode=function(t,n){(r("encoding packet %j",t),e.BINARY_EVENT==t.type||e.BINARY_ACK==t.type)?function(t,e){a.removeBlobs(t,(function(t){var n=a.deconstructPacket(t),r=l(n.packet),i=n.buffers;i.unshift(r),e(i)}))}(t,n):n([l(t)])},o(u.prototype),u.prototype.add=function(t){var n;if("string"==typeof t)n=function(t){var n={},o=0;if(n.type=Number(t.charAt(0)),null==e.types[n.type])return h();if(e.BINARY_EVENT==n.type||e.BINARY_ACK==n.type){for(var a="";"-"!=t.charAt(++o)&&(a+=t.charAt(o),o!=t.length););if(a!=Number(a)||"-"!=t.charAt(o))throw new Error("Illegal attachments");n.attachments=Number(a)}if("/"==t.charAt(o+1))for(n.nsp="";++o;){if(","==(c=t.charAt(o)))break;if(n.nsp+=c,o==t.length)break}else n.nsp="/";var s=t.charAt(o+1);if(""!==s&&Number(s)==s){for(n.id="";++o;){var c;if(null==(c=t.charAt(o))||Number(c)!=c){--o;break}if(n.id+=t.charAt(o),o==t.length)break}n.id=Number(n.id)}t.charAt(++o)&&(n=function(t,e){try{t.data=i.parse(e)}catch(t){return h()}return t}(n,t.substr(o)));return r("decoded %s as %j",t,n),n}(t),e.BINARY_EVENT==n.type||e.BINARY_ACK==n.type?(this.reconstructor=new p(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!s(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",n))}},u.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},p.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length==this.reconPack.attachments){var e=a.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},p.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){(function(e){var r=n(262);t.exports=function(t){var n=t.xdomain,i=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||r))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!i&&o)return new XDomainRequest}catch(t){}if(!n)try{return new(e[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}}).call(this,n(8))},function(t,e,n){var r=n(36),i=n(35);function o(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=o,i(o.prototype),o.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(t){var e=r.decodePacket(t,this.socket.binaryType);this.onPacket(e)},o.prototype.onPacket=function(t){this.emit("packet",t)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},function(t,e,n){t.exports=n.p+"files.65b09576c1d80e1c2896.png"},function(t,e,n){var r,i,o;
/*!
 * Includes BabySitter
 * https://github.com/marionettejs/backbone.babysitter/
 *
 * Includes Wreqr
 * https://github.com/marionettejs/backbone.wreqr/
 */o=this,r=[n(43),n(6)],void 0===(i=function(t,e){return o.Marionette=o.Mn=function(t,e,n){"use strict";(function(t,e){var n=t.ChildViewContainer;t.ChildViewContainer=function(t,e){var n=function(t){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),e.each(t,this.add,this)};return e.extend(n.prototype,{add:function(t,e){var n=t.cid;return this._views[n]=t,t.model&&(this._indexByModel[t.model.cid]=n),e&&(this._indexByCustom[e]=n),this._updateLength(),this},findByModel:function(t){return this.findByModelCid(t.cid)},findByModelCid:function(t){var e=this._indexByModel[t];return this.findByCid(e)},findByCustom:function(t){var e=this._indexByCustom[t];return this.findByCid(e)},findByIndex:function(t){return e.values(this._views)[t]},findByCid:function(t){return this._views[t]},remove:function(t){var n=t.cid;return t.model&&delete this._indexByModel[t.model.cid],e.any(this._indexByCustom,(function(t,e){if(t===n)return delete this._indexByCustom[e],!0}),this),delete this._views[n],this._updateLength(),this},call:function(t){this.apply(t,e.tail(arguments))},apply:function(t,n){e.each(this._views,(function(r){e.isFunction(r[t])&&r[t].apply(r,n||[])}))},_updateLength:function(){this.length=e.size(this._views)}}),e.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck","reduce"],(function(t){n.prototype[t]=function(){var n=e.values(this._views),r=[n].concat(e.toArray(arguments));return e[t].apply(e,r)}})),n}(0,e),t.ChildViewContainer.VERSION="0.1.11",t.ChildViewContainer.noConflict=function(){return t.ChildViewContainer=n,this},t.ChildViewContainer})(e,n),function(t,e){var n,r,i=t.Wreqr,o=t.Wreqr={};t.Wreqr.VERSION="1.3.6",t.Wreqr.noConflict=function(){return t.Wreqr=i,this},o.Handlers=function(t,e){var n=function(t){this.options=t,this._wreqrHandlers={},e.isFunction(this.initialize)&&this.initialize(t)};return n.extend=t.Model.extend,e.extend(n.prototype,t.Events,{setHandlers:function(t){e.each(t,(function(t,n){var r=null;e.isObject(t)&&!e.isFunction(t)&&(r=t.context,t=t.callback),this.setHandler(n,t,r)}),this)},setHandler:function(t,e,n){var r={callback:e,context:n};this._wreqrHandlers[t]=r,this.trigger("handler:add",t,e,n)},hasHandler:function(t){return!!this._wreqrHandlers[t]},getHandler:function(t){var e=this._wreqrHandlers[t];if(e)return function(){return e.callback.apply(e.context,arguments)}},removeHandler:function(t){delete this._wreqrHandlers[t]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(t,e),o.CommandStorage=(n=function(t){this.options=t,this._commands={},e.isFunction(this.initialize)&&this.initialize(t)},e.extend(n.prototype,t.Events,{getCommands:function(t){var e=this._commands[t];return e||(e={command:t,instances:[]},this._commands[t]=e),e},addCommand:function(t,e){this.getCommands(t).instances.push(e)},clearCommands:function(t){this.getCommands(t).instances=[]}}),n),o.Commands=function(t,e){return t.Handlers.extend({storageType:t.CommandStorage,constructor:function(e){this.options=e||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this),t.Handlers.prototype.constructor.apply(this,arguments)},execute:function(t){t=arguments[0];var n=e.rest(arguments);this.hasHandler(t)?this.getHandler(t).apply(this,n):this.storage.addCommand(t,n)},_executeCommands:function(t,n,r){var i=this.storage.getCommands(t);e.each(i.instances,(function(t){n.apply(r,t)})),this.storage.clearCommands(t)},_initializeStorage:function(t){var n,r=t.storageType||this.storageType;n=e.isFunction(r)?new r:r,this.storage=n}})}(o,e),o.RequestResponse=function(t,e){return t.Handlers.extend({request:function(t){if(this.hasHandler(t))return this.getHandler(t).apply(this,e.rest(arguments))}})}(o,e),o.EventAggregator=function(t,e){var n=function(){};return n.extend=t.Model.extend,e.extend(n.prototype,t.Events),n}(t,e),o.Channel=(r=function(e){this.vent=new t.Wreqr.EventAggregator,this.reqres=new t.Wreqr.RequestResponse,this.commands=new t.Wreqr.Commands,this.channelName=e},e.extend(r.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(t,e){return this._connect("vent",t,e),this},connectCommands:function(t,e){return this._connect("commands",t,e),this},connectRequests:function(t,e){return this._connect("reqres",t,e),this},_connect:function(t,n,r){if(n){r=r||this;var i="vent"===t?"on":"setHandler";e.each(n,(function(n,o){this[t][i](o,e.bind(n,r))}),this)}}}),r),o.radio=function(t,e){var n=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};e.extend(n.prototype,{channel:function(t){if(!t)throw new Error("Channel must receive a name");return this._getChannel(t)},_getChannel:function(e){var n=this._channels[e];return n||(n=new t.Channel(e),this._channels[e]=n),n},_proxyMethods:function(){e.each(["vent","commands","reqres"],(function(t){e.each(r[t],(function(e){this[t][e]=i(this,t,e)}),this)}),this)}});var r={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},i=function(t,n,r){return function(i){var o=t._getChannel(i)[n];return o[r].apply(o,e.rest(arguments))}};return new n}(o,e),t.Wreqr}(e,n);var r=t.Marionette,i=t.Mn,o=e.Marionette={};o.VERSION="2.4.7",o.noConflict=function(){return t.Marionette=r,t.Mn=i,this},e.Marionette=o,o.Deferred=e.$.Deferred,o.extend=e.Model.extend,o.isNodeAttached=function(t){return e.$.contains(document.documentElement,t)},o.mergeOptions=function(t,e){t&&n.extend(this,n.pick(t,e))},o.getOption=function(t,e){if(t&&e)return t.options&&void 0!==t.options[e]?t.options[e]:t[e]},o.proxyGetOption=function(t){return o.getOption(this,t)},o._getValue=function(t,e,r){return n.isFunction(t)&&(t=r?t.apply(e,r):t.call(e)),t},o.normalizeMethods=function(t){return n.reduce(t,(function(t,e,r){return n.isFunction(e)||(e=this[e]),e&&(t[r]=e),t}),{},this)},o.normalizeUIString=function(t,e){return t.replace(/@ui\.[a-zA-Z-_$0-9]*/g,(function(t){return e[t.slice(4)]}))},o.normalizeUIKeys=function(t,e){return n.reduce(t,(function(t,n,r){return t[o.normalizeUIString(r,e)]=n,t}),{})},o.normalizeUIValues=function(t,e,r){return n.each(t,(function(i,a){n.isString(i)?t[a]=o.normalizeUIString(i,e):n.isObject(i)&&n.isArray(r)&&(n.extend(i,o.normalizeUIValues(n.pick(i,r),e)),n.each(r,(function(t){var r=i[t];n.isString(r)&&(i[t]=o.normalizeUIString(r,e))})))})),t},o.actAsCollection=function(t,e){n.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],(function(r){t[r]=function(){var t=n.values(n.result(this,e)),i=[t].concat(n.toArray(arguments));return n[r].apply(n,i)}}))};var a=o.deprecate=function(t,e){n.isObject(t)&&(t=t.prev+" is going to be removed in the future. Please use "+t.next+" instead."+(t.url?" See: "+t.url:"")),void 0!==e&&e||a._cache[t]||(a._warn("Deprecation warning: "+t),a._cache[t]=!0)};a._console="undefined"!=typeof console?console:{},a._warn=function(){var t=a._console.warn||a._console.log||function(){};return t.apply(a._console,arguments)},a._cache={},o._triggerMethod=function(){var t=/(^|:)(\w)/gi;function e(t,e,n){return n.toUpperCase()}return function(r,i,o){var a=arguments.length<3;a&&(i=(o=i)[0]);var s,c="on"+i.replace(t,e),l=r[c];return n.isFunction(l)&&(s=l.apply(r,a?n.rest(o):o)),n.isFunction(r.trigger)&&(a+o.length>1?r.trigger.apply(r,a?o:[i].concat(n.drop(o,0))):r.trigger(i)),s}}(),o.triggerMethod=function(t){return o._triggerMethod(this,arguments)},o.triggerMethodOn=function(t){var e=n.isFunction(t.triggerMethod)?t.triggerMethod:o.triggerMethod;return e.apply(t,n.rest(arguments))},o.MonitorDOMRefresh=function(t){function e(){t._isShown&&t._isRendered&&o.isNodeAttached(t.el)&&o.triggerMethodOn(t,"dom:refresh",t)}t._isDomRefreshMonitored||(t._isDomRefreshMonitored=!0,t.on({show:function(){t._isShown=!0,e()},render:function(){t._isRendered=!0,e()}}))},function(t){function e(e,r,i,o){var a=o.split(/\s+/);n.each(a,(function(n){var o=e[n];if(!o)throw new t.Error('Method "'+n+'" was configured as an event handler, but does not exist.');e.listenTo(r,i,o)}))}function r(t,e,n,r){t.listenTo(e,n,r)}function i(t,e,r,i){var o=i.split(/\s+/);n.each(o,(function(n){var i=t[n];t.stopListening(e,r,i)}))}function o(t,e,n,r){t.stopListening(e,n,r)}function a(e,r,i,o,a){if(r&&i){if(!n.isObject(i))throw new t.Error({message:"Bindings must be an object or function.",url:"marionette.functions.html#marionettebindentityevents"});i=t._getValue(i,e),n.each(i,(function(t,i){n.isFunction(t)?o(e,r,i,t):a(e,r,i,t)}))}}t.bindEntityEvents=function(t,n,i){a(t,n,i,r,e)},t.unbindEntityEvents=function(t,e,n){a(t,e,n,o,i)},t.proxyBindEntityEvents=function(e,n){return t.bindEntityEvents(this,e,n)},t.proxyUnbindEntityEvents=function(e,n){return t.unbindEntityEvents(this,e,n)}}(o);var s=["description","fileName","lineNumber","name","message","number"];return o.Error=o.extend.call(Error,{urlRoot:"http://marionettejs.com/docs/v"+o.VERSION+"/",constructor:function(t,e){n.isObject(t)?t=(e=t).message:e||(e={});var r=Error.call(this,t);n.extend(this,n.pick(r,s),n.pick(e,s)),this.captureStackTrace(),e.url&&(this.url=this.urlRoot+e.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,o.Error)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}}),o.Error.extend=o.extend,o.Callbacks=function(){this._deferred=o.Deferred(),this._callbacks=[]},n.extend(o.Callbacks.prototype,{add:function(t,e){var r=n.result(this._deferred,"promise");this._callbacks.push({cb:t,ctx:e}),r.then((function(n){e&&(n.context=e),t.call(n.context,n.options)}))},run:function(t,e){this._deferred.resolve({options:t,context:e})},reset:function(){var t=this._callbacks;this._deferred=o.Deferred(),this._callbacks=[],n.each(t,(function(t){this.add(t.cb,t.ctx)}),this)}}),o.Controller=function(t){this.options=t||{},n.isFunction(this.initialize)&&this.initialize(this.options)},o.Controller.extend=o.extend,n.extend(o.Controller.prototype,e.Events,{destroy:function(){return o._triggerMethod(this,"before:destroy",arguments),o._triggerMethod(this,"destroy",arguments),this.stopListening(),this.off(),this},triggerMethod:o.triggerMethod,mergeOptions:o.mergeOptions,getOption:o.proxyGetOption}),o.Object=function(t){this.options=n.extend({},n.result(this,"options"),t),this.initialize.apply(this,arguments)},o.Object.extend=o.extend,n.extend(o.Object.prototype,e.Events,{initialize:function(){},destroy:function(t){return t=t||{},this.triggerMethod("before:destroy",t),this.triggerMethod("destroy",t),this.stopListening(),this},triggerMethod:o.triggerMethod,mergeOptions:o.mergeOptions,getOption:o.proxyGetOption,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),o.Region=o.Object.extend({constructor:function(t){if(this.options=t||{},this.el=this.getOption("el"),this.el=this.el instanceof e.$?this.el[0]:this.el,!this.el)throw new o.Error({name:"NoElError",message:'An "el" must be specified for a region.'});this.$el=this.getEl(this.el),o.Object.call(this,t)},show:function(t,e){if(this._ensureElement()){this._ensureViewIsIntact(t),o.MonitorDOMRefresh(t);var r=e||{},i=t!==this.currentView,a=!!r.preventDestroy,s=!!r.forceShow,c=!!this.currentView,l=i&&!a,u=i||s;if(c&&this.triggerMethod("before:swapOut",this.currentView,this,e),this.currentView&&i&&delete this.currentView._parent,l?this.empty():c&&u&&this.currentView.off("destroy",this.empty,this),u){t.once("destroy",this.empty,this),t._parent=this,this._renderView(t),c&&this.triggerMethod("before:swap",t,this,e),this.triggerMethod("before:show",t,this,e),o.triggerMethodOn(t,"before:show",t,this,e),c&&this.triggerMethod("swapOut",this.currentView,this,e);var p=o.isNodeAttached(this.el),h=[],d=n.extend({triggerBeforeAttach:this.triggerBeforeAttach,triggerAttach:this.triggerAttach},r);return p&&d.triggerBeforeAttach&&(h=this._displayedViews(t),this._triggerAttach(h,"before:")),this.attachHtml(t),this.currentView=t,p&&d.triggerAttach&&(h=this._displayedViews(t),this._triggerAttach(h)),c&&this.triggerMethod("swap",t,this,e),this.triggerMethod("show",t,this,e),o.triggerMethodOn(t,"show",t,this,e),this}return this}},triggerBeforeAttach:!0,triggerAttach:!0,_triggerAttach:function(t,e){var r=(e||"")+"attach";n.each(t,(function(t){o.triggerMethodOn(t,r,t,this)}),this)},_displayedViews:function(t){return n.union([t],n.result(t,"_getNestedViews")||[])},_renderView:function(t){t.supportsRenderLifecycle||o.triggerMethodOn(t,"before:render",t),t.render(),t.supportsRenderLifecycle||o.triggerMethodOn(t,"render",t)},_ensureElement:function(){if(n.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length){if(this.getOption("allowMissingEl"))return!1;throw new o.Error('An "el" '+this.$el.selector+" must exist in DOM")}return!0},_ensureViewIsIntact:function(t){if(!t)throw new o.Error({name:"ViewNotValid",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show."});if(t.isDestroyed)throw new o.Error({name:"ViewDestroyedError",message:'View (cid: "'+t.cid+'") has already been destroyed and cannot be used.'})},getEl:function(t){return e.$(t,o._getValue(this.options.parentEl,this))},attachHtml:function(t){this.$el.contents().detach(),this.el.appendChild(t.el)},empty:function(t){var e=this.currentView,n=!!(t||{}).preventDestroy;return e?(e.off("destroy",this.empty,this),this.triggerMethod("before:empty",e),n||this._destroyView(),this.triggerMethod("empty",e),delete this.currentView,n&&this.$el.contents().detach(),this):this},_destroyView:function(){var t=this.currentView;t.isDestroyed||(t.supportsDestroyLifecycle||o.triggerMethodOn(t,"before:destroy",t),t.destroy?t.destroy():(t.remove(),t.isDestroyed=!0),t.supportsDestroyLifecycle||o.triggerMethodOn(t,"destroy",t))},attachView:function(t){return this.currentView&&delete this.currentView._parent,t._parent=this,this.currentView=t,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this}},{buildRegion:function(t,e){if(n.isString(t))return this._buildRegionFromSelector(t,e);if(t.selector||t.el||t.regionClass)return this._buildRegionFromObject(t,e);if(n.isFunction(t))return this._buildRegionFromRegionClass(t);throw new o.Error({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})},_buildRegionFromSelector:function(t,e){return new e({el:t})},_buildRegionFromObject:function(t,e){var r=t.regionClass||e,i=n.omit(t,"selector","regionClass");return t.selector&&!i.el&&(i.el=t.selector),new r(i)},_buildRegionFromRegionClass:function(t){return new t}}),o.RegionManager=o.Controller.extend({constructor:function(t){this._regions={},this.length=0,o.Controller.call(this,t),this.addRegions(this.getOption("regions"))},addRegions:function(t,e){return t=o._getValue(t,this,arguments),n.reduce(t,(function(t,r,i){return n.isString(r)&&(r={selector:r}),r.selector&&(r=n.defaults({},r,e)),t[i]=this.addRegion(i,r),t}),{},this)},addRegion:function(t,e){var n;return n=e instanceof o.Region?e:o.Region.buildRegion(e,o.Region),this.triggerMethod("before:add:region",t,n),n._parent=this,this._store(t,n),this.triggerMethod("add:region",t,n),n},get:function(t){return this._regions[t]},getRegions:function(){return n.clone(this._regions)},removeRegion:function(t){var e=this._regions[t];return this._remove(t,e),e},removeRegions:function(){var t=this.getRegions();return n.each(this._regions,(function(t,e){this._remove(e,t)}),this),t},emptyRegions:function(){var t=this.getRegions();return n.invoke(t,"empty"),t},destroy:function(){return this.removeRegions(),o.Controller.prototype.destroy.apply(this,arguments)},_store:function(t,e){this._regions[t]||this.length++,this._regions[t]=e},_remove:function(t,e){this.triggerMethod("before:remove:region",t,e),e.empty(),e.stopListening(),delete e._parent,delete this._regions[t],this.length--,this.triggerMethod("remove:region",t,e)}}),o.actAsCollection(o.RegionManager.prototype,"_regions"),o.TemplateCache=function(t){this.templateId=t},n.extend(o.TemplateCache,{templateCaches:{},get:function(t,e){var n=this.templateCaches[t];return n||(n=new o.TemplateCache(t),this.templateCaches[t]=n),n.load(e)},clear:function(){var t,e=n.toArray(arguments),r=e.length;if(r>0)for(t=0;t<r;t++)delete this.templateCaches[e[t]];else this.templateCaches={}}}),n.extend(o.TemplateCache.prototype,{load:function(t){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId,t);return this.compiledTemplate=this.compileTemplate(e,t),this.compiledTemplate},loadTemplate:function(t,n){var r=e.$(t);if(!r.length)throw new o.Error({name:"NoTemplateError",message:'Could not find template: "'+t+'"'});return r.html()},compileTemplate:function(t,e){return n.template(t,e)}}),o.Renderer={render:function(t,e){if(!t)throw new o.Error({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});return(n.isFunction(t)?t:o.TemplateCache.get(t))(e)}},o.View=e.View.extend({isDestroyed:!1,supportsRenderLifecycle:!0,supportsDestroyLifecycle:!0,constructor:function(t){this.render=n.bind(this.render,this),t=o._getValue(t,this),this.options=n.extend({},n.result(this,"options"),t),this._behaviors=o.Behaviors(this),e.View.call(this,this.options),o.MonitorDOMRefresh(this)},getTemplate:function(){return this.getOption("template")},serializeModel:function(t){return t.toJSON.apply(t,n.rest(arguments))},mixinTemplateHelpers:function(t){t=t||{};var e=this.getOption("templateHelpers");return e=o._getValue(e,this),n.extend(t,e)},normalizeUIKeys:function(t){var e=n.result(this,"_uiBindings");return o.normalizeUIKeys(t,e||n.result(this,"ui"))},normalizeUIValues:function(t,e){var r=n.result(this,"ui"),i=n.result(this,"_uiBindings");return o.normalizeUIValues(t,i||r,e)},configureTriggers:function(){if(this.triggers){var t=this.normalizeUIKeys(n.result(this,"triggers"));return n.reduce(t,(function(t,e,n){return t[n]=this._buildViewTrigger(e),t}),{},this)}},delegateEvents:function(t){return this._delegateDOMEvents(t),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,(function(t){t.bindEntityEvents(this.model,t.getOption("modelEvents")),t.bindEntityEvents(this.collection,t.getOption("collectionEvents"))}),this),this},_delegateDOMEvents:function(t){var r=o._getValue(t||this.events,this);r=this.normalizeUIKeys(r),n.isUndefined(t)&&(this.events=r);var i={},a=n.result(this,"behaviorEvents")||{},s=this.configureTriggers(),c=n.result(this,"behaviorTriggers")||{};n.extend(i,a,r,s,c),e.View.prototype.delegateEvents.call(this,i)},undelegateEvents:function(){return e.View.prototype.undelegateEvents.apply(this,arguments),this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,(function(t){t.unbindEntityEvents(this.model,t.getOption("modelEvents")),t.unbindEntityEvents(this.collection,t.getOption("collectionEvents"))}),this),this},_ensureViewIsIntact:function(){if(this.isDestroyed)throw new o.Error({name:"ViewDestroyedError",message:'View (cid: "'+this.cid+'") has already been destroyed and cannot be used.'})},destroy:function(){if(this.isDestroyed)return this;var t=n.toArray(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(t)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(t)),this.unbindUIElements(),this.isRendered=!1,this.remove(),n.invoke(this._behaviors,"destroy",t),this},bindUIElements:function(){this._bindUIElements(),n.invoke(this._behaviors,this._bindUIElements)},_bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var t=n.result(this,"_uiBindings");this.ui={},n.each(t,(function(t,e){this.ui[e]=this.$(t)}),this)}},unbindUIElements:function(){this._unbindUIElements(),n.invoke(this._behaviors,this._unbindUIElements)},_unbindUIElements:function(){this.ui&&this._uiBindings&&(n.each(this.ui,(function(t,e){delete this.ui[e]}),this),this.ui=this._uiBindings,delete this._uiBindings)},_buildViewTrigger:function(t){var e=n.defaults({},t,{preventDefault:!0,stopPropagation:!0}),r=n.isObject(t)?e.event:t;return function(t){t&&(t.preventDefault&&e.preventDefault&&t.preventDefault(),t.stopPropagation&&e.stopPropagation&&t.stopPropagation());var n={view:this,model:this.model,collection:this.collection};this.triggerMethod(r,n)}},setElement:function(){var t=e.View.prototype.setElement.apply(this,arguments);return n.invoke(this._behaviors,"proxyViewProperties",this),t},triggerMethod:function(){var t=o._triggerMethod(this,arguments);return this._triggerEventOnBehaviors(arguments),this._triggerEventOnParentLayout(arguments[0],n.rest(arguments)),t},_triggerEventOnBehaviors:function(t){for(var e=o._triggerMethod,n=this._behaviors,r=0,i=n&&n.length;r<i;r++)e(n[r],t)},_triggerEventOnParentLayout:function(t,e){var r=this._parentLayoutView();if(r){var i=o.getOption(r,"childViewEventPrefix")+":"+t,a=[this].concat(e);o._triggerMethod(r,i,a);var s=o.getOption(r,"childEvents");s=o._getValue(s,r);var c=r.normalizeMethods(s);c&&n.isFunction(c[t])&&c[t].apply(r,a)}},_getImmediateChildren:function(){return[]},_getNestedViews:function(){var t=this._getImmediateChildren();return t.length?n.reduce(t,(function(t,e){return e._getNestedViews?t.concat(e._getNestedViews()):t}),t):t},_parentLayoutView:function(){for(var t=this._parent;t;){if(t instanceof o.LayoutView)return t;t=t._parent}},normalizeMethods:o.normalizeMethods,mergeOptions:o.mergeOptions,getOption:o.proxyGetOption,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),o.ItemView=o.View.extend({constructor:function(){o.View.apply(this,arguments)},serializeData:function(){if(!this.model&&!this.collection)return{};var t=[this.model||this.collection];return arguments.length&&t.push.apply(t,arguments),this.model?this.serializeModel.apply(this,t):{items:this.serializeCollection.apply(this,t)}},serializeCollection:function(t){return t.toJSON.apply(t,n.rest(arguments))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.isRendered=!0,this.bindUIElements(),this.triggerMethod("render",this),this},_renderTemplate:function(){var t=this.getTemplate();if(!1!==t){if(!t)throw new o.Error({name:"UndefinedTemplateError",message:"Cannot render the template since it is null or undefined."});var e=this.mixinTemplateHelpers(this.serializeData()),n=o.Renderer.render(t,e,this);return this.attachElContent(n),this}},attachElContent:function(t){return this.$el.html(t),this}}),o.CollectionView=o.View.extend({childViewEventPrefix:"childview",sort:!0,constructor:function(t){this.once("render",this._initialEvents),this._initChildViewStorage(),o.View.apply(this,arguments),this.on({"before:show":this._onBeforeShowCalled,show:this._onShowCalled,"before:attach":this._onBeforeAttachCalled,attach:this._onAttachCalled}),this.initRenderBuffer()},initRenderBuffer:function(){this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){var t,e=this._isShown&&o.isNodeAttached(this.el);this.isBuffering=!1,this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"before:show"),e&&this._triggerBeforeAttach&&(t=this._getNestedViews(),this._triggerMethodMany(t,this,"before:attach")),this.attachBuffer(this,this._createBuffer()),e&&this._triggerAttach&&(t=this._getNestedViews(),this._triggerMethodMany(t,this,"attach")),this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"show"),this.initRenderBuffer()},_triggerMethodMany:function(t,e,r){var i=n.drop(arguments,3);n.each(t,(function(t){o.triggerMethodOn.apply(t,[t,r,t,e].concat(i))}))},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(t,e,r){var i=void 0!==r.at&&(r.index||e.indexOf(t));if((this.getOption("filter")||!1===i)&&(i=n.indexOf(this._filteredSortedModels(i),t)),this._shouldAddChild(t,i)){this.destroyEmptyView();var o=this.getChildView(t);this.addChild(t,o,i)}},_onCollectionRemove:function(t){var e=this.children.findByModel(t);this.removeChildView(e),this.checkEmpty()},_onBeforeShowCalled:function(){this._triggerBeforeAttach=this._triggerAttach=!1,this.children.each((function(t){o.triggerMethodOn(t,"before:show",t)}))},_onShowCalled:function(){this.children.each((function(t){o.triggerMethodOn(t,"show",t)}))},_onBeforeAttachCalled:function(){this._triggerBeforeAttach=!0},_onAttachCalled:function(){this._triggerAttach=!0},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.isRendered=!0,this.triggerMethod("render",this),this},reorder:function(){var t=this.children,e=this._filteredSortedModels();if(!e.length&&this._showingEmptyView)return this;if(n.some(e,(function(e){return!t.findByModel(e)})))this.render();else{var r=n.map(e,(function(e,n){var r=t.findByModel(e);return r._index=n,r.el})),i=t.filter((function(t){return!n.contains(r,t.el)}));this.triggerMethod("before:reorder"),this._appendReorderedChildren(r),n.each(i,this.removeChildView,this),this.checkEmpty(),this.triggerMethod("reorder")}},resortView:function(){o.getOption(this,"reorderOnSort")?this.reorder():this.render()},_sortViews:function(){var t=this._filteredSortedModels();n.find(t,(function(t,e){var n=this.children.findByModel(t);return!n||n._index!==e}),this)&&this.resortView()},_emptyViewIndex:-1,_appendReorderedChildren:function(t){this.$el.append(t)},_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren({checkEmpty:!1}),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this),this.children.isEmpty()&&this.getOption("filter")&&this.showEmptyView())},showCollection:function(){var t,e=this._filteredSortedModels();n.each(e,(function(e,n){t=this.getChildView(e),this.addChild(e,t,n)}),this)},_filteredSortedModels:function(t){var e,r=this.getViewComparator(),i=this.collection.models;return t=Math.min(Math.max(t,0),i.length-1),r&&(t&&(e=i[t],i=i.slice(0,t).concat(i.slice(t+1))),i=this._sortModelsBy(i,r),e&&i.splice(t,0,e)),this.getOption("filter")&&(i=n.filter(i,(function(t,e){return this._shouldAddChild(t,e)}),this)),i},_sortModelsBy:function(t,e){return"string"==typeof e?n.sortBy(t,(function(t){return t.get(e)}),this):1===e.length?n.sortBy(t,e,this):t.sort(n.bind(e,this))},showEmptyView:function(){var t=this.getEmptyView();if(t&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=!0;var n=new e.Model;this.addEmptyView(n,t),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty"),this.destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty"))},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(t,e){var r,i=this._isShown&&!this.isBuffering&&o.isNodeAttached(this.el),a=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");n.isFunction(a)&&(a=a.call(this,t,this._emptyViewIndex));var s=this.buildChildView(t,e,a);s._parent=this,this.proxyChildEvents(s),s.once("render",(function(){this._isShown&&o.triggerMethodOn(s,"before:show",s),i&&this._triggerBeforeAttach&&(r=this._getViewAndNested(s),this._triggerMethodMany(r,this,"before:attach"))}),this),this.children.add(s),this.renderChildView(s,this._emptyViewIndex),i&&this._triggerAttach&&(r=this._getViewAndNested(s),this._triggerMethodMany(r,this,"attach")),this._isShown&&o.triggerMethodOn(s,"show",s)},getChildView:function(t){var e=this.getOption("childView");if(!e)throw new o.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return e},addChild:function(t,e,n){var r=this.getOption("childViewOptions");r=o._getValue(r,this,[t,n]);var i=this.buildChildView(t,e,r);return this._updateIndices(i,!0,n),this.triggerMethod("before:add:child",i),this._addChildView(i,n),this.triggerMethod("add:child",i),i._parent=this,i},_updateIndices:function(t,e,n){this.getOption("sort")&&(e&&(t._index=n),this.children.each((function(n){n._index>=t._index&&(n._index+=e?1:-1)})))},_addChildView:function(t,e){var n,r=this._isShown&&!this.isBuffering&&o.isNodeAttached(this.el);this.proxyChildEvents(t),t.once("render",(function(){this._isShown&&!this.isBuffering&&o.triggerMethodOn(t,"before:show",t),r&&this._triggerBeforeAttach&&(n=this._getViewAndNested(t),this._triggerMethodMany(n,this,"before:attach"))}),this),this.children.add(t),this.renderChildView(t,e),r&&this._triggerAttach&&(n=this._getViewAndNested(t),this._triggerMethodMany(n,this,"attach")),this._isShown&&!this.isBuffering&&o.triggerMethodOn(t,"show",t)},renderChildView:function(t,e){return t.supportsRenderLifecycle||o.triggerMethodOn(t,"before:render",t),t.render(),t.supportsRenderLifecycle||o.triggerMethodOn(t,"render",t),this.attachHtml(this,t,e),t},buildChildView:function(t,e,r){var i=new e(n.extend({model:t},r));return o.MonitorDOMRefresh(i),i},removeChildView:function(t){return t?(this.triggerMethod("before:remove:child",t),t.supportsDestroyLifecycle||o.triggerMethodOn(t,"before:destroy",t),t.destroy?t.destroy():t.remove(),t.supportsDestroyLifecycle||o.triggerMethodOn(t,"destroy",t),delete t._parent,this.stopListening(t),this.children.remove(t),this.triggerMethod("remove:child",t),this._updateIndices(t,!1),t):t},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(t,e){t.$el.append(e)},_createBuffer:function(){var t=document.createDocumentFragment();return n.each(this._bufferedChildren,(function(e){t.appendChild(e.el)})),t},attachHtml:function(t,e,n){t.isBuffering?t._bufferedChildren.splice(n,0,e):t._insertBefore(e,n)||t._insertAfter(e)},_insertBefore:function(t,e){var n;return this.getOption("sort")&&e<this.children.length-1&&(n=this.children.find((function(t){return t._index===e+1}))),!!n&&(n.$el.before(t.el),!0)},_insertAfter:function(t){this.$el.append(t.el)},_initChildViewStorage:function(){this.children=new e.ChildViewContainer},destroy:function(){return this.isDestroyed?this:(this.triggerMethod("before:destroy:collection"),this.destroyChildren({checkEmpty:!1}),this.triggerMethod("destroy:collection"),o.View.prototype.destroy.apply(this,arguments))},destroyChildren:function(t){var e=t||{},r=!0,i=this.children.map(n.identity);return n.isUndefined(e.checkEmpty)||(r=e.checkEmpty),this.children.each(this.removeChildView,this),r&&this.checkEmpty(),i},_shouldAddChild:function(t,e){var r=this.getOption("filter");return!n.isFunction(r)||r.call(this,t,e,this.collection)},proxyChildEvents:function(t){var e=this.getOption("childViewEventPrefix");this.listenTo(t,"all",(function(){var r=n.toArray(arguments),i=r[0],o=this.normalizeMethods(n.result(this,"childEvents"));r[0]=e+":"+i,r.splice(1,0,t),void 0!==o&&n.isFunction(o[i])&&o[i].apply(this,r.slice(1)),this.triggerMethod.apply(this,r)}))},_getImmediateChildren:function(){return n.values(this.children._views)},_getViewAndNested:function(t){return[t].concat(n.result(t,"_getNestedViews")||[])},getViewComparator:function(){return this.getOption("viewComparator")}}),o.CompositeView=o.CollectionView.extend({constructor:function(){o.CollectionView.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},getChildView:function(t){return this.getOption("childView")||this.constructor},serializeData:function(){var t={};return this.model&&(t=n.partial(this.serializeModel,this.model).apply(this,arguments)),t},render:function(){return this._ensureViewIsIntact(),this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this._renderChildren(),this._isRendering=!1,this.isRendered=!0,this.triggerMethod("render",this),this},_renderChildren:function(){(this.isRendered||this._isRendering)&&o.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var t={};t=this.serializeData(),t=this.mixinTemplateHelpers(t),this.triggerMethod("before:render:template");var e=this.getTemplate(),n=o.Renderer.render(e,t,this);this.attachElContent(n),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(t){return this.$el.html(t),this},attachBuffer:function(t,e){this.getChildViewContainer(t).append(e)},_insertAfter:function(t){this.getChildViewContainer(this,t).append(t.el)},_appendReorderedChildren:function(t){this.getChildViewContainer(this).append(t)},getChildViewContainer:function(t,e){if(t.$childViewContainer)return t.$childViewContainer;var n,r=o.getOption(t,"childViewContainer");if(r){var i=o._getValue(r,t);if((n="@"===i.charAt(0)&&t.ui?t.ui[i.substr(4)]:t.$(i)).length<=0)throw new o.Error({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+t.childViewContainer})}else n=t.$el;return t.$childViewContainer=n,n},resetChildViewContainer:function(){this.$childViewContainer&&(this.$childViewContainer=void 0)}}),o.LayoutView=o.ItemView.extend({regionClass:o.Region,options:{destroyImmediate:!1},childViewEventPrefix:"childview",constructor:function(t){t=t||{},this._firstRender=!0,this._initializeRegions(t),o.ItemView.call(this,t)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),o.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(!0===this.getOption("destroyImmediate")&&this.$el.remove(),this.regionManager.destroy(),o.ItemView.prototype.destroy.apply(this,arguments))},showChildView:function(t,e,r){var i=this.getRegion(t);return i.show.apply(i,n.rest(arguments))},getChildView:function(t){return this.getRegion(t).currentView},addRegion:function(t,e){var n={};return n[t]=e,this._buildRegions(n)[t]},addRegions:function(t){return this.regions=n.extend({},this.regions,t),this._buildRegions(t)},removeRegion:function(t){return delete this.regions[t],this.regionManager.removeRegion(t)},getRegion:function(t){return this.regionManager.get(t)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(t){var e={regionClass:this.getOption("regionClass"),parentEl:n.partial(n.result,this,"el")};return this.regionManager.addRegions(t,e)},_initializeRegions:function(t){var e;this._initRegionManager(),e=o._getValue(this.regions,this,[t])||{};var r=this.getOption.call(t,"regions");r=o._getValue(r,this,[t]),n.extend(e,r),e=this.normalizeUIValues(e,["selector","el"]),this.addRegions(e)},_reInitializeRegions:function(){this.regionManager.invoke("reset")},getRegionManager:function(){return new o.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.regionManager._parent=this,this.listenTo(this.regionManager,"before:add:region",(function(t){this.triggerMethod("before:add:region",t)})),this.listenTo(this.regionManager,"add:region",(function(t,e){this[t]=e,this.triggerMethod("add:region",t,e)})),this.listenTo(this.regionManager,"before:remove:region",(function(t){this.triggerMethod("before:remove:region",t)})),this.listenTo(this.regionManager,"remove:region",(function(t,e){delete this[t],this.triggerMethod("remove:region",t,e)}))},_getImmediateChildren:function(){return n.chain(this.regionManager.getRegions()).pluck("currentView").compact().value()}}),o.Behavior=o.Object.extend({constructor:function(t,e){this.view=e,this.defaults=n.result(this,"defaults")||{},this.options=n.extend({},this.defaults,t),this.ui=n.extend({},n.result(e,"ui"),n.result(this,"ui")),o.Object.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this},proxyViewProperties:function(t){this.$el=t.$el,this.el=t.el}}),o.Behaviors=function(t,e){var n=/^(\S+)\s*(.*)$/;function r(t,n){return e.isObject(t.behaviors)?(n=r.parseBehaviors(t,n||e.result(t,"behaviors")),r.wrap(t,n,e.keys(i)),n):{}}var i={behaviorTriggers:function(t,e){return new o(this,e).buildBehaviorTriggers()},behaviorEvents:function(r,i){var o={};return e.each(i,(function(r,i){var s={},c=e.clone(e.result(r,"events"))||{};c=t.normalizeUIKeys(c,a(r));var l=0;e.each(c,(function(t,o){var a=o.match(n),c=a[1]+"."+[this.cid,i,l++," "].join("")+a[2],u=e.isFunction(t)?t:r[t];u&&(s[c]=e.bind(u,r))}),this),o=e.extend(o,s)}),this),o}};function o(t,e){this._view=t,this._behaviors=e,this._triggers={}}function a(t){return t._uiBindings||t.ui}return e.extend(r,{behaviorsLookup:function(){throw new t.Error({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.html#behaviorslookup"})},getBehaviorClass:function(e,n){return e.behaviorClass?e.behaviorClass:t._getValue(r.behaviorsLookup,this,[e,n])[n]},parseBehaviors:function(t,n){return e.chain(n).map((function(n,i){var o=new(r.getBehaviorClass(n,i))(n,t),a=r.parseBehaviors(t,e.result(o,"behaviors"));return[o].concat(a)})).flatten().value()},wrap:function(t,n,r){e.each(r,(function(r){t[r]=e.partial(i[r],t[r],n)}))}}),e.extend(o.prototype,{buildBehaviorTriggers:function(){return e.each(this._behaviors,this._buildTriggerHandlersForBehavior,this),this._triggers},_buildTriggerHandlersForBehavior:function(n,r){var i=e.clone(e.result(n,"triggers"))||{};i=t.normalizeUIKeys(i,a(n)),e.each(i,e.bind(this._setHandlerForBehavior,this,n,r))},_setHandlerForBehavior:function(t,e,n,r){var i=r.replace(/^\S+/,(function(t){return t+".behaviortriggers"+e}));this._triggers[i]=this._view._buildViewTrigger(n)}}),r}(o,n),o.AppRouter=e.Router.extend({constructor:function(t){this.options=t||{},e.Router.apply(this,arguments);var n=this.getOption("appRoutes"),r=this._getController();this.processAppRoutes(r,n),this.on("route",this._processOnRoute,this)},appRoute:function(t,e){var n=this._getController();this._addAppRoute(n,t,e)},_processOnRoute:function(t,e){if(n.isFunction(this.onRoute)){var r=n.invert(this.getOption("appRoutes"))[t];this.onRoute(t,r,e)}},processAppRoutes:function(t,e){if(e){var r=n.keys(e).reverse();n.each(r,(function(n){this._addAppRoute(t,n,e[n])}),this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(t,e,r){var i=t[r];if(!i)throw new o.Error('Method "'+r+'" was not found on the controller');this.route(e,r,n.bind(i,t))},mergeOptions:o.mergeOptions,getOption:o.proxyGetOption,triggerMethod:o.triggerMethod,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),o.Application=o.Object.extend({constructor:function(t){this._initializeRegions(t),this._initCallbacks=new o.Callbacks,this.submodules={},n.extend(this,t),this._initChannel(),o.Object.apply(this,arguments)},execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(t){this._initCallbacks.add(t)},start:function(t){this.triggerMethod("before:start",t),this._initCallbacks.run(t,this),this.triggerMethod("start",t)},addRegions:function(t){return this._regionManager.addRegions(t)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(t){return this._regionManager.removeRegion(t)},getRegion:function(t){return this._regionManager.get(t)},getRegions:function(){return this._regionManager.getRegions()},module:function(t,e){var r=o.Module.getClass(e),i=n.toArray(arguments);return i.unshift(this),r.create.apply(r,i)},getRegionManager:function(){return new o.RegionManager},_initializeRegions:function(t){var e=n.isFunction(this.regions)?this.regions(t):this.regions||{};this._initRegionManager();var r=o.getOption(t,"regions");return n.isFunction(r)&&(r=r.call(this,t)),n.extend(e,r),this.addRegions(e),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this._regionManager._parent=this,this.listenTo(this._regionManager,"before:add:region",(function(){o._triggerMethod(this,"before:add:region",arguments)})),this.listenTo(this._regionManager,"add:region",(function(t,e){this[t]=e,o._triggerMethod(this,"add:region",arguments)})),this.listenTo(this._regionManager,"before:remove:region",(function(){o._triggerMethod(this,"before:remove:region",arguments)})),this.listenTo(this._regionManager,"remove:region",(function(t){delete this[t],o._triggerMethod(this,"remove:region",arguments)}))},_initChannel:function(){this.channelName=n.result(this,"channelName")||"global",this.channel=n.result(this,"channel")||e.Wreqr.radio.channel(this.channelName),this.vent=n.result(this,"vent")||this.channel.vent,this.commands=n.result(this,"commands")||this.channel.commands,this.reqres=n.result(this,"reqres")||this.channel.reqres}}),o.Module=function(t,e,r){this.moduleName=t,this.options=n.extend({},this.options,r),this.initialize=r.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=e,n.isFunction(this.initialize)&&this.initialize(t,e,this.options)},o.Module.extend=o.extend,n.extend(o.Module.prototype,e.Events,{startWithParent:!0,initialize:function(){},addInitializer:function(t){this._initializerCallbacks.add(t)},addFinalizer:function(t){this._finalizerCallbacks.add(t)},start:function(t){this._isInitialized||(n.each(this.submodules,(function(e){e.startWithParent&&e.start(t)})),this.triggerMethod("before:start",t),this._initializerCallbacks.run(t,this),this._isInitialized=!0,this.triggerMethod("start",t))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod("before:stop"),n.invoke(this.submodules,"stop"),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(t,e){this._runModuleDefinition(t,e)},_runModuleDefinition:function(t,r){if(t){var i=n.flatten([this,this.app,e,o,e.$,n,r]);t.apply(this,i)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new o.Callbacks,this._finalizerCallbacks=new o.Callbacks},triggerMethod:o.triggerMethod}),n.extend(o.Module,{create:function(t,e,r){var i=t,o=n.drop(arguments,3),a=(e=e.split(".")).length,s=[];return s[a-1]=r,n.each(e,(function(e,n){var a=i;i=this._getModule(a,e,t,r),this._addModuleDefinition(a,i,s[n],o)}),this),i},_getModule:function(t,e,r,i,o){var a=n.extend({},i),s=this.getClass(i),c=t[e];return c||(c=new s(e,r,a),t[e]=c,t.submodules[e]=c),c},getClass:function(t){var e=o.Module;return t?t.prototype instanceof e?t:t.moduleClass||e:e},_addModuleDefinition:function(t,e,n,r){var i=this._getDefine(n),o=this._getStartWithParent(n,e);i&&e.addDefinition(i,r),this._addStartWithParent(t,e,o)},_getStartWithParent:function(t,e){var r;return n.isFunction(t)&&t.prototype instanceof o.Module?(r=e.constructor.prototype.startWithParent,!!n.isUndefined(r)||r):!n.isObject(t)||(r=t.startWithParent,!!n.isUndefined(r)||r)},_getDefine:function(t){return!n.isFunction(t)||t.prototype instanceof o.Module?n.isObject(t)?t.define:null:t},_addStartWithParent:function(t,e,n){e.startWithParent=e.startWithParent&&n,e.startWithParent&&!e.startWithParentIsConfigured&&(e.startWithParentIsConfigured=!0,t.addInitializer((function(t){e.startWithParent&&e.start(t)})))}}),o}(o,t,e)}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i,o;
/*!
 * Autolinker.js
 * 1.8.3
 *
 * Copyright(c) 2018 Gregory Jacobs <greg@greg-jacobs.com>
 * MIT License
 *
 * https://github.com/gregjacobs/Autolinker.js
 */i=[],void 0===(o="function"==typeof(r=function(){var t,e,n,r,i,o,a,s,c,l,u,p=function(t){t=t||{},this.version=p.version,this.urls=this.normalizeUrlsCfg(t.urls),this.email="boolean"!=typeof t.email||t.email,this.phone="boolean"!=typeof t.phone||t.phone,this.hashtag=t.hashtag||!1,this.mention=t.mention||!1,this.newWindow="boolean"!=typeof t.newWindow||t.newWindow,this.stripPrefix=this.normalizeStripPrefixCfg(t.stripPrefix),this.stripTrailingSlash="boolean"!=typeof t.stripTrailingSlash||t.stripTrailingSlash,this.decodePercentEncoding="boolean"!=typeof t.decodePercentEncoding||t.decodePercentEncoding;var e=this.mention;if(!1!==e&&"twitter"!==e&&"instagram"!==e&&"soundcloud"!==e)throw new Error("invalid `mention` cfg - see docs");var n=this.hashtag;if(!1!==n&&"twitter"!==n&&"facebook"!==n&&"instagram"!==n)throw new Error("invalid `hashtag` cfg - see docs");this.truncate=this.normalizeTruncateCfg(t.truncate),this.className=t.className||"",this.replaceFn=t.replaceFn||null,this.context=t.context||this,this.htmlParser=null,this.matchers=null,this.tagBuilder=null};return p.link=function(t,e){return new p(e).link(t)},p.parse=function(t,e){return new p(e).parse(t)},p.version="1.8.3",p.prototype={constructor:p,normalizeUrlsCfg:function(t){return null==t&&(t=!0),"boolean"==typeof t?{schemeMatches:t,wwwMatches:t,tldMatches:t}:{schemeMatches:"boolean"!=typeof t.schemeMatches||t.schemeMatches,wwwMatches:"boolean"!=typeof t.wwwMatches||t.wwwMatches,tldMatches:"boolean"!=typeof t.tldMatches||t.tldMatches}},normalizeStripPrefixCfg:function(t){return null==t&&(t=!0),"boolean"==typeof t?{scheme:t,www:t}:{scheme:"boolean"!=typeof t.scheme||t.scheme,www:"boolean"!=typeof t.www||t.www}},normalizeTruncateCfg:function(t){return"number"==typeof t?{length:t,location:"end"}:p.Util.defaults(t||{},{length:Number.POSITIVE_INFINITY,location:"end"})},parse:function(t){for(var e=this.getHtmlParser().parse(t),n=0,r=[],i=0,o=e.length;i<o;i++){var a=e[i],s=a.getType();if("element"===s&&-1!==["a","style","script"].indexOf(a.getTagName()))a.isClosing()?n=Math.max(n-1,0):n++;else if("text"===s&&0===n){var c=this.parseText(a.getText(),a.getOffset());r.push.apply(r,c)}}return r=this.compactMatches(r),r=this.removeUnwantedMatches(r)},compactMatches:function(t){t.sort((function(t,e){return t.getOffset()-e.getOffset()}));for(var e=0;e<t.length-1;e++){var n=t[e],r=n.getOffset(),i=n.getMatchedText().length,o=r+i;if(e+1<t.length){if(t[e+1].getOffset()===r){var a=t[e+1].getMatchedText().length>i?e:e+1;t.splice(a,1);continue}t[e+1].getOffset()<o&&t.splice(e+1,1)}}return t},removeUnwantedMatches:function(t){var e=p.Util.remove;return this.hashtag||e(t,(function(t){return"hashtag"===t.getType()})),this.email||e(t,(function(t){return"email"===t.getType()})),this.phone||e(t,(function(t){return"phone"===t.getType()})),this.mention||e(t,(function(t){return"mention"===t.getType()})),this.urls.schemeMatches||e(t,(function(t){return"url"===t.getType()&&"scheme"===t.getUrlMatchType()})),this.urls.wwwMatches||e(t,(function(t){return"url"===t.getType()&&"www"===t.getUrlMatchType()})),this.urls.tldMatches||e(t,(function(t){return"url"===t.getType()&&"tld"===t.getUrlMatchType()})),t},parseText:function(t,e){e=e||0;for(var n=this.getMatchers(),r=[],i=0,o=n.length;i<o;i++){for(var a=n[i].parseMatches(t),s=0,c=a.length;s<c;s++)a[s].setOffset(e+a[s].getOffset());r.push.apply(r,a)}return r},link:function(t){if(!t)return"";for(var e=this.parse(t),n=[],r=0,i=0,o=e.length;i<o;i++){var a=e[i];n.push(t.substring(r,a.getOffset())),n.push(this.createMatchReturnVal(a)),r=a.getOffset()+a.getMatchedText().length}return n.push(t.substring(r)),n.join("")},createMatchReturnVal:function(t){var e;return this.replaceFn&&(e=this.replaceFn.call(this.context,t)),"string"==typeof e?e:!1===e?t.getMatchedText():e instanceof p.HtmlTag?e.toAnchorString():t.buildTag().toAnchorString()},getHtmlParser:function(){var t=this.htmlParser;return t||(t=this.htmlParser=new p.htmlParser.HtmlParser),t},getMatchers:function(){if(this.matchers)return this.matchers;var t=p.matcher,e=this.getTagBuilder(),n=[new t.Hashtag({tagBuilder:e,serviceName:this.hashtag}),new t.Email({tagBuilder:e}),new t.Phone({tagBuilder:e}),new t.Mention({tagBuilder:e,serviceName:this.mention}),new t.Url({tagBuilder:e,stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding})];return this.matchers=n},getTagBuilder:function(){var t=this.tagBuilder;return t||(t=this.tagBuilder=new p.AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),t}},p.match={},p.matcher={},p.htmlParser={},p.truncate={},p.Util={abstractMethod:function(){throw"abstract"},trimRegex:/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,assign:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},defaults:function(t,e){for(var n in e)e.hasOwnProperty(n)&&void 0===t[n]&&(t[n]=e[n]);return t},extend:function(t,e){var n,r=t.prototype,i=function(){};i.prototype=r;var o=(n=e.hasOwnProperty("constructor")?e.constructor:function(){r.constructor.apply(this,arguments)}).prototype=new i;return o.constructor=n,o.superclass=r,delete e.constructor,p.Util.assign(o,e),n},ellipsis:function(t,e,n){var r;return t.length>e&&(null==n?(n="&hellip;",r=3):r=n.length,t=t.substring(0,e-r)+n),t},indexOf:function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},remove:function(t,e){for(var n=t.length-1;n>=0;n--)!0===e(t[n])&&t.splice(n,1)},splitAndCapture:function(t,e){if(!e.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var n,r=[],i=0;n=e.exec(t);)r.push(t.substring(i,n.index)),r.push(n[0]),i=n.index+n[0].length;return r.push(t.substring(i)),r},trim:function(t){return t.replace(this.trimRegex,"")}},p.HtmlTag=p.Util.extend(Object,{whitespaceRegex:/\s+/,constructor:function(t){p.Util.assign(this,t),this.innerHtml=this.innerHtml||this.innerHTML},setTagName:function(t){return this.tagName=t,this},getTagName:function(){return this.tagName||""},setAttr:function(t,e){return this.getAttrs()[t]=e,this},getAttr:function(t){return this.getAttrs()[t]},setAttrs:function(t){var e=this.getAttrs();return p.Util.assign(e,t),this},getAttrs:function(){return this.attrs||(this.attrs={})},setClass:function(t){return this.setAttr("class",t)},addClass:function(t){for(var e,n=this.getClass(),r=this.whitespaceRegex,i=p.Util.indexOf,o=n?n.split(r):[],a=t.split(r);e=a.shift();)-1===i(o,e)&&o.push(e);return this.getAttrs().class=o.join(" "),this},removeClass:function(t){for(var e,n=this.getClass(),r=this.whitespaceRegex,i=p.Util.indexOf,o=n?n.split(r):[],a=t.split(r);o.length&&(e=a.shift());){var s=i(o,e);-1!==s&&o.splice(s,1)}return this.getAttrs().class=o.join(" "),this},getClass:function(){return this.getAttrs().class||""},hasClass:function(t){return-1!==(" "+this.getClass()+" ").indexOf(" "+t+" ")},setInnerHtml:function(t){return this.innerHtml=t,this},getInnerHtml:function(){return this.innerHtml||""},toAnchorString:function(){var t=this.getTagName(),e=this.buildAttrsStr();return["<",t,e=e?" "+e:"",">",this.getInnerHtml(),"</",t,">"].join("")},buildAttrsStr:function(){if(!this.attrs)return"";var t=this.getAttrs(),e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n+'="'+t[n]+'"');return e.join(" ")}}),p.RegexLib=(u=function(t){return"(?=([A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９](?:[A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９\\-]{0,61}[A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９])?))\\"+t},{alphaNumericCharsStr:(l="A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ")+"0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",alphaCharsStr:l,getDomainNameStr:function(t){return"(?:"+u(t)+"(?:\\."+u(t+1)+"){0,126}|(?:[0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９]{1,3}\\.){3}[0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９]{1,3})"}}),p.AnchorTagBuilder=p.Util.extend(Object,{constructor:function(t){t=t||{},this.newWindow=t.newWindow,this.truncate=t.truncate,this.className=t.className},build:function(t){return new p.HtmlTag({tagName:"a",attrs:this.createAttrs(t),innerHtml:this.processAnchorText(t.getAnchorText())})},createAttrs:function(t){var e={href:t.getAnchorHref()},n=this.createCssClass(t);return n&&(e.class=n),this.newWindow&&(e.target="_blank",e.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<t.getAnchorText().length&&(e.title=t.getAnchorHref()),e},createCssClass:function(t){var e=this.className;if(e){for(var n=[e],r=t.getCssClassSuffixes(),i=0,o=r.length;i<o;i++)n.push(e+"-"+r[i]);return n.join(" ")}return""},processAnchorText:function(t){return t=this.doTruncate(t)},doTruncate:function(t){var e=this.truncate;if(!e||!e.length)return t;var n=e.length,r=e.location;return"smart"===r?p.truncate.TruncateSmart(t,n):"middle"===r?p.truncate.TruncateMiddle(t,n):p.truncate.TruncateEnd(t,n)}}),p.htmlParser.HtmlParser=p.Util.extend(Object,{htmlRegex:(i=/[0-9a-zA-Z][0-9a-zA-Z:]*/,o=/[^\s"'>\/=\x00-\x1F\x7F]+/,a=/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/,s="(?:\\s*?=\\s*?"+a.source+")?",c=function(t){return"(?=("+o.source+"))\\"+t+s},new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",c(2),"|",a.source+")",")*",">",")","|","(?:","<(/)?","(?:",/!--([\s\S]+?)--/.source,"|","(?:","("+i.source+")","\\s*/?",")","|","(?:","("+i.source+")","\\s+","(?:","(?:\\s+|\\b)",c(7),")*","\\s*/?",")",")",">",")"].join(""),"gi")),htmlCharacterEntitiesRegex:/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,parse:function(t){for(var e,n,r=this.htmlRegex,i=0,o=[];null!==(e=r.exec(t));){var a=e[0],s=e[4],c=e[1]||e[5]||e[6],l=!!e[3],u=e.index,p=t.substring(i,u);p&&(n=this.parseTextAndEntityNodes(i,p),o.push.apply(o,n)),s?o.push(this.createCommentNode(u,a,s)):o.push(this.createElementNode(u,a,c,l)),i=u+a.length}if(i<t.length){var h=t.substring(i);h&&(n=this.parseTextAndEntityNodes(i,h)).forEach((function(t){o.push(t)}))}return o},parseTextAndEntityNodes:function(t,e){for(var n=[],r=p.Util.splitAndCapture(e,this.htmlCharacterEntitiesRegex),i=0,o=r.length;i<o;i+=2){var a=r[i],s=r[i+1];a&&(n.push(this.createTextNode(t,a)),t+=a.length),s&&(n.push(this.createEntityNode(t,s)),t+=s.length)}return n},createCommentNode:function(t,e,n){return new p.htmlParser.CommentNode({offset:t,text:e,comment:p.Util.trim(n)})},createElementNode:function(t,e,n,r){return new p.htmlParser.ElementNode({offset:t,text:e,tagName:n.toLowerCase(),closing:r})},createEntityNode:function(t,e){return new p.htmlParser.EntityNode({offset:t,text:e})},createTextNode:function(t,e){return new p.htmlParser.TextNode({offset:t,text:e})}}),p.htmlParser.HtmlNode=p.Util.extend(Object,{offset:void 0,text:void 0,constructor:function(t){if(p.Util.assign(this,t),null==this.offset)throw new Error("`offset` cfg required");if(null==this.text)throw new Error("`text` cfg required")},getType:p.Util.abstractMethod,getOffset:function(){return this.offset},getText:function(){return this.text}}),p.htmlParser.CommentNode=p.Util.extend(p.htmlParser.HtmlNode,{comment:"",getType:function(){return"comment"},getComment:function(){return this.comment}}),p.htmlParser.ElementNode=p.Util.extend(p.htmlParser.HtmlNode,{tagName:"",closing:!1,getType:function(){return"element"},getTagName:function(){return this.tagName},isClosing:function(){return this.closing}}),p.htmlParser.EntityNode=p.Util.extend(p.htmlParser.HtmlNode,{getType:function(){return"entity"}}),p.htmlParser.TextNode=p.Util.extend(p.htmlParser.HtmlNode,{getType:function(){return"text"}}),p.match.Match=p.Util.extend(Object,{constructor:function(t){if(null==t.tagBuilder)throw new Error("`tagBuilder` cfg required");if(null==t.matchedText)throw new Error("`matchedText` cfg required");if(null==t.offset)throw new Error("`offset` cfg required");this.tagBuilder=t.tagBuilder,this.matchedText=t.matchedText,this.offset=t.offset},getType:p.Util.abstractMethod,getMatchedText:function(){return this.matchedText},setOffset:function(t){this.offset=t},getOffset:function(){return this.offset},getAnchorHref:p.Util.abstractMethod,getAnchorText:p.Util.abstractMethod,getCssClassSuffixes:function(){return[this.getType()]},buildTag:function(){return this.tagBuilder.build(this)}}),p.match.Email=p.Util.extend(p.match.Match,{constructor:function(t){if(p.match.Match.prototype.constructor.call(this,t),!t.email)throw new Error("`email` cfg required");this.email=t.email},getType:function(){return"email"},getEmail:function(){return this.email},getAnchorHref:function(){return"mailto:"+this.email},getAnchorText:function(){return this.email}}),p.match.Hashtag=p.Util.extend(p.match.Match,{constructor:function(t){if(p.match.Match.prototype.constructor.call(this,t),!t.hashtag)throw new Error("`hashtag` cfg required");this.serviceName=t.serviceName,this.hashtag=t.hashtag},getType:function(){return"hashtag"},getServiceName:function(){return this.serviceName},getHashtag:function(){return this.hashtag},getAnchorHref:function(){var t=this.serviceName,e=this.hashtag;switch(t){case"twitter":return"https://twitter.com/hashtag/"+e;case"facebook":return"https://www.facebook.com/hashtag/"+e;case"instagram":return"https://instagram.com/explore/tags/"+e;default:throw new Error("Unknown service name to point hashtag to: ",t)}},getAnchorText:function(){return"#"+this.hashtag}}),p.match.Phone=p.Util.extend(p.match.Match,{constructor:function(t){if(p.match.Match.prototype.constructor.call(this,t),!t.number)throw new Error("`number` cfg required");if(null==t.plusSign)throw new Error("`plusSign` cfg required");this.number=t.number,this.plusSign=t.plusSign},getType:function(){return"phone"},getNumber:function(){return this.number},getAnchorHref:function(){return"tel:"+(this.plusSign?"+":"")+this.number},getAnchorText:function(){return this.matchedText}}),p.match.Mention=p.Util.extend(p.match.Match,{constructor:function(t){if(p.match.Match.prototype.constructor.call(this,t),!t.serviceName)throw new Error("`serviceName` cfg required");if(!t.mention)throw new Error("`mention` cfg required");this.mention=t.mention,this.serviceName=t.serviceName},getType:function(){return"mention"},getMention:function(){return this.mention},getServiceName:function(){return this.serviceName},getAnchorHref:function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;default:throw new Error("Unknown service name to point mention to: ",this.serviceName)}},getAnchorText:function(){return"@"+this.mention},getCssClassSuffixes:function(){var t=p.match.Match.prototype.getCssClassSuffixes.call(this),e=this.getServiceName();return e&&t.push(e),t}}),p.match.Url=p.Util.extend(p.match.Match,{constructor:function(t){if(p.match.Match.prototype.constructor.call(this,t),"scheme"!==t.urlMatchType&&"www"!==t.urlMatchType&&"tld"!==t.urlMatchType)throw new Error('`urlMatchType` cfg must be one of: "scheme", "www", or "tld"');if(!t.url)throw new Error("`url` cfg required");if(null==t.protocolUrlMatch)throw new Error("`protocolUrlMatch` cfg required");if(null==t.protocolRelativeMatch)throw new Error("`protocolRelativeMatch` cfg required");if(null==t.stripPrefix)throw new Error("`stripPrefix` cfg required");if(null==t.stripTrailingSlash)throw new Error("`stripTrailingSlash` cfg required");if(null==t.decodePercentEncoding)throw new Error("`decodePercentEncoding` cfg required");this.urlMatchType=t.urlMatchType,this.url=t.url,this.protocolUrlMatch=t.protocolUrlMatch,this.protocolRelativeMatch=t.protocolRelativeMatch,this.stripPrefix=t.stripPrefix,this.stripTrailingSlash=t.stripTrailingSlash,this.decodePercentEncoding=t.decodePercentEncoding},schemePrefixRegex:/^(https?:\/\/)?/i,wwwPrefixRegex:/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex:/^\/\//,protocolPrepended:!1,getType:function(){return"url"},getUrlMatchType:function(){return this.urlMatchType},getUrl:function(){var t=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(t=this.url="http://"+t,this.protocolPrepended=!0),t},getAnchorHref:function(){return this.getUrl().replace(/&amp;/g,"&")},getAnchorText:function(){var t=this.getMatchedText();return this.protocolRelativeMatch&&(t=this.stripProtocolRelativePrefix(t)),this.stripPrefix.scheme&&(t=this.stripSchemePrefix(t)),this.stripPrefix.www&&(t=this.stripWwwPrefix(t)),this.stripTrailingSlash&&(t=this.removeTrailingSlash(t)),this.decodePercentEncoding&&(t=this.removePercentEncoding(t)),t},stripSchemePrefix:function(t){return t.replace(this.schemePrefixRegex,"")},stripWwwPrefix:function(t){return t.replace(this.wwwPrefixRegex,"$1")},stripProtocolRelativePrefix:function(t){return t.replace(this.protocolRelativeRegex,"")},removeTrailingSlash:function(t){return"/"===t.charAt(t.length-1)&&(t=t.slice(0,-1)),t},removePercentEncoding:function(t){try{return decodeURIComponent(t.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;"))}catch(e){return t}}}),p.tldRegex=/(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|vermögensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermögensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|international|lifeinsurance|orientexpress|spreadbetting|travelchannel|wolterskluwer|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|pamperedchef|scholarships|versicherung|xn--3e0b707e|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|rightathome|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--3bst00m|xn--3ds443g|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--pbt977c|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|சிங்கப்பூர்|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nationwide|newholland|nextdirect|onyourside|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|telefonica|university|vistaprint|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|fujixerox|furniture|goldpoint|goodhands|hisamitsu|homedepot|homegoods|homesense|honeywell|institute|insurance|kuokgroup|ladbrokes|lancaster|landrover|lifestyle|marketing|marshalls|mcdonalds|melbourne|microsoft|montblanc|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--nqv7f|xn--p1acf|xn--tckwe|xn--vhquv|yodobashi|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|chrysler|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|esurance|everbank|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|mortgage|movistar|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|symantec|telecity|training|uconnect|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|السعودية|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|cartier|channel|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|iselect|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lancome|lanxess|lasalle|latrobe|leclerc|liaison|limited|lincoln|markets|metlife|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|panerai|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|shriram|singles|spiegel|staples|starhub|statoil|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|католик|الجزائر|العليان|پاکستان|كاثوليك|موبايلي|இந்தியா|abarth|abbott|abbvie|active|africa|agency|airbus|airtel|alipay|alsace|alstom|anquan|aramco|author|bayern|beauty|berlin|bharti|blanco|bostik|boston|broker|camera|career|caseih|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|mobily|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|piaget|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|warman|webcam|xihuan|xperia|yachts|yandex|zappos|москва|онлайн|ابوظبي|ارامكو|الاردن|المغرب|امارات|فلسطين|مليسيا|இலங்கை|ファッション|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|boots|bosch|build|canon|cards|chase|cheap|chloe|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|dodge|drive|dubai|earth|edeka|email|epost|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|intel|irish|iveco|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|lupin|macys|mango|media|miami|money|mopar|movie|nadex|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vista|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|zippo|ایران|بازار|بھارت|سودان|سورية|همراه|संगठन|বাংলা|భారత్|嘉里大酒店|aarp|able|adac|aero|aigo|akdn|ally|amex|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|doha|duck|duns|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|mtpc|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sapo|sarl|save|saxo|scor|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|дети|сайт|بيتك|تونس|شبكة|عراق|عمان|موقع|भारत|ভারত|ਭਾਰਤ|ભારત|ලංකා|グーグル|クラウド|ポイント|大众汽车|组织机构|電訊盈科|香格里拉|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bnl|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceb|ceo|cfa|cfd|com|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|htc|ibm|ice|icu|ifm|ing|ink|int|ist|itv|iwc|jcb|jcp|jio|jlc|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|lol|lpl|ltd|man|mba|mcd|med|men|meo|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|srl|srt|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|бел|ком|қаз|мкд|мон|орг|рус|срб|укр|հայ|קום|قطر|كوم|مصر|कॉम|नेट|คอม|ไทย|ストア|セール|みんな|中文网|天主教|我爱你|新加坡|淡马锡|诺基亚|飞利浦|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ελ|бг|ею|рф|გე|닷넷|닷컴|삼성|한국|コム|世界|中信|中国|中國|企业|佛山|信息|健康|八卦|公司|公益|台湾|台灣|商城|商店|商标|嘉里|在线|大拿|娱乐|家電|工行|广东|微博|慈善|手机|手表|政务|政府|新闻|时尚|書籍|机构|游戏|澳門|点看|珠宝|移动|网址|网店|网站|网络|联通|谷歌|购物|通販|集团|食品|餐厅|香港)/,p.matcher.Matcher=p.Util.extend(Object,{constructor:function(t){if(!t.tagBuilder)throw new Error("`tagBuilder` cfg required");this.tagBuilder=t.tagBuilder},parseMatches:p.Util.abstractMethod}),p.matcher.Email=p.Util.extend(p.matcher.Matcher,{matcherRegex:(t=p.RegexLib.alphaNumericCharsStr+"!#$%&'*+\\-\\/=?^_`{|}~",e=new RegExp("(?:["+t+"](?:["+t+']|\\.(?!\\.|@))*|\\"['+t+'\\s"(),:;<>@\\[\\].]+\\")@'),n=p.RegexLib.getDomainNameStr,r=p.tldRegex,new RegExp([e.source,n(1),"\\.",r.source].join(""),"gi")),parseMatches:function(t){for(var e,n=this.matcherRegex,r=this.tagBuilder,i=[];null!==(e=n.exec(t));){var o=e[0];i.push(new p.match.Email({tagBuilder:r,matchedText:o,offset:e.index,email:o}))}return i}}),p.matcher.Hashtag=p.Util.extend(p.matcher.Matcher,{matcherRegex:new RegExp("#[_"+p.RegexLib.alphaNumericCharsStr+"]{1,139}","g"),nonWordCharRegex:new RegExp("[^"+p.RegexLib.alphaNumericCharsStr+"]"),constructor:function(t){p.matcher.Matcher.prototype.constructor.call(this,t),this.serviceName=t.serviceName},parseMatches:function(t){for(var e,n=this.matcherRegex,r=this.nonWordCharRegex,i=this.serviceName,o=this.tagBuilder,a=[];null!==(e=n.exec(t));){var s=e.index,c=t.charAt(s-1);if(0===s||r.test(c)){var l=e[0],u=e[0].slice(1);a.push(new p.match.Hashtag({tagBuilder:o,matchedText:l,offset:s,serviceName:i,hashtag:u}))}}return a}}),p.matcher.Phone=p.Util.extend(p.matcher.Matcher,{matcherRegex:/(?:(?:(?:(\+)?\d{1,3}[-\040.]?)?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-\040.]?(?:\d[-\040.]?){6,12}\d+))([,;]+[0-9]+#?)*/g,parseMatches:function(t){for(var e,n=this.matcherRegex,r=this.tagBuilder,i=[];null!==(e=n.exec(t));){var o=e[0],a=o.replace(/[^0-9,;#]/g,""),s=!(!e[1]&&!e[2]),c=0==e.index?"":t.substr(e.index-1,1),l=t.substr(e.index+o.length,1),u=!c.match(/\d/)&&!l.match(/\d/);this.testMatch(e[3])&&this.testMatch(o)&&u&&i.push(new p.match.Phone({tagBuilder:r,matchedText:o,offset:e.index,number:a,plusSign:s}))}return i},testMatch:function(t){return/\D/.test(t)}}),p.matcher.Mention=p.Util.extend(p.matcher.Matcher,{matcherRegexes:{twitter:new RegExp("@[_"+p.RegexLib.alphaNumericCharsStr+"]{1,20}","g"),instagram:new RegExp("@[_."+p.RegexLib.alphaNumericCharsStr+"]{1,50}","g"),soundcloud:new RegExp("@[_."+p.RegexLib.alphaNumericCharsStr+"-]{1,50}","g")},nonWordCharRegex:new RegExp("[^"+p.RegexLib.alphaNumericCharsStr+"]"),constructor:function(t){p.matcher.Matcher.prototype.constructor.call(this,t),this.serviceName=t.serviceName},parseMatches:function(t){var e,n=this.matcherRegexes[this.serviceName],r=this.nonWordCharRegex,i=this.serviceName,o=this.tagBuilder,a=[];if(!n)return a;for(;null!==(e=n.exec(t));){var s=e.index,c=t.charAt(s-1);if(0===s||r.test(c)){var l=e[0].replace(/\.+$/g,""),u=l.slice(1);a.push(new p.match.Mention({tagBuilder:o,matchedText:l,offset:s,serviceName:i,mention:u}))}}return a}}),p.matcher.Url=p.Util.extend(p.matcher.Matcher,{matcherRegex:function(){var t=p.RegexLib.getDomainNameStr,e=p.tldRegex,n=p.RegexLib.alphaNumericCharsStr,r=new RegExp("[/?#](?:["+n+"\\-+&@#/%=~_()|'$*\\[\\]?!:,.;✓]*["+n+"\\-+&@#/%=~_()|'$*\\[\\]✓])?");return new RegExp(["(?:","(",/(?:[A-Za-z][-.+A-Za-z0-9]{0,63}:(?![A-Za-z][-.+A-Za-z0-9]{0,63}:\/\/)(?!\d+\/?)(?:\/\/)?)/.source,t(2),")","|","(","(//)?",/(?:www\.)/.source,t(6),")","|","(","(//)?",t(10)+"\\.",e.source,"(?![-"+n+"])",")",")","(?::[0-9]+)?","(?:"+r.source+")?"].join(""),"gi")}(),wordCharRegExp:new RegExp("["+p.RegexLib.alphaNumericCharsStr+"]"),openParensRe:/\(/g,closeParensRe:/\)/g,constructor:function(t){if(p.matcher.Matcher.prototype.constructor.call(this,t),null==t.stripPrefix)throw new Error("`stripPrefix` cfg required");if(null==t.stripTrailingSlash)throw new Error("`stripTrailingSlash` cfg required");this.stripPrefix=t.stripPrefix,this.stripTrailingSlash=t.stripTrailingSlash,this.decodePercentEncoding=t.decodePercentEncoding},parseMatches:function(t){for(var e,n=this.matcherRegex,r=this.stripPrefix,i=this.stripTrailingSlash,o=this.decodePercentEncoding,a=this.tagBuilder,s=[];null!==(e=n.exec(t));){var c=e[0],l=e[1],u=e[4],h=e[5],d=e[9],g=e.index,m=h||d,f=t.charAt(g-1);if(p.matcher.UrlMatchValidator.isValid(c,l)&&!(g>0&&"@"===f||g>0&&m&&this.wordCharRegExp.test(f))){if(/\?$/.test(c)&&(c=c.substr(0,c.length-1)),this.matchHasUnbalancedClosingParen(c))c=c.substr(0,c.length-1);else{var y=this.matchHasInvalidCharAfterTld(c,l);y>-1&&(c=c.substr(0,y))}var b=l?"scheme":u?"www":"tld",v=!!l;s.push(new p.match.Url({tagBuilder:a,matchedText:c,offset:g,urlMatchType:b,url:c,protocolUrlMatch:v,protocolRelativeMatch:!!m,stripPrefix:r,stripTrailingSlash:i,decodePercentEncoding:o}))}}return s},matchHasUnbalancedClosingParen:function(t){if(")"===t.charAt(t.length-1)){var e=t.match(this.openParensRe),n=t.match(this.closeParensRe);if((e&&e.length||0)<(n&&n.length||0))return!0}return!1},matchHasInvalidCharAfterTld:function(t,e){if(!t)return-1;var n=0;e&&(n=t.indexOf(":"),t=t.slice(n));var r=p.RegexLib.alphaNumericCharsStr,i=new RegExp("^((.?//)?[-."+r+"]*[-"+r+"]\\.[-"+r+"]+)").exec(t);return null===i?-1:(n+=i[1].length,t=t.slice(i[1].length),/^[^-.A-Za-z0-9:\/?#]/.test(t)?n:-1)}}),p.matcher.UrlMatchValidator={hasFullProtocolRegex:/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,uriSchemeRegex:/^[A-Za-z][-.+A-Za-z0-9]*:/,hasWordCharAfterProtocolRegex:new RegExp(":[^\\s]*?["+p.RegexLib.alphaCharsStr+"]"),ipRegex:/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/,isValid:function(t,e){return!(e&&!this.isValidUriScheme(e)||this.urlMatchDoesNotHaveProtocolOrDot(t,e)||this.urlMatchDoesNotHaveAtLeastOneWordChar(t,e)&&!this.isValidIpAddress(t)||this.containsMultipleDots(t))},isValidIpAddress:function(t){var e=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source);return null!==t.match(e)},containsMultipleDots:function(t){var e=t;return this.hasFullProtocolRegex.test(t)&&(e=t.split("://")[1]),e.split("/")[0].indexOf("..")>-1},isValidUriScheme:function(t){var e=t.match(this.uriSchemeRegex)[0].toLowerCase();return"javascript:"!==e&&"vbscript:"!==e},urlMatchDoesNotHaveProtocolOrDot:function(t,e){return!(!t||e&&this.hasFullProtocolRegex.test(e)||-1!==t.indexOf("."))},urlMatchDoesNotHaveAtLeastOneWordChar:function(t,e){return!(!t||!e||this.hasWordCharAfterProtocolRegex.test(t))}},p.truncate.TruncateEnd=function(t,e,n){return p.Util.ellipsis(t,e,n)},p.truncate.TruncateMiddle=function(t,e,n){if(t.length<=e)return t;var r,i;null==n?(n="&hellip;",r=8,i=3):(r=n.length,i=n.length);var o=e-i,a="";return o>0&&(a=t.substr(-1*Math.floor(o/2))),(t.substr(0,Math.ceil(o/2))+n+a).substr(0,o+r)},p.truncate.TruncateSmart=function(t,e,n){var r,i;null==n?(n="&hellip;",i=3,r=8):(i=n.length,r=n.length);var o=function(t){var e="";return t.scheme&&t.host&&(e+=t.scheme+"://"),t.host&&(e+=t.host),t.path&&(e+="/"+t.path),t.query&&(e+="?"+t.query),t.fragment&&(e+="#"+t.fragment),e},a=function(t,e){var r=e/2,i=Math.ceil(r),o=-1*Math.floor(r),a="";return o<0&&(a=t.substr(o)),t.substr(0,i)+n+a};if(t.length<=e)return t;var s=e-i,c=function(t){var e={},n=t,r=n.match(/^([a-z]+):\/\//i);return r&&(e.scheme=r[1],n=n.substr(r[0].length)),(r=n.match(/^(.*?)(?=(\?|#|\/|$))/i))&&(e.host=r[1],n=n.substr(r[0].length)),(r=n.match(/^\/(.*?)(?=(\?|#|$))/i))&&(e.path=r[1],n=n.substr(r[0].length)),(r=n.match(/^\?(.*?)(?=(#|$))/i))&&(e.query=r[1],n=n.substr(r[0].length)),(r=n.match(/^#(.*?)$/i))&&(e.fragment=r[1]),e}(t);if(c.query){var l=c.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);l&&(c.query=c.query.substr(0,l[1].length),t=o(c))}if(t.length<=e)return t;if(c.host&&(c.host=c.host.replace(/^www\./,""),t=o(c)),t.length<=e)return t;var u="";if(c.host&&(u+=c.host),u.length>=s)return c.host.length==e?(c.host.substr(0,e-i)+n).substr(0,s+r):a(u,s).substr(0,s+r);var p="";if(c.path&&(p+="/"+c.path),c.query&&(p+="?"+c.query),p){if((u+p).length>=s)return(u+p).length==e?(u+p).substr(0,e):(u+a(p,s-u.length)).substr(0,s+r);u+=p}if(c.fragment){var h="#"+c.fragment;if((u+h).length>=s)return(u+h).length==e?(u+h).substr(0,e):(u+a(h,s-u.length)).substr(0,s+r);u+=h}if(c.scheme&&c.host){var d=c.scheme+"://";if((u+d).length<s)return(d+u).substr(0,e)}if(u.length<=e)return u;var g="";return s>0&&(g=u.substr(-1*Math.floor(s/2))),(u.substr(0,Math.ceil(s/2))+n+g).substr(0,s+r)},p})?r.apply(e,i):r)||(t.exports=o)},function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";var mobileRequest=obj.get("RequestFromMobileDevice");__p+="\r\n"+(null==(__t=obj.icons)?"":__t)+'\r\n<div class="purechat-flyout-container"></div>\r\n<div class="purechat-expanded">\r\n\t<div class="purechat-collapsed-outer">\r\n\t\t<div class="purechat-widget-inner purechat-clearfix">\r\n\t\t\t<div class="purechat-widget-content-wrapper">\r\n\t\t\t\t<div class="purechat-widget-header">\r\n\t\t\t\t\t<span class="purechat-widget-room-avatar"></span>\r\n\t\t\t\t\t<div class="purechat-menu purechat-btn-toolbar">\r\n\t\t\t\t\t\t<button data-trigger="restartChat" class="purechat-btn purechat-btn-mini purechat-btn-restart purechat-display-inline-block" title="Start a new chat">\r\n\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\r\n\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-re-queue"></use>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t',obj.get("isDirectAccess")||(__p+='\r\n\t\t\t\t\t\t<button data-trigger="collapse" class="purechat-btn purechat-btn-mini purechat-actions purechat-btn-collapse purechat-display-inline-block" title="Collapse Widget">\r\n\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\r\n\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+(null==(__t=obj.arrowClass())?"":__t)+'"></use>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t'),__p+='\r\n\t\t\t\t\t\t<button data-trigger="closeChat" class="purechat-btn purechat-btn-mini purechat-btn-close purechat-display-inline-block" title="Close chat session">\r\n\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\r\n\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-close"></use>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="purechat-widget-title">\r\n\t\t\t\t\t\t',obj.isMobile()&&(__p+='\r\n\t\t\t\t\t\t<a class="purechat-show-personal-details" href="#">\r\n\t\t\t\t\t\t\t<i class="fa fa-chevron-left"></i>\r\n\t\t\t\t\t\t</a>&nbsp;\r\n\t\t\t\t\t\t'),__p+='\r\n\t\t\t\t\t\t<span class="purechat-widget-title-link"></span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="purechat-content-wrapper purechat-clearfix">\r\n\t\t\t\t\t<div class="purechat-file-overlay purechat-display-none">\r\n\t\t\t\t\t\t<div class="purechat-file-overlay-instructions">\r\n\t\t\t\t\t\t\tDrag Here to Send\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n                    <div class="purechat-disconnect purechat-display-none">\r\n                        <svg width="216" height="216" version="1.1" viewBox="0 0 216 216" xmlns="http://www.w3.org/2000/svg">\r\n                            <g transform="matrix(1.3308 0 0 1.3305 -69.505 -69.359)">\r\n                                <path d="m88.667 213.51c-14.387-3.8039-26.457-13.714-32.364-26.574-3.0013-6.5334-3.5005-9.4663-3.5629-20.931-0.09781-17.969 2.9687-24.607 18.937-40.988 6.4117-6.5777 12.854-12.414 14.317-12.969 7.0175-2.664 14.688 5.6215 11.266 12.17-0.89697 1.7165-6.8148 8.521-13.151 15.121-15.467 16.112-18.104 24.903-11.597 38.667 3.7879 8.0125 8.7648 12.911 16.822 16.559 10.493 4.7499 20.055 3.2673 30.552-4.7375 6.7504-5.1475 12.175-5.7606 16.115-1.8213 6.1365 6.1365 1.1026 14.654-12.666 21.433-7.0115 3.4518-10.444 4.2683-19.584 4.6581-6.0954 0.25994-12.883-3e-3 -15.083-0.58495zm68.861-2.5058c-3.3014-2.7832-62.861-143.72-62.861-148.75 0-3.7136 5.465-8.9169 9.3654-8.9169 1.2865 0 3.5875 1.05 5.1133 2.3333 3.2841 2.7622 62.855 143.79 62.855 148.8 0 3.6622-5.4968 8.8656-9.3654 8.8656-1.2865 0-3.5846-1.05-5.1069-2.3333zm15.005-57.354c-2.716-1.8135-4.6877-7.0576-3.7711-10.03 0.50026-1.6223 6.4029-8.6496 13.117-15.616 15.919-16.518 18.77-25.212 12.68-38.667-3.6473-8.0575-8.5462-13.034-16.559-16.822-11.005-5.2025-20.428-3.8942-31.219 4.3343-6.7504 5.1475-12.175 5.7606-16.115 1.8213-6.2024-6.2024-1.095-14.659 13.059-21.624 8.3067-4.0872 9.7768-4.3716 22.251-4.3038 11.49 0.06244 14.418 0.56031 20.955 3.5629 9.6868 4.4499 18.974 13.733 23.444 23.433 3.0206 6.5557 3.5084 9.4271 3.5558 20.931 0.0749 18.186-2.9563 24.633-19.526 41.529-10.201 10.403-12.908 12.468-16.317 12.45-2.2482-0.0107-4.7479-0.46123-5.5548-1z" stroke-width="1.3333"/>\r\n                            </g>\r\n                        </svg>\r\n                    </div>\r\n\t\t\t\t\t<div class="purechat-content"></div>\r\n\t\t\t\t\t<div class="purechat-footer">\r\n\t\t\t\t\t\t',obj.get("RemoveBranding")?(__p+="\r\n\t\t\t\t\t\t\t",obj.showPlaySoundCheckbox()&&(__p+='\r\n\t\t\t\t\t\t\t<button class="purechat-toggle-audio-notifications">\r\n\t\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-sm">\r\n\t\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+"#"+(null==(__t=obj.playSoundOnNewMessage()?"pc-svgicon-sound":"pc-svgicon-no-sound")?"":__t)+'"></use>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t'),__p+='\r\n\t\t\t\t\t\t\t<button data-trigger="popOutChat" class="purechat-btn-pop-out purechat-display-inline-block" title="Pop out">\r\n\t\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-sm">\r\n\t\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-expand"></use>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t'):(__p+="\r\n                            ",obj.isMobile()?(__p+='\r\n                                <div class="'+(null==(__t=obj.localCssName("purechat-poweredby-container"))?"":__t)+'">\r\n                                    <div class="'+(null==(__t=obj.localCssName("purechat-poweredby"))?"":__t)+'">\r\n                                        <span class="'+(null==(__t=obj.localCssName("purechat-poweredby-text"))?"":__t)+'">'+(null==(__t=obj.getResource("poweredby"))?"":_.escape(__t))+' </span>\r\n                                        <a class="'+(null==(__t=obj.localCssName("purechat-poweredby-link"))?"":__t)+'" rel="noopener" target="_blank" href="'+(null==(__t=obj.poweredByUrl())?"":__t)+'">Pure Chat</a>\r\n                                    </div>\r\n                                </div>\r\n                                ',obj.showPlaySoundCheckbox()&&(__p+='\r\n                                <button class="purechat-toggle-audio-notifications">\r\n                                    <svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-sm">\r\n                                        <use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+"#"+(null==(__t=obj.playSoundOnNewMessage()?"pc-svgicon-sound":"pc-svgicon-no-sound")?"":__t)+'"></use>\r\n                                    </svg>\r\n                                </button>\r\n                                '),__p+="\r\n                            "):(__p+='\r\n                                <div class="'+(null==(__t=obj.localCssName("purechat-poweredby-container"))?"":__t)+'">\r\n                                    <div class="'+(null==(__t=obj.localCssName("purechat-poweredby"))?"":__t)+'">\r\n                                        <span class="'+(null==(__t=obj.localCssName("purechat-poweredby-text"))?"":__t)+'">'+(null==(__t=obj.getResource("poweredby"))?"":_.escape(__t))+' </span>\r\n                                        <a class="'+(null==(__t=obj.localCssName("purechat-poweredby-link"))?"":__t)+'" rel="noopener" target="_blank" href="'+(null==(__t=obj.poweredByUrl())?"":__t)+'">Pure Chat</a>\r\n                                    </div>\r\n                                </div>\r\n                                ',obj.showPlaySoundCheckbox()&&(__p+='\r\n                                <button class="purechat-toggle-audio-notifications">\r\n                                    <svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-sm">\r\n                                        <use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+"#"+(null==(__t=obj.playSoundOnNewMessage()?"pc-svgicon-sound":"pc-svgicon-no-sound")?"":__t)+'"></use>\r\n                                    </svg>\r\n                                </button>\r\n                                '),__p+='\r\n                                <button data-trigger="popOutChat" class="purechat-btn-pop-out purechat-display-inline-block" title="Pop out">\r\n                                    <svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-sm">\r\n                                        <use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-expand"></use>\r\n                                    </svg>\r\n                                </button>\r\n                            '),__p+="\r\n\t\t\t\t\t\t"),__p+='\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n<div class="purechat-collapsed '+(null==(__t=obj.get("CollapsedWidgetImageUrl")?"purechat-collapsed-image":"purechat-collapsed-default")?"":__t)+'">\r\n\t<div class="purechat-collapsed-image" data-trigger="expand">\r\n\t\t<span class="purechat-missed-message-count purechat-badge purechat-display-none"></span>\r\n\t</div>\r\n\t<div class="purechat-message-preview purechat-message-note purechat-animate purechat-display-none">\r\n\t\t<div class="purechat-message-preview-text"></div>\r\n\t</div>\r\n\t<div class="purechat-collapsed-outer purechat-display-none">\r\n\t\t<div class="purechat-widget-inner purechat-clearfix">\r\n\t\t\t<button data-trigger="collapse" class="purechat-btn purechat-btn-mini purechat-actions purechat-btn-collapse purechat-display-none">\r\n\t\t\t\t<span class="purechat-missed-message-count purechat-badge purechat-display-none"></span>\r\n\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\r\n\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+(null==(__t=obj.superMinimizeArrowClass())?"":__t)+'"></use>\r\n\t\t\t\t</svg>\r\n\t\t\t</button>\r\n\t\t\t<div class="purechat-widget-header">\r\n\t\t\t\t<div class="purechat-menu purechat-btn-toolbar">\r\n\t\t\t\t\t',obj.get("isDirectAccess")||(__p+='\r\n\t\t\t\t\t\t<button type="button" class="purechat-start-chat purechat-btn purechat-btn-mini purechat-display-none" title="Show Chat" data-trigger="expand">\r\n\t\t\t\t\t\t\t<span class="purechat-missed-message-count purechat-badge purechat-display-none"></span>\r\n\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon '+(null==(__t=obj.collapsedIconClass())?"":__t)+'">\r\n\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-chat"></use>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t',obj.get("ShowEmailButton")&&!obj.get("IPIsBanned")&&(__p+='\r\n\t\t\t\t\t\t<button type="button" class="purechat-btn purechat-btn-mini" title="Show Email" data-trigger="showEmail">\r\n\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon '+(null==(__t=obj.collapsedIconClass())?"":__t)+'">\r\n\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-email"></use>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t'),__p+="\r\n\t\t\t\t\t\t",obj.get("ShowPhoneButton")&&(__p+='\r\n\t\t\t\t\t\t<button type="button" class="purechat-btn purechat-btn-mini" title="Show Phone Number" data-trigger="showPhoneNumber">\r\n\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon '+(null==(__t=obj.collapsedIconClass())?"":__t)+'">\r\n\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-phone"></use>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t'),__p+="\r\n\t\t\t\t\t\t",obj.get("ShowTwitterButton")&&(__p+='\r\n\t\t\t\t\t\t<button type="button" class="purechat-btn purechat-btn-mini" title="Show Twitter Feed" data-trigger="showTwitter">\r\n\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon '+(null==(__t=obj.collapsedIconClass())?"":__t)+'">\r\n\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-twitter"></use>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t<div class="purechat-loading purechat-display-none"></div>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t'),__p+="\r\n\t\t\t\t\t\t",obj.get("ShowAddressButton")&&(__p+='\r\n\t\t\t\t\t\t<button type="button" class="purechat-btn purechat-btn-mini" title="Show Address" data-trigger="showAddress">\r\n\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon '+(null==(__t=obj.collapsedIconClass())?"":__t)+'">\r\n\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-location"></use>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t'),__p+="\r\n\t\t\t\t\t"),__p+="\r\n\t\t\t\t\t",obj.get("isDirectAccess")||!obj.get("ShowMinimizeWidgetButton")||obj.isMobile()||(__p+='\r\n\t\t\t\t\t<button type="button" data-trigger="superMinimize" class="purechat-btn purechat-btn-mini purechat-actions purechat-super-minimize-link-button">\r\n\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon '+(null==(__t=obj.collapsedIconClass())?"":__t)+'">\r\n\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+(null==(__t=obj.arrowClass())?"":__t)+'"></use>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t'),__p+='\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="purechat-widget-title">\r\n\t\t\t\t\t<span class="purechat-widget-title-link" data-trigger="collapsedClick">'+(null==(__t=obj.getResource(obj.operatorsAvailable?"title_initial":"title_unavailable_initial"))?"":_.escape(__t))+'</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n<div class="purechat-mobile-overlay purechat-display-none"></div>\r\n'}return __p}}).call(this,__webpack_require__(6))},function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+=(null==(__t=obj.icons)?"":__t)+'\r\n<div class="purechat-flyout-container"></div>\r\n<div class="purechat-expanded">\r\n\t<div class="purechat-widget-inner purechat-clearfix">\r\n\t\t<div class="purechat-widget-header">\r\n\t\t\t<span class="purechat-widget-room-avatar"></span>\r\n\t\t\t<div class="purechat-menu purechat-btn-toolbar">\r\n\t\t\t\t<button data-trigger="restartChat" class="purechat-btn purechat-btn-mini purechat-btn-restart" title="Start a new chat">\r\n\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\r\n\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-re-queue"></use>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</button>\r\n\t\t\t\t<button data-trigger="closeChat" class="purechat-btn purechat-btn-mini purechat-btn-close" title="Close chat session">\r\n\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\r\n\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-close"></use>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</button>\r\n\r\n\t\t\t</div>\r\n\t\t\t<div class="purechat-widget-title">\r\n\t\t\t\t<span class="purechat-widget-title-link"></span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="purechat-content-wrapper purechat-clearfix">\r\n\t\t\t<div class="purechat-file-overlay purechat-display-none">\r\n\t\t\t\t<div class="purechat-file-overlay-instructions">\r\n\t\t\t\t\t<img src="'+__webpack_require__(74)+'" alt="Upload File" />\r\n\t\t\t\t\tDrag Here to Send\r\n\t\t\t\t</div>\r\n            </div>\r\n            <div class="purechat-disconnect purechat-display-none">\r\n                <svg width="216" height="216" version="1.1" viewBox="0 0 216 216" xmlns="http://www.w3.org/2000/svg">\r\n                    <g transform="matrix(1.3308 0 0 1.3305 -69.505 -69.359)">\r\n                        <path d="m88.667 213.51c-14.387-3.8039-26.457-13.714-32.364-26.574-3.0013-6.5334-3.5005-9.4663-3.5629-20.931-0.09781-17.969 2.9687-24.607 18.937-40.988 6.4117-6.5777 12.854-12.414 14.317-12.969 7.0175-2.664 14.688 5.6215 11.266 12.17-0.89697 1.7165-6.8148 8.521-13.151 15.121-15.467 16.112-18.104 24.903-11.597 38.667 3.7879 8.0125 8.7648 12.911 16.822 16.559 10.493 4.7499 20.055 3.2673 30.552-4.7375 6.7504-5.1475 12.175-5.7606 16.115-1.8213 6.1365 6.1365 1.1026 14.654-12.666 21.433-7.0115 3.4518-10.444 4.2683-19.584 4.6581-6.0954 0.25994-12.883-3e-3 -15.083-0.58495zm68.861-2.5058c-3.3014-2.7832-62.861-143.72-62.861-148.75 0-3.7136 5.465-8.9169 9.3654-8.9169 1.2865 0 3.5875 1.05 5.1133 2.3333 3.2841 2.7622 62.855 143.79 62.855 148.8 0 3.6622-5.4968 8.8656-9.3654 8.8656-1.2865 0-3.5846-1.05-5.1069-2.3333zm15.005-57.354c-2.716-1.8135-4.6877-7.0576-3.7711-10.03 0.50026-1.6223 6.4029-8.6496 13.117-15.616 15.919-16.518 18.77-25.212 12.68-38.667-3.6473-8.0575-8.5462-13.034-16.559-16.822-11.005-5.2025-20.428-3.8942-31.219 4.3343-6.7504 5.1475-12.175 5.7606-16.115 1.8213-6.2024-6.2024-1.095-14.659 13.059-21.624 8.3067-4.0872 9.7768-4.3716 22.251-4.3038 11.49 0.06244 14.418 0.56031 20.955 3.5629 9.6868 4.4499 18.974 13.733 23.444 23.433 3.0206 6.5557 3.5084 9.4271 3.5558 20.931 0.0749 18.186-2.9563 24.633-19.526 41.529-10.201 10.403-12.908 12.468-16.317 12.45-2.2482-0.0107-4.7479-0.46123-5.5548-1z" stroke-width="1.3333"/>\r\n                    </g>\r\n                </svg>\r\n            </div>\r\n\t\t\t<div class="purechat-content"></div>\r\n\t\t\t<div class="purechat-footer">\r\n\t\t\t\t',obj.get("RemoveBranding")||(__p+='\r\n\t\t\t\t<div class="purechat-poweredby-container">\r\n\t\t\t\t\t<div class="purechat-poweredby">\r\n\t\t\t\t\t\t<span class="purechat-poweredby-text">'+(null==(__t=obj.getResource("poweredby"))?"":_.escape(__t))+' </span>\r\n\t\t\t\t\t\t<a class="purechat-poweredby-link" target="_blank" rel="noopener" href="'+(null==(__t=obj.poweredByUrl())?"":__t)+'">Pure Chat</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t'),__p+="\r\n\t\t\t\t",obj.showPlaySoundCheckbox()&&(__p+='\r\n\t\t\t\t<button class="purechat-toggle-audio-notifications '+(null==(__t=obj.get("RemoveBranding")?"purechat-kill-positioning":"")?"":__t)+'">\r\n\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-sm">\r\n\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+"#"+(null==(__t=obj.playSoundOnNewMessage()?"pc-svgicon-sound":"pc-svgicon-no-sound")?"":__t)+'"></use>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</button>\r\n\t\t\t\t'),__p+="\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n";return __p}}).call(this,__webpack_require__(6))},function(t,e,n){var r=n(26),i=n(23),o=n(57);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(27);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){var r=n(23);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(t,e,n){var r=n(54),i=n(40),o=n(14)("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:a?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){"use strict";var r=n(28),i=n(225),o=n(65),a=n(91),s=n(67),c=n(18),l=n(33),u=n(14),p=n(38),h=n(41),d=n(89),g=d.IteratorPrototype,m=d.BUGGY_SAFARI_ITERATORS,f=u("iterator"),y=function(){return this};t.exports=function(t,e,n,u,d,b,v){i(n,e,u);var w,_,C,I=function(t){if(t===d&&A)return A;if(!m&&t in j)return j[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},x=e+" Iterator",k=!1,j=t.prototype,S=j[f]||j["@@iterator"]||d&&j[d],A=!m&&S||I(d),T="Array"==e&&j.entries||S;if(T&&(w=o(T.call(new t)),g!==Object.prototype&&w.next&&(p||o(w)===g||(a?a(w,g):"function"!=typeof w[f]&&c(w,f,y)),s(w,x,!0,!0),p&&(h[x]=y))),"values"==d&&S&&"values"!==S.name&&(k=!0,A=function(){return S.call(this)}),p&&!v||j[f]===A||c(j,f,A),h[e]=A,d)if(_={values:I("values"),keys:b?A:I("keys"),entries:I("entries")},v)for(C in _)!m&&!k&&C in j||l(j,C,_[C]);else r({target:e,proto:!0,forced:m||k},_);return _}},function(t,e,n){var r=n(12);t.exports=r},function(t,e,n){var r=n(20),i=n(46),o=n(222).indexOf,a=n(60);t.exports=function(t,e){var n,s=i(t),c=0,l=[];for(n in s)!r(a,n)&&r(s,n)&&l.push(n);for(;e.length>c;)r(s,n=e[c++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var r=n(61),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(23),i=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==l||n!=c&&("function"==typeof e?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},function(t,e,n){"use strict";var r,i,o,a=n(65),s=n(18),c=n(20),l=n(14),u=n(38),p=l("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(r=i):h=!0),null==r&&(r={}),u||c(r,p)||s(r,p,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(t,e,n){var r=n(29);t.exports=r("document","documentElement")},function(t,e,n){var r=n(19),i=n(230);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},function(t,e,n){var r=n(12);t.exports=r.Promise},function(t,e,n){var r=n(34);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(19),i=n(34),o=n(14)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},function(t,e,n){var r,i,o,a=n(12),s=n(23),c=n(40),l=n(93),u=n(90),p=n(57),h=n(96),d=a.location,g=a.setImmediate,m=a.clearImmediate,f=a.process,y=a.MessageChannel,b=a.Dispatch,v=0,w={},_=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},C=function(t){return function(){_(t)}},I=function(t){_(t.data)},x=function(t){a.postMessage(t+"",d.protocol+"//"+d.host)};g&&m||(g=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return w[++v]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(v),v},m=function(t){delete w[t]},"process"==c(f)?r=function(t){f.nextTick(C(t))}:b&&b.now?r=function(t){b.now(C(t))}:y&&!h?(o=(i=new y).port2,i.port1.onmessage=I,r=l(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(x)?r="onreadystatechange"in p("script")?function(t){u.appendChild(p("script")).onreadystatechange=function(){u.removeChild(this),_(t)}}:function(t){setTimeout(C(t),0)}:(r=x,a.addEventListener("message",I,!1))),t.exports={set:g,clear:m}},function(t,e,n){var r=n(97);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){var r=n(29);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(19),i=n(27),o=n(42);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(28),i=n(34),o=n(42),a=n(48),s=n(47);r({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=o.f(e),r=n.resolve,c=n.reject,l=a((function(){var n=i(e.resolve),o=[],a=0,c=1;s(t,(function(t){var i=a++,s=!1;o.push(void 0),c++,n.call(e,t).then((function(t){s||(s=!0,o[i]={status:"fulfilled",value:t},--c||r(o))}),(function(t){s||(s=!0,o[i]={status:"rejected",reason:t},--c||r(o))}))})),--c||r(o)}));return l.error&&c(l.value),n.promise}})},function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,i=t.indexOf("["),o=t.indexOf("]");-1!=i&&-1!=o&&(t=t.substring(0,i)+t.substring(i,o).replace(/:/g,";")+t.substring(o,t.length));for(var a=n.exec(t||""),s={},c=14;c--;)s[r[c]]=a[c]||"";return-1!=i&&-1!=o&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(t,e,n){(function(e){t.exports=function(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}}).call(this,n(8))},function(t,e,n){var r=n(259),i=n(108),o=n(35),a=n(69),s=n(109),c=n(110),l=n(21)("socket.io-client:manager"),u=n(107),p=n(275),h=Object.prototype.hasOwnProperty;function d(t,e){if(!(this instanceof d))return new d(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=d,d.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},d.prototype.updateSocketIds=function(){for(var t in this.nsps)h.call(this.nsps,t)&&(this.nsps[t].id=this.engine.id)},o(d.prototype),d.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},d.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},d.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},d.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},d.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},d.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},d.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},d.prototype.open=d.prototype.connect=function(t,e){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=s(n,"open",(function(){i.onopen(),t&&t()})),a=s(n,"error",(function(e){if(l("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else i.maybeReconnectOnOpen()}));if(!1!==this._timeout){var c=this._timeout;l("connect attempt will timeout after %d",c);var u=setTimeout((function(){l("connect attempt timed out after %d",c),o.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",c)}),c);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(o),this.subs.push(a),this},d.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(s(t,"data",c(this,"ondata"))),this.subs.push(s(t,"ping",c(this,"onping"))),this.subs.push(s(t,"pong",c(this,"onpong"))),this.subs.push(s(t,"error",c(this,"onerror"))),this.subs.push(s(t,"close",c(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",c(this,"ondecoded")))},d.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},d.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},d.prototype.ondata=function(t){this.decoder.add(t)},d.prototype.ondecoded=function(t){this.emit("packet",t)},d.prototype.onerror=function(t){l("error",t),this.emitAll("error",t)},d.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new i(this,t,e),this.nsps[t]=n;var r=this;n.on("connecting",o),n.on("connect",(function(){n.id=r.engine.id})),this.autoConnect&&o()}function o(){~u(r.connecting,n)||r.connecting.push(n)}return n},d.prototype.destroy=function(t){var e=u(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},d.prototype.packet=function(t){l("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,(function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()})))},d.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},d.prototype.cleanup=function(){l("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},d.prototype.close=d.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},d.prototype.onclose=function(t){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},d.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();l("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout((function(){t.skipReconnect||(l("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open((function(e){e?(l("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(l("reconnect success"),t.onreconnect())})))}),e);this.subs.push({destroy:function(){clearTimeout(n)}})}},d.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,n){(function(t){var r=n(71),i=n(263),o=n(270),a=n(271);e.polling=function(e){var n=!1,a=!1,s=!1!==e.jsonp;if(t.location){var c="https:"===location.protocol,l=location.port;l||(l=c?443:80),n=e.hostname!==location.hostname||l!==e.port,a=e.secure!==c}if(e.xdomain=n,e.xscheme=a,"open"in new r(e)&&!e.forceJSONP)return new i(e);if(!s)throw new Error("JSONP disabled");return new o(e)},e.websocket=a}).call(this,n(8))},function(t,e,n){var r=n(72),i=n(73),o=n(36),a=n(49),s=n(106),c=n(21)("engine.io-client:polling");t.exports=u;var l=null!=new(n(71))({xdomain:!1}).responseType;function u(t){var e=t&&t.forceBase64;l&&!e||(this.supportsBinary=!1),r.call(this,t)}a(u,r),u.prototype.name="polling",u.prototype.doOpen=function(){this.poll()},u.prototype.pause=function(t){var e=this;function n(){c("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){c("pre-pause polling complete"),--r||n()}))),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){c("pre-pause writing complete"),--r||n()})))}else n()},u.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},u.prototype.onData=function(t){var e=this;c("polling got data %s",t);o.decodePayload(t,this.socket.binaryType,(function(t,n,r){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},u.prototype.doClose=function(){var t=this;function e(){c("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},u.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};o.encodePayload(t,this.supportsBinary,(function(t){e.doWrite(t,n)}))},u.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=s()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},function(t,e,n){(function(e){var r=n(70);t.exports=function(t){return function t(n){if(!n)return!1;if(e.Buffer&&e.Buffer.isBuffer&&e.Buffer.isBuffer(n)||e.ArrayBuffer&&n instanceof ArrayBuffer||e.Blob&&n instanceof Blob||e.File&&n instanceof File)return!0;if(r(n)){for(var i=0;i<n.length;i++)if(t(n[i]))return!0}else if(n&&"object"==typeof n)for(var o in n.toJSON&&"function"==typeof n.toJSON&&(n=n.toJSON()),n)if(Object.prototype.hasOwnProperty.call(n,o)&&t(n[o]))return!0;return!1}(t)}}).call(this,n(8))},function(t,e,n){"use strict";var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o=64,a={},s=0,c=0;function l(t){var e="";do{e=i[t%o]+e,t=Math.floor(t/o)}while(t>0);return e}function u(){var t=l(+new Date);return t!==r?(s=0,r=t):t+"."+l(s++)}for(;c<o;c++)a[i[c]]=c;u.encode=l,u.decode=function(t){var e=0;for(c=0;c<t.length;c++)e=e*o+a[t.charAt(c)];return e},t.exports=u},function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},function(t,e,n){var r=n(69),i=n(35),o=n(274),a=n(109),s=n(110),c=n(21)("socket.io-client:socket"),l=n(105);t.exports=h;var u={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=i.prototype.emit;function h(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}i(h.prototype),h.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[a(t,"open",s(this,"onopen")),a(t,"packet",s(this,"onpacket")),a(t,"close",s(this,"onclose"))]}},h.prototype.open=h.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},h.prototype.send=function(){var t=o(arguments);return t.unshift("message"),this.emit.apply(this,t),this},h.prototype.emit=function(t){if(u.hasOwnProperty(t))return p.apply(this,arguments),this;var e=o(arguments),n=r.EVENT;l(e)&&(n=r.BINARY_EVENT);var i={type:n,data:e,options:{}};return i.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),delete this.flags,this},h.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},h.prototype.onopen=function(){c("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:r.CONNECT,query:this.query}):this.packet({type:r.CONNECT}))},h.prototype.onclose=function(t){c("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},h.prototype.onpacket=function(t){if(t.nsp===this.nsp)switch(t.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(t);break;case r.ACK:case r.BINARY_ACK:this.onack(t);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",t.data)}},h.prototype.onevent=function(t){var e=t.data||[];c("emitting event %j",e),null!=t.id&&(c("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?p.apply(this,e):this.receiveBuffer.push(e)},h.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var i=o(arguments);c("sending ack %j",i);var a=l(i)?r.BINARY_ACK:r.ACK;e.packet({type:a,id:t,data:i})}}},h.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(c("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):c("bad ack %s",t.id)},h.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},h.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)p.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},h.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},h.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},h.prototype.close=h.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},h.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this}},function(t,e){t.exports=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}},function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(276),i=n(277),o=n(70);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return p(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=h(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(e,n),i=(t=s(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|d(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function p(t,e){if(u(e),t=s(t,e<0?0:0|d(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|d(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function g(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(t).length;default:if(r)return H(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,n);case"utf8":case"utf-8":return j(this,e,n);case"ascii":return A(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function f(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,i);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,i){var o,a=1,s=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,n/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var u=-1;for(o=n;o<s;o++)if(l(t,o)===l(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var p=!0,h=0;h<c;h++)if(l(t,o+h)!==l(e,h)){p=!1;break}if(p)return o}return-1}function v(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function w(t,e,n,r){return z(H(e,t.length-n),t,n,r)}function _(t,e,n,r){return z(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function C(t,e,n,r){return _(t,e,n,r)}function I(t,e,n,r){return z(V(e),t,n,r)}function x(t,e,n,r){return z(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function k(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function j(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,c,l=t[i],u=null,p=l>239?4:l>223?3:l>191?2:1;if(i+p<=n)switch(p){case 1:l<128&&(u=l);break;case 2:128==(192&(o=t[i+1]))&&(c=(31&l)<<6|63&o)>127&&(u=c);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(c=(15&l)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,p=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=p}return function(t){var e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=S));return n}(r)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return l(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,r){return u(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return p(null,t)},c.allocUnsafeSlow=function(t){return p(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)f(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)f(this,e,e+3),f(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)f(this,e,e+7),f(this,e+1,e+6),f(this,e+2,e+5),f(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?j(this,0,t):m.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),l=this.slice(r,i),u=t.slice(e,n),p=0;p<s;++p)if(l[p]!==u[p]){o=l[p],a=u[p];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return _(this,t,e,n);case"latin1":case"binary":return C(this,t,e,n);case"base64":return I(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function A(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function T(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function O(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=Z(t[o]);return i}function P(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function W(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function E(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function N(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(t,e,n,r,o){return o||N(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function U(t,e,n,r,o){return o||N(t,0,n,8),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var i=e-t;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUInt8=function(t,e){return e||R(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||R(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||R(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||R(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||R(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||R(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||R(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||R(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||R(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||M(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||M(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):W(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):W(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):E(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):E(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);M(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);M(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):W(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):W(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):E(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):E(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return D(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return D(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=c.isBuffer(t)?t:H(new c(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function Z(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(8))},function(t,e,n){var r;!function(i){var o=/^\s+/,a=/\s+$/,s=0,c=i.round,l=i.min,u=i.max,p=i.random;function h(t,e){if(e=e||{},(t=t||"")instanceof h)return t;if(!(this instanceof h))return new h(t,e);var n=function(t){var e={r:0,g:0,b:0},n=1,r=null,s=null,c=null,p=!1,h=!1;"string"==typeof t&&(t=function(t){t=t.replace(o,"").replace(a,"").toLowerCase();var e,n=!1;if(O[t])t=O[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=z.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=z.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=z.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=z.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=z.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=z.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=z.hex8.exec(t))return{r:E(e[1]),g:E(e[2]),b:E(e[3]),a:B(e[4]),format:n?"name":"hex8"};if(e=z.hex6.exec(t))return{r:E(e[1]),g:E(e[2]),b:E(e[3]),format:n?"name":"hex"};if(e=z.hex4.exec(t))return{r:E(e[1]+""+e[1]),g:E(e[2]+""+e[2]),b:E(e[3]+""+e[3]),a:B(e[4]+""+e[4]),format:n?"name":"hex8"};if(e=z.hex3.exec(t))return{r:E(e[1]+""+e[1]),g:E(e[2]+""+e[2]),b:E(e[3]+""+e[3]),format:n?"name":"hex"};return!1}(t));"object"==typeof t&&(L(t.r)&&L(t.g)&&L(t.b)?(d=t.r,g=t.g,m=t.b,e={r:255*M(d,255),g:255*M(g,255),b:255*M(m,255)},p=!0,h="%"===String(t.r).substr(-1)?"prgb":"rgb"):L(t.h)&&L(t.s)&&L(t.v)?(r=D(t.s),s=D(t.v),e=function(t,e,n){t=6*M(t,360),e=M(e,100),n=M(n,100);var r=i.floor(t),o=t-r,a=n*(1-e),s=n*(1-o*e),c=n*(1-(1-o)*e),l=r%6;return{r:255*[n,s,a,a,c,n][l],g:255*[c,n,n,s,a,a][l],b:255*[a,a,c,n,n,s][l]}}(t.h,r,s),p=!0,h="hsv"):L(t.h)&&L(t.s)&&L(t.l)&&(r=D(t.s),c=D(t.l),e=function(t,e,n){var r,i,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=M(t,360),e=M(e,100),n=M(n,100),0===e)r=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,c=2*n-s;r=a(c,s,t+1/3),i=a(c,s,t),o=a(c,s,t-1/3)}return{r:255*r,g:255*i,b:255*o}}(t.h,r,c),p=!0,h="hsl"),t.hasOwnProperty("a")&&(n=t.a));var d,g,m;return n=R(n),{ok:p,format:t.format||h,r:l(255,u(e.r,0)),g:l(255,u(e.g,0)),b:l(255,u(e.b,0)),a:n}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=c(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=c(this._r)),this._g<1&&(this._g=c(this._g)),this._b<1&&(this._b=c(this._b)),this._ok=n.ok,this._tc_id=s++}function d(t,e,n){t=M(t,255),e=M(e,255),n=M(n,255);var r,i,o=u(t,e,n),a=l(t,e,n),s=(o+a)/2;if(o==a)r=i=0;else{var c=o-a;switch(i=s>.5?c/(2-o-a):c/(o+a),o){case t:r=(e-n)/c+(e<n?6:0);break;case e:r=(n-t)/c+2;break;case n:r=(t-e)/c+4}r/=6}return{h:r,s:i,l:s}}function g(t,e,n){t=M(t,255),e=M(e,255),n=M(n,255);var r,i,o=u(t,e,n),a=l(t,e,n),s=o,c=o-a;if(i=0===o?0:c/o,o==a)r=0;else{switch(o){case t:r=(e-n)/c+(e<n?6:0);break;case e:r=(n-t)/c+2;break;case n:r=(t-e)/c+4}r/=6}return{h:r,s:i,v:s}}function m(t,e,n,r){var i=[N(c(t).toString(16)),N(c(e).toString(16)),N(c(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function f(t,e,n,r){return[N(U(r)),N(c(t).toString(16)),N(c(e).toString(16)),N(c(n).toString(16))].join("")}function y(t,e){e=0===e?0:e||10;var n=h(t).toHsl();return n.s-=e/100,n.s=W(n.s),h(n)}function b(t,e){e=0===e?0:e||10;var n=h(t).toHsl();return n.s+=e/100,n.s=W(n.s),h(n)}function v(t){return h(t).desaturate(100)}function w(t,e){e=0===e?0:e||10;var n=h(t).toHsl();return n.l+=e/100,n.l=W(n.l),h(n)}function _(t,e){e=0===e?0:e||10;var n=h(t).toRgb();return n.r=u(0,l(255,n.r-c(-e/100*255))),n.g=u(0,l(255,n.g-c(-e/100*255))),n.b=u(0,l(255,n.b-c(-e/100*255))),h(n)}function C(t,e){e=0===e?0:e||10;var n=h(t).toHsl();return n.l-=e/100,n.l=W(n.l),h(n)}function I(t,e){var n=h(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,h(n)}function x(t){var e=h(t).toHsl();return e.h=(e.h+180)%360,h(e)}function k(t){var e=h(t).toHsl(),n=e.h;return[h(t),h({h:(n+120)%360,s:e.s,l:e.l}),h({h:(n+240)%360,s:e.s,l:e.l})]}function j(t){var e=h(t).toHsl(),n=e.h;return[h(t),h({h:(n+90)%360,s:e.s,l:e.l}),h({h:(n+180)%360,s:e.s,l:e.l}),h({h:(n+270)%360,s:e.s,l:e.l})]}function S(t){var e=h(t).toHsl(),n=e.h;return[h(t),h({h:(n+72)%360,s:e.s,l:e.l}),h({h:(n+216)%360,s:e.s,l:e.l})]}function A(t,e,n){e=e||6,n=n||30;var r=h(t).toHsl(),i=360/n,o=[h(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(h(r));return o}function T(t,e){e=e||6;for(var n=h(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(h({h:r,s:i,v:o})),o=(o+s)%1;return a}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r=this.toRgb();return t=r.r/255,e=r.g/255,n=r.b/255,.2126*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=R(t),this._roundA=c(100*this._a)/100,this},toHsv:function(){var t=g(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=g(this._r,this._g,this._b),e=c(360*t.h),n=c(100*t.s),r=c(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=d(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=d(this._r,this._g,this._b),e=c(360*t.h),n=c(100*t.s),r=c(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return m(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,r,i){var o=[N(c(t).toString(16)),N(c(e).toString(16)),N(c(n).toString(16)),N(U(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:c(this._r),g:c(this._g),b:c(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+c(this._r)+", "+c(this._g)+", "+c(this._b)+")":"rgba("+c(this._r)+", "+c(this._g)+", "+c(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:c(100*M(this._r,255))+"%",g:c(100*M(this._g,255))+"%",b:c(100*M(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+c(100*M(this._r,255))+"%, "+c(100*M(this._g,255))+"%, "+c(100*M(this._b,255))+"%)":"rgba("+c(100*M(this._r,255))+"%, "+c(100*M(this._g,255))+"%, "+c(100*M(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(P[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+f(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=h(t);n="#"+f(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return h(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(w,arguments)},brighten:function(){return this._applyModification(_,arguments)},darken:function(){return this._applyModification(C,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(v,arguments)},spin:function(){return this._applyModification(I,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(A,arguments)},complement:function(){return this._applyCombination(x,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(k,arguments)},tetrad:function(){return this._applyCombination(j,arguments)}},h.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:D(t[r]));t=n}return h(t,e)},h.equals=function(t,e){return!(!t||!e)&&h(t).toRgbString()==h(e).toRgbString()},h.random=function(){return h.fromRatio({r:p(),g:p(),b:p()})},h.mix=function(t,e,n){n=0===n?0:n||50;var r=h(t).toRgb(),i=h(e).toRgb(),o=n/100;return h({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},h.readability=function(t,e){var n=h(t),r=h(e);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},h.isReadable=function(t,e,n){var r,i,o=h.readability(t,e);switch(i=!1,(r=function(t){var e,n;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==n&&"large"!==n&&(n="small");return{level:e,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},h.mostReadable=function(t,e,n){var r,i,o,a,s=null,c=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var l=0;l<e.length;l++)(r=h.readability(t,e[l]))>c&&(c=r,s=h(e[l]));return h.isReadable(t,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,h.mostReadable(t,["#fff","#000"],n))};var O=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=h.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(O);function R(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function M(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=l(e,u(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),i.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function W(t){return l(1,u(0,t))}function E(t){return parseInt(t,16)}function N(t){return 1==t.length?"0"+t:""+t}function D(t){return t<=1&&(t=100*t+"%"),t}function U(t){return i.round(255*parseFloat(t)).toString(16)}function B(t){return E(t)/255}var Z,H,V,z=(H="[\\s|\\(]+("+(Z="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Z+")[,|\\s]+("+Z+")\\s*\\)?",V="[\\s|\\(]+("+Z+")[,|\\s]+("+Z+")[,|\\s]+("+Z+")[,|\\s]+("+Z+")\\s*\\)?",{CSS_UNIT:new RegExp(Z),rgb:new RegExp("rgb"+H),rgba:new RegExp("rgba"+V),hsl:new RegExp("hsl"+H),hsla:new RegExp("hsla"+V),hsv:new RegExp("hsv"+H),hsva:new RegExp("hsva"+V),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function L(t){return!!z.CSS_UNIT.exec(t)}t.exports?t.exports=h:void 0===(r=function(){return h}.call(e,n,e,t))||(t.exports=r)}(Math)},function(t,e,n){"use strict";(function(t){var r=n(16),i=n.n(r),o=n(37),a=n(11),s=n(17),c=n(13),l=n(51),u=n.n(l),p=n(4),h=n(31);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=[].slice,v=2e3,w={message:function(t){var e=(t.userDisplayName||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n=(t.roomDisplayName||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),r=(t.message||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.trigger("message",{id:t.id,userId:t.userId,userDisplayName:e,roomId:t.roomId,roomDisplayName:n,time:t.time,message:r.length>0?r:null,isHistory:t.isHistory,timeElpased:t.timeElapsed,protocolVersion:t.protocolVersion,avatarUrl:t.avatarUrl,fromOperator:t.fromOperator,roomUtcOffset:t.roomUtcOffset,type:t.type,status:t.status,serverId:t.serverId})},joined:function(t){var e=(t.userDisplayName||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n=(t.roomDisplayName||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.trigger("joined",t.userId,e,t.roomId,n,t.time,t.isHistory)},left:function(t){var e=(t.userDisplayName||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n=(t.roomDisplayName||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.trigger("left",t.userId,e,t.roomId,n,t.time,t.isHistory)},roomdestroyed:function(t){var e=(t.roomDisplayName||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.trigger("roomdestroyed",t.roomId,e,t.time,t.reasonCode)},userDestroyed:function(t){this.trigger("userDestroyed",t.userId)},typing:function(t){var e=(t.userDisplayName||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.trigger("typing",t.userId,e,t.roomId,t.roomDisplayName,t.isTyping,t.time)},roomchanged:function(t){t&&"closedroom"===t.action&&window.PureChatEvents&&window.PureChatEvents.trigger("roomclosed",t.room.id),this.trigger("roomchanged",t)},default:function(t,e){this.trigger(t,e)}},_=function(){function e(t,n,r,i,a,s,c,l,u){var p=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,"wasForced",!1),y(this,"events",{}),y(this,"attemptingConnect",!1),y(this,"connectionTestInterval",null),this.deviceVersion=1,this.currentUserId=n,this.currentDomainId=r,this.currentAuthToken=i,this.poppedOut=l,this.emailMD5Hash=u,this.connectionAttempts=0,this.remoteParticipantKey=this.getRemoteParticipantKey(this.currentUserId);var h="".concat(t,"/chatHub"),d=o.c.Debug;this.socket=(new o.a).withUrl(h).configureLogging(d).build();var g=function(){return p.wasForced=!1,p.identify(p.currentUserId,p.currentDomainId,p.currentAuthToken,a,p.poppedOut,p.emailMD5Hash)};this.socket.start().then(g).catch((function(t){return t?console.error(t.toString()):null})),this.messageQueue=[],this.onSocketMessage=this.onSocketMessage.bind(this),this.socket.on("message",this.onSocketMessage),this.socket.on("messages",this.onSocketMessage),this.socket.onreconnecting((function(t){console.log("SIGNALR -- RECONNECTING EVENT: ".concat(t)),p.wasForced||p.trigger("connection:disconnected:socketio")})),this.socket.onreconnected((function(t){console.log("SIGNALR -- RECONNECTED EVENT: ".concat(t)),p.wasForced||p.trigger("connection:connected:socketio")})),this.socket.onclose((function(t){console.log("SIGNALR -- CLOSE EVENT: ".concat(t)),p.wasForced||p.trigger("connection:disconnected:socketio")})),this.on("connection:retry:socketio",(function(){p.socket.state===o.b.Connected?p.trigger("connection:connected:socketio"):p.socket.state===o.b.Disconnected&&p.socket.start().then(g).catch((function(t){return console.error("SIGNALR -- RETRY ERROR: ".concat(t.toString()))}))})),window.PureChatApp||(this.connectionTestInterval=window.setInterval((function(){p.attemptingConnect||p.socket&&p.socket.state!==o.b.Connected&&(p.attemptingConnect=!0,p.trigger("connection:retry:socketio"))}),v))}var n,r,l;return n=e,(r=[{key:"onSocketMessage",value:function(t){var e=this;(Array.isArray(t)?t:[t]).forEach((function(t){var n=t.messageType;"identify:success"===n?e.onIdentifySuccess(t):"message:send"===n?e.onMessageSend(t):"message:deleted"===n?e.onMessageDeleted(t):"operator:status"===n?e.onOperatorStatus(t):"room:created"===n?e.onRoomCreated(t):"room:joined"===n?e.onRoomJoined(t):"room:left"===n?e.onRoomLeft(t):"room:closed"===n?e.onRoomClosed(t):"rooms:list"===n?e.onRoomList(t):"room.attributes:changed"===n?e.onRoomAttributesChanged(t):"typing"===n?e.onTyping(t):"file"===n?e.onFile(t):"invite"===n?e.onInvite(t):"participant:roomcounts"===n?e.onParticipantRoomCounts(t):e.trigger(n,t.messageData)}))}},{key:"onIdentifySuccess",value:function(){this.roomApiUserKey="participant:room",this.onIdentifySuccessCallback.call(this,!0),this.trigger("connection:connected:socketio");var t=this.getRemoteParticipantKey(this.currentUserId);s.a.clear("legacy-identify-".concat(t))}},{key:"onMessageSend",value:function(t){var e=Object(c.b)(t.participant),n=Object(c.a)(t.room),r=t.messageData,i={userDisplayName:e.name,roomDisplayName:n.name,message:r.message,id:r.messageId,userId:e.id,roomId:n.id,time:t.timeUnix,isHistory:t.isHistory,timeElapsed:r.timeElapsed,protocolVersion:1,avatarUrl:e.avatar||u.a,fromOperator:!1,roomUtcOffset:0,type:0,status:0};s.a.clear("legacy-send-message-".concat(r.messageId)),w.message.call(this,i)}},{key:"onMessageDeleted",value:function(t){this.trigger("messageDeleted",m({},t,{roomId:parseInt(t.room.attributes.chatId,10),messageId:t.messageData.messageId}))}},{key:"onOperatorStatus",value:function(t){var e={onlineOperatorStatus:{operators:t.messageData.operators.map((function(t){return m({},t,{widgetStatus:{1:t.available}})}))}};w.default.call(this,"onlineOperatorStatus",e)}},{key:"onRoomCreated",value:function(t){var e=Object(c.a)(t.messageData);w.default.call(this,"room:created",e)}},{key:"onRoomJoined",value:function(t){var e=Object(c.a)(t.messageData.room),n=Object(c.b)(t.messageData.participant);t.isHistory||(this.trigger("roomchanged",{action:"joinedroom",room:e}),this.trigger("room:joined",e));var r=(n.name||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),i=(e.name||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.trigger("joined",n.id,r,e.id,i,t.timeUnix||e.time,t.isHistory)}},{key:"onRoomAttributesChanged",value:function(t){var e=Object(c.a)(t.messageData);this.trigger("roomdetailschanged",e)}},{key:"onRoomLeft",value:function(t){var e=Object(c.a)(t.messageData.room),n=Object(c.b)(t.messageData.participant);t.isHistory||(this.trigger("roomchanged",{action:"leftroom",room:e}),this.trigger("room:left",e));var r=(n.name||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),i=(e.name||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.trigger("left",n.id,r,e.id,i,t.timeUnix||e.time,t.isHistory)}},{key:"onRoomClosed",value:function(t){var e=Object(c.a)(t.messageData.room);w.default.call(this,"room:closed",e);var n=(e.name||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.trigger("roomdestroyed",e.id,n,t.timeUnix,e.closedReasonCode,t.isHistory)}},{key:"onRoomList",value:function(t){this.trigger("rooms",{rooms:t.messageData.map((function(t){return Object(c.a)(t)}))})}},{key:"onTyping",value:function(t){var e=Object(c.b)(t.participant),n=Object(c.a)(t.room),r=t.messageData,i=(e.name||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.trigger("typing",e.id,i,n.id,n.name,r.isTyping,t.timeUnix)}},{key:"onInvite",value:function(t){t.messageData.userId===this.currentUserId&&this.trigger("opInvite",t.messageData)}},{key:"onParticipantRoomCounts",value:function(t){var e=Object(c.b)(t.messageData),n=t.messageData.roomCounts||{},r=(n["purechat:chat"]||0)+(n["purechat:operator"]||0);this.trigger("operator:room-counts",{id:e.id,count:r})}},{key:"onFile",value:function(t){var e=Object(c.b)(t.participant),n=Object(c.a)(t.room),r=t.messageData,i={userDisplayName:e.name,roomDisplayName:n.name,message:r.message,id:r.id||r.messageId,userId:e.id,roomId:n.id,time:t.timeUnix,isHistory:t.isHistory,timeElapsed:r.timeElapsed,protocolVersion:1,avatarUrl:"",fromOperator:!1,roomUtcOffset:0,type:r.messageType,status:r.status,serverId:t.id};w.message.call(this,i)}},{key:"clearConnectTestInterval",value:function(){window.clearInterval(this.connectionTestInterval)}},{key:"getRemoteParticipantKey",value:function(t){var e=Number(t);return isNaN(e)?"participant:purechat:contactid:".concat(t):"participant:purechat:userid:".concat(t)}},{key:"getRoomApiRoomKey",value:function(t,e){var n=t==a.c.Visitor?"chatid":"operatorids";return"room:purechat:".concat(n,":").concat(e)}},{key:"getAccountRoomKey",value:function(){return"room:purechat:accountid:".concat(this.currentDomainId)}},{key:"disconnect",value:function(){this.wasForced=!0,this.socket.off("message",this.onSocketMessage),this.socket.stop(),this.roomApiUserKey=null,this.roomApiRoomKey=null}},{key:"testWebsocketStatus",value:function(){}},{key:"identify",value:function(t,e,n,r,i,o){this.currentUserId=t,this.currentDomainId=e,this.currentAuthToken=n,this.deviceType=a.b.Desktop,this.poppedOut=i,this.protocolVersion="2.0",this.emailMD5Hash=o,this.onIdentifySuccessCallback=r,this.testWebsocketStatus();var c=this.getRemoteParticipantKey(this.currentUserId);s.a.start({id:"legacy-identify-".concat(c),message:"Legacy widget identify took too long",warnThreshold:1e3,timeout:15e3}),this.invokeAction({actionName:"identify",actionMessage:{remoteKey:c,authType:0,authCredentials:this.currentAuthToken}}).catch((function(i){var o="Error identifying with chat. Data: ".concat(["userId=".concat(t),"domainId=".concat(e),"authToken=".concat(n),"exception=".concat(i)].join(", "));p.a.log(p.a.LEVELS.ERROR,o),r(!1)}))}},{key:"sendmessage",value:function(t,e,n){var r="".concat((new Date).getTime());s.a.start({id:"legacy-send-message-".concat(r),message:"Legacy widget send message took too long",warnThreshold:1e3,timeout:15e3}),this.invokeAction({actionName:"message:room",actionMessage:{remoteRoomKey:this.getRoomApiRoomKey(n,e),roomType:"purechat:chat",messageType:"message:send",messageData:{message:t,messageType:a.a.Message,messageId:r}}})}},{key:"deleteMessage",value:function(t){if(!t.message)throw new TypeError("message is required");if(!t.message.id)throw new TypeError("message id is required");if(!t.roomId)throw new TypeError("roomId is required");if(!t.roomType)throw new TypeError("roomType is required");this.invokeAction({actionName:"message:delete",actionMessage:{remoteRoomKey:this.getRoomApiRoomKey(t.roomType,t.roomId),messageId:t.message.id}})}},{key:"upload",value:function(e,n){if(!t.has(e,"roomId"))throw new TypeError("roomId is required");if(!t.has(e,"roomType"))throw new TypeError("roomType is required");if(!t.has(e,"status"))throw new TypeError("status is required");e.messageId=e.messageId||(new Date).getTime(),this.invokeAction({actionName:"message:room",actionMessage:{remoteRoomKey:this.getRoomApiRoomKey(e.roomType,e.roomId),messageType:"file",messageData:{messageId:e.messageId,fromOperator:!1,messageType:4,status:e.status,message:e.message}}}).then((function(t){switch(e.status){case a.d.Start:case a.d.Uploading:n(!0,{messageId:e.messageId},i.a.OK,null);break;case a.d.Unauthorized:n(!0,{messageId:e.messageId},i.a.UNAUTHORIZED,null);break;case a.d.Error:n(!0,{messageId:e.messageId},i.a.BAD_REQUEST,null);break;case a.d.Complete:n(!0,{messageId:e.messageId,serverId:t.messageId},i.a.OK,null)}}))}},{key:"sendtyping",value:function(t,e,n){this.invokeAction({actionName:"message:room",actionMessage:{remoteRoomKey:this.getRoomApiRoomKey(e,t),messageType:"typing",messageData:{userId:this.currentUserId,isTyping:n}}})}},{key:"join",value:function(t){this.invokeAction({actionName:"room:join",actionMessage:{remoteRoomKey:this.getRoomApiRoomKey(t.roomType,t.roomId),remoteParticipantKey:this.remoteParticipantKey,visible:!t.invisible}})}},{key:"leave",value:function(t,e){this.invokeAction({actionName:"room:leave",actionMessage:{remoteRoomKey:this.getRoomApiRoomKey(e,t),remoteParticipantKey:this.remoteParticipantKey}})}},{key:"closeroom",value:function(t,e){this.invokeAction({actionName:"room:close",actionMessage:{remoteRoomKey:this.getRoomApiRoomKey(e,t)}})}},{key:"destroyself",value:function(t,e,n){this.closeroom(t,e,n)}},{key:"createoperatorroom",value:function(t,e){e.push(this.currentUserId),e.sort();var n=e.join("_"),r=e.map((function(t){return"participant:purechat:userid:".concat(t)}));this.invokeAction({actionName:"room:create",actionMessage:{name:t,roomType:"purechat:operator",accountRoomRemoteKey:"room:purechat:accountid:".concat(this.currentDomainId),remoteRooms:[{remoteKey:"room:purechat:operatorids:".concat(n),remoteRoomName:t}],attributes:{operatorRoomId:n},participantRemoteKeys:r}})}},{key:"sendcurrentstate",value:function(){this.invokeAction({actionName:"sendRooms",actionMessage:{accountRemoteRoomKey:"room:purechat:accountid:".concat(this.currentDomainId),roomTypes:["purechat:chat","purechat:operator"]}})}},{key:"getuser",value:function(t){}},{key:"getusers",value:function(t){}},{key:"sendroomhistory",value:function(t,e){this.invokeAction({actionName:"room:history",actionMessage:{remoteRoomKey:this.getRoomApiRoomKey(e,t)}})}},{key:"forcedisconnect",value:function(t,e,n){}},{key:"startdemo",value:function(t,e){}},{key:"sendInvite",value:function(t,e,n,r,i){this.invokeAction({actionName:"message:room",actionMessage:{remoteRoomKey:this.getAccountRoomKey(),messageType:"invite",messageData:{userId:t,roomId:e,roomType:i,roomDisplayName:n,fromName:r}}})}},{key:"setVisitorDetails",value:function(t,e,n){this.invokeAction({actionName:"room:attributes",actionMessage:{remoteRoomKey:this.getRoomApiRoomKey(e,t),attributes:n}})}},{key:"on",value:function(t,e,n){return Object(h.a)(this,"on",t,[e,n])&&e?(this.events=this.events||{},(this.events[t]||(this.events[t]=[])).push({callback:e,context:n,ctx:n||this}),this):this}},{key:"once",value:function(e,n,r){var i=arguments,o=this;if(!Object(h.a)(this,"once",e,[n,r])||!n)return this;var a=t.once((function(){o.off(e,a),n.apply(o,i)}));return a._callback=n,this.on(e,a,r)}},{key:"off",value:function(e,n,r){var i,o,a;if(!this.events||!Object(h.a)(this,"off",e,[n,r]))return this;if(!e&&!n&&!r)return this.events=void 0,this;var s,c,l=e?[e]:t.keys(this.events);for(s=0,c=l.length;s<c;s++)if(e=l[s],a=this.events[e]){if(this.events[e]=i=[],n||r){var u,p=void 0;for(p=0,u=a.length;p<u;p++)o=a[p],(n&&n!==o.callback&&n!==o.callback._callback||r&&r!==o.context)&&i.push(o)}i.length||delete this.events[e]}return this}},{key:"trigger",value:function(t){if(!this.events)return this;var e=b.call(arguments,1);if(!Object(h.a)(this,"trigger",t,e))return this;var n=this.events[t],r=this.events.all;return n&&Object(h.b)(n,e),r&&Object(h.b)(r,arguments),this}},{key:"stopListening",value:function(e,n,r){var i=this._listeningTo;if(!i)return this;var o=!n&&!r;for(var a in r||"object"!==d(n)||(r=this),e&&((i={})[e._listenId]=e),i)(e=i[a]).off(n,r,this),(o||t.isEmpty(e.events))&&delete this._listeningTo[a];return this}},{key:"invokeAction",value:function(t){var e=this;return new Promise((function(n,r){return e.socket?e.socket.invoke("action",t).then(n).catch((function(e){p.a.log(p.a.LEVELS.ERROR,"Error invoking action. Data: ".concat(JSON.stringify(t)," -- Exception: ").concat(e)),r(e)})):r()}))}}])&&f(n.prototype,r),l&&f(n,l),e}();e.a=_}).call(this,n(6))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return h}));var r,i,o=n(9),a=n(15),s=n(1),c=n(2),l=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};if("undefined"==typeof XMLHttpRequest){var p=require;i=p("request")}var h=function(e){function n(t){var n=e.call(this)||this;if(void 0===i)throw new Error("The 'request' module could not be loaded.");return n.logger=t,n.cookieJar=i.jar(),n.request=i.defaults({jar:n.cookieJar}),n}return l(n,e),n.prototype.send=function(e){var n=this;return new Promise((function(r,i){var l;l=Object(c.g)(e.content)?t.from(e.content):e.content||"";var p=n.request(e.url,{body:l,encoding:"arraybuffer"===e.responseType?null:"utf8",headers:u({"X-Requested-With":"XMLHttpRequest"},e.headers),method:e.method,timeout:e.timeout},(function(t,c,l){if(e.abortSignal&&(e.abortSignal.onabort=null),t)return"ETIMEDOUT"===t.code&&(n.logger.log(s.a.Warning,"Timeout from HTTP request."),i(new o.c)),n.logger.log(s.a.Warning,"Error from HTTP request. "+t),void i(t);c.statusCode>=200&&c.statusCode<300?r(new a.b(c.statusCode,c.statusMessage||"",l)):i(new o.b(c.statusMessage||"",c.statusCode||0))}));e.abortSignal&&(e.abortSignal.onabort=function(){p.abort(),i(new o.a)})}))},n.prototype.getCookieString=function(t){return this.cookieJar.getCookieString(t)},n}(a.a)}).call(this,n(111).Buffer)},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return o}));var r=n(25),i=n(2),o=function(){function e(){}return e.prototype.writeHandshakeRequest=function(t){return r.a.write(JSON.stringify(t))},e.prototype.parseHandshakeResponse=function(e){var n,o;if(Object(i.g)(e)||void 0!==t&&e instanceof t){var a=new Uint8Array(e);if(-1===(c=a.indexOf(r.a.RecordSeparatorCode)))throw new Error("Message is incomplete.");var s=c+1;n=String.fromCharCode.apply(null,a.slice(0,s)),o=a.byteLength>s?a.slice(s).buffer:null}else{var c,l=e;if(-1===(c=l.indexOf(r.a.RecordSeparator)))throw new Error("Message is incomplete.");s=c+1;n=l.substring(0,s),o=l.length>s?l.substring(s):null}var u=r.a.parse(n),p=JSON.parse(u[0]);if(p.type)throw new Error("Expected a handshake response from the server.");return[o,p]},e}()}).call(this,n(111).Buffer)},function(module,exports,__webpack_require__){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+=(null==(__t=obj.icons)?"":__t)+'\r\n<div class="purechat-widget-inner purechat-clearfix">\r\n\t<div class="purechat-content-wrapper">\r\n\t\t<div class="purechat-content"></div>\r\n\t\t<div class="purechat-poweredby-container"></div>\r\n\t\t<div class="purechat-file-overlay purechat-display-none">\r\n\t\t\t<div class="purechat-file-overlay-instructions">\r\n\t\t\t\t<img src="'+__webpack_require__(74)+'" alt="Upload File" />\r\n\t\t\t\tDrag Here to Send\r\n\t\t\t</div>\r\n\t\t</div>\r\n        <div class="purechat-disconnect purechat-display-none">\r\n            <svg width="216" height="216" version="1.1" viewBox="0 0 216 216" xmlns="http://www.w3.org/2000/svg">\r\n                <g transform="matrix(1.3308 0 0 1.3305 -69.505 -69.359)">\r\n                    <path d="m88.667 213.51c-14.387-3.8039-26.457-13.714-32.364-26.574-3.0013-6.5334-3.5005-9.4663-3.5629-20.931-0.09781-17.969 2.9687-24.607 18.937-40.988 6.4117-6.5777 12.854-12.414 14.317-12.969 7.0175-2.664 14.688 5.6215 11.266 12.17-0.89697 1.7165-6.8148 8.521-13.151 15.121-15.467 16.112-18.104 24.903-11.597 38.667 3.7879 8.0125 8.7648 12.911 16.822 16.559 10.493 4.7499 20.055 3.2673 30.552-4.7375 6.7504-5.1475 12.175-5.7606 16.115-1.8213 6.1365 6.1365 1.1026 14.654-12.666 21.433-7.0115 3.4518-10.444 4.2683-19.584 4.6581-6.0954 0.25994-12.883-3e-3 -15.083-0.58495zm68.861-2.5058c-3.3014-2.7832-62.861-143.72-62.861-148.75 0-3.7136 5.465-8.9169 9.3654-8.9169 1.2865 0 3.5875 1.05 5.1133 2.3333 3.2841 2.7622 62.855 143.79 62.855 148.8 0 3.6622-5.4968 8.8656-9.3654 8.8656-1.2865 0-3.5846-1.05-5.1069-2.3333zm15.005-57.354c-2.716-1.8135-4.6877-7.0576-3.7711-10.03 0.50026-1.6223 6.4029-8.6496 13.117-15.616 15.919-16.518 18.77-25.212 12.68-38.667-3.6473-8.0575-8.5462-13.034-16.559-16.822-11.005-5.2025-20.428-3.8942-31.219 4.3343-6.7504 5.1475-12.175 5.7606-16.115 1.8213-6.2024-6.2024-1.095-14.659 13.059-21.624 8.3067-4.0872 9.7768-4.3716 22.251-4.3038 11.49 0.06244 14.418 0.56031 20.955 3.5629 9.6868 4.4499 18.974 13.733 23.444 23.433 3.0206 6.5557 3.5084 9.4271 3.5558 20.931 0.0749 18.186-2.9563 24.633-19.526 41.529-10.201 10.403-12.908 12.468-16.317 12.45-2.2482-0.0107-4.7479-0.46123-5.5548-1z" stroke-width="1.3333"/>\r\n                </g>\r\n            </svg>\r\n        </div>\r\n\t</div>\r\n</div>';return __p}},function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+=(null==(__t=obj.icons)?"":__t)+'\r\n<div class="purechat-flyout-container"></div>\r\n<div class="purechat-window purechat-expanded">\r\n\t<div class="purechat-widget-inner purechat-clearfix">\r\n\t\t<div class="purechat-widget-header">\r\n\t\t\t<span class="purechat-widget-room-avatar"></span>\r\n\t\t\t<div class="purechat-menu purechat-btn-toolbar">\r\n\t\t\t\t<button data-trigger="restartChat" class="purechat-btn purechat-btn-mini purechat-btn-restart" title="Start a new chat">\r\n\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\r\n\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-re-queue"></use>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</button>\r\n\t\t\t\t<button data-trigger="closeChat" class="purechat-btn purechat-btn-mini purechat-btn-close" title="Close chat session">\r\n\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\r\n\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-close"></use>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div class="purechat-widget-title">\r\n\t\t\t\t',obj.get("RequestFromMobileDevice")&&obj.get("AllowWidgetOnMobile"),__p+='\r\n\t\t\t\t<span class="purechat-widget-title-link">PureChat</span>\r\n\t\t\t\t',__p+='\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class="purechat-content-wrapper">\r\n\t\t\t<div class="purechat-file-overlay purechat-display-none">\r\n\t\t\t\t<div class="purechat-file-overlay-instructions">\r\n\t\t\t\t\t<img src="'+__webpack_require__(74)+'" alt="Upload File" />\r\n\t\t\t\t\tDrag Here to Send\r\n\t\t\t\t</div>\r\n            </div>\r\n            <div class="purechat-disconnect purechat-display-none">\r\n                <svg width="216" height="216" version="1.1" viewBox="0 0 216 216" xmlns="http://www.w3.org/2000/svg">\r\n                    <g transform="matrix(1.3308 0 0 1.3305 -69.505 -69.359)">\r\n                        <path d="m88.667 213.51c-14.387-3.8039-26.457-13.714-32.364-26.574-3.0013-6.5334-3.5005-9.4663-3.5629-20.931-0.09781-17.969 2.9687-24.607 18.937-40.988 6.4117-6.5777 12.854-12.414 14.317-12.969 7.0175-2.664 14.688 5.6215 11.266 12.17-0.89697 1.7165-6.8148 8.521-13.151 15.121-15.467 16.112-18.104 24.903-11.597 38.667 3.7879 8.0125 8.7648 12.911 16.822 16.559 10.493 4.7499 20.055 3.2673 30.552-4.7375 6.7504-5.1475 12.175-5.7606 16.115-1.8213 6.1365 6.1365 1.1026 14.654-12.666 21.433-7.0115 3.4518-10.444 4.2683-19.584 4.6581-6.0954 0.25994-12.883-3e-3 -15.083-0.58495zm68.861-2.5058c-3.3014-2.7832-62.861-143.72-62.861-148.75 0-3.7136 5.465-8.9169 9.3654-8.9169 1.2865 0 3.5875 1.05 5.1133 2.3333 3.2841 2.7622 62.855 143.79 62.855 148.8 0 3.6622-5.4968 8.8656-9.3654 8.8656-1.2865 0-3.5846-1.05-5.1069-2.3333zm15.005-57.354c-2.716-1.8135-4.6877-7.0576-3.7711-10.03 0.50026-1.6223 6.4029-8.6496 13.117-15.616 15.919-16.518 18.77-25.212 12.68-38.667-3.6473-8.0575-8.5462-13.034-16.559-16.822-11.005-5.2025-20.428-3.8942-31.219 4.3343-6.7504 5.1475-12.175 5.7606-16.115 1.8213-6.2024-6.2024-1.095-14.659 13.059-21.624 8.3067-4.0872 9.7768-4.3716 22.251-4.3038 11.49 0.06244 14.418 0.56031 20.955 3.5629 9.6868 4.4499 18.974 13.733 23.444 23.433 3.0206 6.5557 3.5084 9.4271 3.5558 20.931 0.0749 18.186-2.9563 24.633-19.526 41.529-10.201 10.403-12.908 12.468-16.317 12.45-2.2482-0.0107-4.7479-0.46123-5.5548-1z" stroke-width="1.3333"/>\r\n                    </g>\r\n                </svg>\r\n            </div>\r\n\t\t\t<div class="purechat-content"></div>\r\n\t\t\t<div class="purechat-footer">\r\n\t\t\t\t',obj.get("RemoveBranding")||(__p+='\r\n\t\t\t\t<div class="purechat-poweredby-container">\r\n\t\t\t\t\t<div class="purechat-poweredby">\r\n\t\t\t\t\t\t<span class="purechat-poweredby-text">'+(null==(__t=obj.getResource("poweredby"))?"":_.escape(__t))+' </span>\r\n\t\t\t\t\t\t<a class="purechat-poweredby-link" target="_blank" rel="noopener" href="'+(null==(__t=obj.poweredByUrl())?"":__t)+'">Pure Chat</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t'),__p+="\r\n\t\t\t\t",obj.showPlaySoundCheckbox()&&(__p+='\r\n\t\t\t\t<button class="purechat-toggle-audio-notifications">\r\n\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-sm">\r\n\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+"#"+(null==(__t=obj.playSoundOnNewMessage()?"pc-svgicon-sound":"pc-svgicon-no-sound")?"":__t)+'"></use>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</button>\r\n\t\t\t\t'),__p+='\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n<div class="purechat-widget purechat-collapsed">\r\n\t',obj.get("CollapsedWidgetImageUrl")?__p+='\r\n\t<img src="'+(null==(__t=obj.get("CollapsedWidgetImageUrl"))?"":__t)+'" data-trigger="expand"/>\r\n\t':__p+='\r\n\t<div class="purechat-widget-inner purechat-clearfix">\r\n\t\t<div class="purechat-widget-header">\r\n\t\t\t<div class="purechat-menu purechat-btn-toolbar">\r\n\t\t\t\t<button data-trigger="expand" class="purechat-btn purechat-btn-mini purechat-actions purechat-btn-expand" title="Expand Widget">\r\n\t\t\t\t\t<i class="pc-icon-plus">+</i>\r\n\t\t\t\t</button>\r\n\t\t\t\t<button data-trigger="collapse" class="purechat-btn purechat-btn-mini purechat-actions purechat-btn-collapse" title="Collapse Widget">\r\n\t\t\t\t\t<i class="pc-icon-minus">-</i>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div class="purechat-widget-title">\r\n\t\t\t\t<span class="purechat-widget-title-link">PureChat</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t',__p+="\r\n</div>\r\n";return __p}}).call(this,__webpack_require__(6))},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<svg id="pc-svgicon" style="position: absolute; height: 0; width: 0">\r\n\t<defs>\r\n\t\t<g id="pc-svgicon-download">\r\n\t\t\t<path d="M198.4,32.3h-62v14.2h56.3v112.9H23.3V46.5h61.1V32.3H17.6c-4.7,0-8.5,3.8-8.5,8.5v124.3\r\n\t\t\t\tc0,4.7,3.8,8.5,8.5,8.5h83.3v17.6H74.5c-3.9,0-7.1,3.2-7.1,7.1s3.2,7.1,7.1,7.1h67.1c3.9,0,7.1-3.2,7.1-7.1s-3.2-7.1-7.1-7.1h-26.4\r\n\t\t\t\tv-17.6h83.3c4.7,0,8.5-3.8,8.5-8.5V40.8C206.9,36.1,203.1,32.3,198.4,32.3z" />\r\n\t\t\t<path d="M141.8,59.3c-1.9,0-3.7,0.7-5.1,2.2l-20.8,21.8V17.6c0-3.9-3.2-7.1-7.1-7.1s-7.1,3.2-7.1,7.1\r\n\t\t\t\tv66.3L79.2,61.3c-1.4-1.4-3.2-2.1-5-2.1s-3.6,0.7-5,2.1c-2.8,2.8-2.8,7.3,0,10l34.7,34.7c0,0,0.1,0,0.1,0.1c0,0,0,0,0.1,0.1\r\n\t\t\t\tc0.1,0.1,0.2,0.2,0.4,0.3c0.2,0.2,0.4,0.3,0.6,0.5c0,0,0.1,0,0.1,0.1c0.2,0.1,0.4,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.6,0.3\r\n\t\t\t\tc0,0,0.1,0,0.1,0c0.2,0.1,0.4,0.1,0.6,0.2c0.2,0.1,0.4,0.1,0.6,0.2c0,0,0.1,0,0.1,0c0.2,0,0.5,0,0.7,0.1c0.2,0,0.4,0.1,0.7,0\r\n\t\t\t\tc0.2,0,0.5,0,0.7-0.1c0.2,0,0.4,0,0.6-0.1c0,0,0.1,0,0.1,0c0.2,0,0.4-0.1,0.6-0.2c0.2-0.1,0.4-0.1,0.6-0.2c0,0,0.1,0,0.1,0\r\n\t\t\t\tc0.2-0.1,0.4-0.2,0.6-0.3c0.2-0.1,0.4-0.2,0.5-0.3c0,0,0,0,0.1,0c0.2-0.1,0.3-0.2,0.4-0.4c0.2-0.2,0.4-0.3,0.6-0.5c0,0,0,0,0.1-0.1\r\n\t\t\t\tl33-34.7c2.7-2.8,2.6-7.3-0.2-10C145.4,59.9,143.6,59.3,141.8,59.3z" />\r\n\t\t</g>\r\n\t\t<g id="pc-svgicon-photo">\r\n\t\t\t<path d="M192.8,43.3v131.5H23l0.1-131.5C23.1,43.3,192.8,43.3,192.8,43.3z M16.7,30.6\r\n\t\t\t\tc-0.1,0-0.2,0-0.4,0c-0.2,0-0.4,0-0.7,0.1c-0.2,0-0.4,0.1-0.6,0.1c-0.2,0.1-0.4,0.1-0.6,0.2c-0.2,0.1-0.4,0.2-0.6,0.2\r\n\t\t\t\tc-0.2,0.1-0.4,0.2-0.5,0.3c-0.2,0.1-0.3,0.2-0.5,0.3c-0.2,0.1-0.3,0.2-0.5,0.4c-0.2,0.1-0.3,0.3-0.5,0.5c-0.1,0.1-0.2,0.2-0.3,0.3\r\n\t\t\t\tc0,0.1-0.1,0.1-0.1,0.2c-0.1,0.2-0.2,0.4-0.4,0.6c-0.1,0.2-0.2,0.3-0.3,0.5s-0.1,0.4-0.2,0.6c-0.1,0.2-0.1,0.4-0.2,0.6\r\n\t\t\t\tc0,0.2-0.1,0.4-0.1,0.6c0,0.2-0.1,0.5-0.1,0.7c0,0.1,0,0.1,0,0.2v144.1c0,3.5,2.8,6.3,6.3,6.3H199c3.5,0,6.3-2.8,6.3-6.3V37\r\n\t\t\t\tc0-3.5-2.8-6.3-6.3-6.3L16.7,30.6z" />\r\n\t\t\t<path d="M178.9,147.5l-31.8-68c-0.7-1.5-2.1-2.6-3.7-2.8c-1.6-0.3-3.3,0.3-4.4,1.5l-31.2,37.2l-7.4-6.6\r\n\t\t\t\tc2-4.2,3-8.8,3-13.5c0-17.6-14.3-32-32-32s-32,14.3-32,32c0,11.7,6.4,22.2,16.3,27.8L40.9,147c-1,1.5-1,3.5-0.1,5.1\r\n\t\t\t\ts2.6,2.6,4.4,2.6h129.3c1.7,0,3.3-0.9,4.2-2.3C179.5,150.8,179.6,149,178.9,147.5z M71.2,73.3c12.1,0,22,9.9,22,22\r\n\t\t\t\tc0,2.2-0.3,4.3-0.9,6.4l-11-9.8c-1.1-1-2.6-1.4-4.1-1.2c-1.5,0.2-2.8,1.1-3.5,2.3l-13.3,21.5c-6.8-3.8-11.2-11.1-11.2-19.1\r\n\t\t\t\tC49.2,83.1,59.1,73.3,71.2,73.3z M54,144.6L79,104l25.7,22.1c2,1.7,5,1.5,6.9-0.4l29.5-35.3l25.4,54.2H54z" />\r\n\t\t</g>\r\n\t\t<g id="pc-svgicon-chat">\r\n\t\t\t<path d="M194.2,32h-172c-4.7,0-8.2,3.6-8.2,8.2v98.3c0,4.7,3.6,8.2,8.2,8.2h81c11.3,11.3,27,27,32.5,32.5\r\n\t\t\t\tc6.6,6.6,16.1,8,16.1-3.3c0-6.1,0-19.5,0-29.1h42.3c4.7,0,8.2-3.6,8.2-8.2V40.2C202.4,35.8,198.5,32,194.2,32z"/>\r\n\t\t</g>\r\n\t\t<g id="pc-svgicon-email">\r\n\t\t\t<path d="M188.5,39.8c6.9,0,13.7,7.3,13.7,13.7v104.8c0,8.8-6,13.7-13.7,13.7H27.4c-7,0-13.7-4-13.7-13.7\r\n\t\t\t\tc0,0-0.2-99.5,0-105c0.2-5.5,7.6-13.4,13.5-13.4L188.5,39.8L188.5,39.8z M40.2,63.7c-3.8-1.8-8.2-0.5-10.2,3.1\r\n\t\t\t\tc-1.8,3.8-0.5,8.2,3.1,10.2l71.4,53.7c2.3,1.2,4.9,1.2,7,0l71.8-53.9c3.8-1.8,5-6.5,3.1-10.2c-1.8-3.8-6.5-5-10.2-3.1l-68.2,52\r\n\t\t\t\tL40.2,63.7z"/>\r\n\t\t</g>\r\n\t\t<g id="pc-svgicon-phone">\r\n\t\t\t<path d="M185.7,184.5c9.9-19.3-14.8-43.6-27.1-50.3c-3.5-1.8-7.8-3-11.5-3c-2.2,0-17.5,16.1-17.7,16.1\r\n\t\t\t\tc-3.8,0-20.4-14.9-28.8-28.7c-9.7-16.1-21.9-31.2-19.8-35.4c0.4-0.7,3-2.1,4.8-2.9c5.5-2.6,22.4-6.6,22.4-17.3\r\n\t\t\t\tc-0.1-18.1-6.3-31.5-19.5-43.9c-5-5-10.9-7.5-16.7-7.5c-2.3,0-4.8,0.4-7,1.4c-4.7,1.5-9.4,4.8-10.5,5.5\r\n\t\t\t\tC44,24.6,40.9,31.9,37.9,44.1c-2.6,11-3.7,23.1,0.6,39.7c7,26.8,20.5,56.3,38.3,78.5c19.9,25.1,43.1,32.8,61.6,38.9\r\n\t\t\t\tC155,206.5,182.7,190.4,185.7,184.5z"/>\r\n\t\t</g>\r\n\t\t<g id="pc-svgicon-twitter">\r\n\t\t\t<path d="M199.9,31.5c0,0-13,8.1-25.3,10.1c0,0-19.6-21.8-49.5-7c-8.4,4.1-25.4,20.7-18.2,43.8c0,0-43.8,1.7-82.7-41.8\r\n\t\t\t\tc0,0-18.7,29.8,12.5,53c0,0-13.6-1.3-18.2-4.6c0,0-4,26.6,30.7,39.4c0,0-10.4,2.8-16.6,0c0,0,7,26.1,36.4,28.1\r\n\t\t\t\tc0,0-20.2,21.6-58.2,17.2c0,0,70.1,44.6,134.3-9.2c0,0,43.8-34.5,40-92.4c0,0,11.7-6.6,19.9-20.4c0,0-6.6,5.9-21.8,5.7\r\n\t\t\t\tC183.3,53,196.8,44.8,199.9,31.5z"/>\r\n\t\t</g>\r\n\t\t<g id="pc-svgicon-location">\r\n\t\t\t<path d="M108,10c-40,0-72.5,32.9-72.5,73.5S108,206,108,206s72.5-81.8,72.5-122.5C180.7,42.9,148.2,10,108,10z\r\n\t\t\t\t M144.5,81.9c0,20.7-16.6,37.7-37.2,37.7s-37.2-16.9-37.2-37.7s16.7-37.7,37.3-37.7C127.9,44.2,144.5,61.1,144.5,81.9z"/>\r\n\t\t</g>\r\n\t\t<g id="pc-svgicon-expand">\r\n\t\t\t<path d="M199.7,101.4c-4.5,0-8.1,3.6-8.1,8.1v64c0,10.2-8.4,18.7-18.7,18.7H43.2\r\n\t\t\t\tc-10.2,0-18.7-8.4-18.7-18.7V42.4c0-10.2,8.4-18.7,18.7-18.7h66c4.5,0,8.1-3.6,8.1-8.1s-3.6-8.1-8.1-8.1h-66c-19.3,0-35,15.7-35,35\r\n\t\t\t\tv131.2c0,19.3,15.7,35,35,35h129.7c19.3,0,35-15.7,35-35v-64C207.8,105,204.2,101.4,199.7,101.4z"/>\r\n\t\t\t<path d="M207.6,15.6c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.5-0.3-1.1-0.5-1.5c0-0.1-0.1-0.1-0.1-0.2\r\n\t\t\t\tc-0.6-1.1-1.2-2.2-2.1-3.1c-0.2-0.2-0.4-0.3-0.5-0.4c-0.3-0.3-0.6-0.6-1.1-0.9c-0.2-0.2-0.5-0.3-0.9-0.4c-0.3-0.2-0.6-0.4-1.1-0.5\r\n\t\t\t\tc-0.2-0.1-0.5-0.1-0.7-0.2c-0.4-0.1-0.9-0.3-1.1-0.3c-0.2,0-0.5,0-0.7-0.1c-0.4,0-0.9-0.1-1.2-0.1h-47.9c-5.6,0-10.1,4.6-10.1,10.1\r\n\t\t\t\ts4.6,10.1,10.1,10.1h23.5L88.3,113c-4,4-4,10.4,0,14.3c1.9,1.9,4.5,3,7.1,3c2.8,0,5.3-1.1,7.1-3l84.9-84.9v21.5\r\n\t\t\t\tc0,5.6,4.6,10.1,10.1,10.1c5.6,0,10.1-4.6,10.1-10.1V17.6C207.8,17,207.8,16.2,207.6,15.6z"/>\r\n\t\t</g>\r\n\t\t<g id="pc-svgicon-arrow-down">\r\n\t\t\t<path d="M9.4,65c4.4-5.4,12.4-6.1,17.6-1.9l80.9,65.9l80.9-65.9c5.4-4.4,13.3-3.6,17.6,1.9c1.9,2.3,2.7,5,2.7,7.9\r\n\t\t\t\tc0,3.8-1.6,7.3-4.6,9.8L115.7,155c-2.3,1.9-5.1,2.7-7.9,2.7c-2.7,0-5.7-0.9-7.9-2.7L11.2,82.7C5.9,78.3,5,70.3,9.4,65z"/>\r\n\t\t</g>\r\n\t\t<g id="pc-svgicon-arrow-up">\r\n\t\t\t<path d="M9.5,150.9c4.4,5.4,12.3,6.1,17.6,1.9L108,86.8l80.8,65.9c5.4,4.4,13.3,3.6,17.6-1.9c1.9-2.3,2.7-5,2.7-7.9\r\n\t\t\t\tc0-3.8-1.6-7.3-4.6-9.8l-88.6-72.3c-2.3-1.9-5.1-2.7-7.9-2.7c-2.7,0-5.7,0.9-7.9,2.7l-88.7,72.3C6,137.5,5.1,145.4,9.5,150.9z"/>\r\n\t\t</g>\r\n\t\t<g id="pc-svgicon-no-sound">\r\n\t\t\t<path d="M207.2,51L17.5,179.4c-1.2,0.9-2.7,1.3-4.3,1.3c-4.3,0-7.7-3.4-7.7-7.7\r\n\t\t\t\tc0-2.7,1.3-4.9,3.4-6.3L198.5,38.2c1.2-0.9,2.7-1.3,4.3-1.3c4.3,0,7.7,3.4,7.7,7.7C210.6,47.2,209.3,49.6,207.2,51z M29,85\r\n\t\t\t\tc0-8.5,6.9-15.3,15.3-15.3l0,0h50.9l52-42.5v0.1c2.7-2.2,6-3.5,9.6-3.5c8,0,14.6,6.1,15.2,13.9L29,134.3V85L29,85z M172.2,120.8\r\n\t\t\t\tv15.3v15.3V177c0,8.5-6.9,15.3-15.3,15.3c-3.4,0-6.5-1.1-9-3l0,0l-52.2-38h-10l86.5-58.5L172.2,120.8L172.2,120.8z"/>\r\n\t\t</g>\r\n\t\t<g id="pc-svgicon-sound">\r\n\t\t\t<path d="M124,63.1L124,63.1c-1.1-1-2.6-1.6-4.3-1.6c-3.6,0-6.6,2.9-6.6,6.6c0,1.9,0.8,3.5,2,4.7\r\n\t\t\t\tc7.6,9.7,12.2,22,12.2,35.3c0,13-4.5,25.1-11.7,34.7c-0.9,0.7-1.4,1.5-1.9,2.6c-1.3,3.3,0.3,7.1,3.7,8.5c2.2,0.9,4.6,0.4,6.2-0.9\r\n\t\t\t\tl0.1,0.1c0.2-0.2,0.3-0.5,0.5-0.8c0.4-0.4,0.8-0.9,1-1.3c9.2-11.9,14.7-26.7,14.7-43C140,90.9,134.1,75.4,124,63.1z"/>\r\n\t\t\t<path d="M173.8,13.2L173.8,13.2L173.8,13.2c-1.1-1-2.7-1.6-4.3-1.6c-3.6,0-6.6,2.9-6.6,6.6\r\n\t\t\t\tc0,2.3,1.1,4.2,2.8,5.4c19.8,22.6,31.9,52.1,31.9,84.5c0,32.8-12.5,62.9-32.7,85.6l-0.1,0.1c-0.1,0.1-0.1,0.2-0.2,0.3l0,0\r\n\t\t\t\tc-0.4,0.5-0.8,1-1,1.6c-1.3,3.3,0.3,7.1,3.7,8.5c3.2,1.2,6.8-0.2,8.2-3.2c21.8-24.7,34.9-57.3,34.9-92.8\r\n\t\t\t\tC210.5,71.4,196.6,38.2,173.8,13.2z"/>\r\n\t\t\t<path d="M149.2,38.5L149.2,38.5c-1.1-1-2.6-1.6-4.3-1.6c-3.6,0-6.6,2.9-6.6,6.6c0,1.9,0.9,3.6,2.2,4.8\r\n\t\t\t\tc13.7,16.2,22,37,22,59.9c0,23.3-8.7,44.7-22.9,60.9l0,0c-0.3,0.4-0.7,0.9-0.9,1.3c-1.3,3.3,0.3,7.1,3.7,8.5\r\n\t\t\t\tc3.2,1.2,6.7-0.2,8.2-3.1c15.3-18.4,24.5-41.9,24.5-67.7C175.2,81.4,165.4,57,149.2,38.5z"/>\r\n\t\t\t<path d="M85.7,53.5c-2.3,0-4.4,0.9-6,2.2l0,0L47,82.3H15l0,0c-5.2,0-9.6,4.4-9.6,9.6v32\r\n\t\t\t\tc0,5.3,4.4,9.6,9.6,9.6h32.1l32.8,23.9l0,0c1.5,1.1,3.5,1.9,5.6,1.9c5.3,0,9.6-4.4,9.6-9.6V63.2C95.2,57.9,90.9,53.5,85.7,53.5z"/>\r\n\t\t</g>\r\n\t\t<g id="pc-svgicon-sad-face">\r\n\t\t\t\t<path d="M61.7,144c-2.1,2.1-2.4,5.4-0.9,7.2c1.6,1.7,4.3,1.5,6.1-0.2c23.5-23.2,58.6-23.2,82.2,0\r\n\t\t\t\t\tc1.9,1.9,4.6,2,6.1,0.2c1.6-1.7,1.3-5.1-0.9-7.2C127.8,117.7,88.2,117.7,61.7,144z"/>\r\n\t\t\t\t<circle cx="146.9" cy="91.1" r="11.4"/>\r\n\t\t\t\t<circle cx="69.1" cy="91.1" r="11.4"/>\r\n\t\t\t\t<path d="M108,9.9C53.9,9.9,9.9,54,9.9,108s44,98.1,98.1,98.1s98.1-44,98.1-98.1S162.1,9.9,108,9.9z\r\n\t\t\t\t\t M108,193.6c-47.2,0-85.5-38.4-85.5-85.5S60.8,22.5,108,22.5s85.5,38.4,85.5,85.5S155.2,193.6,108,193.6z"/>\r\n\t\t</g>\r\n\t\t<g id="pc-svgicon-happy-face">\r\n\t\t\t<path d="M149.1,125.8c-23.5,23.2-58.6,23.2-82.2,0c-1.9-1.9-4.6-2-6.1-0.2c-1.6,1.7-1.3,5.1,0.9,7.2\r\n\t\t\t\tc26.6,26.3,66.2,26.3,92.7,0c2.1-2.1,2.4-5.4,0.9-7.2C153.7,123.8,150.9,123.9,149.1,125.8z"/>\r\n\t\t\t<circle cx="146.9" cy="91.1" r="11.4"/>\r\n\t\t\t<circle cx="69.1" cy="91.1" r="11.4"/>\r\n\t\t\t<path d="M108,9.9C53.9,9.9,9.9,54,9.9,108s44,98.1,98.1,98.1s98.1-44,98.1-98.1S162.1,9.9,108,9.9z\r\n\t\t\t\t M108,193.6c-47.2,0-85.5-38.4-85.5-85.5S60.8,22.5,108,22.5s85.5,38.4,85.5,85.5S155.2,193.6,108,193.6z"/>\r\n\t\t</g>\r\n\t\t<g id="pc-svgicon-re-queue">\r\n\t\t\t<path d="M148.2,71c0,5.1,4.1,9.3,9.3,9.3h40.2c5.1,0,9.3-4.1,9.3-9.3V33.9c0-5.1-4.1-9.3-9.3-9.3\r\n\t\t\t\tc-5.1,0-9.3,4.1-9.3,9.3v16.7c-17.9-25.1-47.2-41.4-80.3-41.4C53.5,9.2,9.3,53.4,9.3,108s44.2,98.8,98.8,98.8S207,162.6,207,108\r\n\t\t\t\tc0-5.1-4.1-9.3-9.3-9.3c-5.1,0-9.3,4.1-9.3,9.3c0,44.4-36,80.3-80.3,80.3s-80.3-36-80.3-80.3s36-80.3,80.3-80.3\r\n\t\t\t\tc27.1,0,51,13.4,65.6,34h-16.1C152.4,61.7,148.2,65.8,148.2,71z"/>\r\n\t\t</g>\r\n\t\t<g id="pc-svgicon-close">\r\n\t\t\t<path d="M187.5,204.7c-4.5,0-8.7-1.6-12.2-5.1L108,132.6l-67.1,67.1c-6.8,6.8-17.8,6.8-24.6,0\r\n\t\t\t\tc-6.8-6.8-6.8-17.8,0-24.6L83.4,108L16.3,40.9c-6.8-6.8-6.8-17.8,0-24.6s17.8-6.8,24.6,0L108,83.4l67.1-67.1\r\n\t\t\t\tc6.8-6.8,17.8-6.8,24.6,0c6.8,6.8,6.8,17.8,0,24.6L132.6,108l67.1,67.1c6.8,6.8,6.8,17.8,0,24.6\r\n\t\t\t\tC196.4,203.2,191.9,204.7,187.5,204.7z"/>\r\n\t\t</g>\r\n\t\t<g id="pc-svgicon-close-filled">\r\n\t\t\t<path d="m184.37 31.632c42.177 42.177 42.177 110.56 0 152.74-42.177 42.177-110.56 42.177-152.74 0-42.177-42.177-42.177-110.56 0-152.74 42.177-42.177 110.56-42.177 152.74 0zm-49.643 117.86c4.0581 4.0582 10.662 4.059 14.721 8e-4 4.059-4.059 4.059-10.662 8e-4 -14.721l-26.62-26.62 26.129-26.129c4.0582-4.0582 4.0574-10.662-8e-4 -14.721-4.0582-4.0582-10.662-4.0582-14.72 0l-26.128 26.128-26.618-26.618c-4.0582-4.0582-10.662-4.0574-14.721 8e-4 -4.0589 4.0589-4.0589 10.662-7.36e-4 14.721l26.618 26.618-27.109 27.109c-4.0582 4.0582-4.0582 10.662 0 14.72 4.0589 4.059 10.662 4.059 14.721 7.9e-4l27.109-27.109z"/>\r\n\t\t</g>\r\n\t\t<g id="pc-svgicon-play">\r\n\t\t\t<path d="M28.2,48.5v121c0,17.3,11.2,24.5,26.9,17.2l128.6-60c15.1-7.1,15.4-16.1,0.6-24L53.9,33.1\r\n\t\t\t\tC38.7,25,28.2,31.3,28.2,48.5z M14.8,48.5c0-27.4,21.3-40.2,45.5-27.3l130.4,69.6c24.5,13.1,23.9,36.3-1.3,48l-128.6,60\r\n\t\t\t\tc-24.6,11.5-46.1-2.2-46.1-29.4V48.5z"/>\r\n\t\t</g>\r\n\t\t<g id="pc-svgicon-paperclip">\r\n\t\t\t<path d="M171.383,97.691l-67.553,67.464c-13.107,13.051-34.429,13.051-47.529,0c-13.1-13.051-13.107-34.298,0-47.356l71.438-70.88\r\n\t\t\t\tc7.864-7.834,20.656-7.834,28.52,0c7.857,7.835,7.864,20.572,0,28.406l-57.182,56.677c-2.621,2.612-6.883,2.612-9.505,0\r\n\t\t\t\tc-2.621-2.612-2.621-6.857,0-9.469l47.677-47.208c0,0,4.724-4.765,0-9.469c-4.724-4.703-9.511,0-9.511,0l-47.677,47.202\r\n\t\t\t\tc-7.877,7.848-7.871,20.578,0,28.419c7.871,7.841,20.642,7.841,28.513,0L165.756,84.8c6.567-6.542,9.841-15.107,9.841-23.679\r\n\t\t\t\tc0-18.542-15.096-33.475-33.609-33.475c-8.604,0-17.201,3.268-23.768,9.81L46.79,108.323c-9.182,9.161-13.78,21.154-13.78,33.153\r\n\t\t\t\tc0,25.868,21.04,46.874,47.052,46.874c12.045,0,24.084-4.58,33.272-13.728l67.553-67.464c0,0,4.79-4.646-0.054-9.469\r\n\t\t\t\tc-4.84-4.822-9.453,0-9.453,0L171.383,97.691z"/>\r\n\t\t</g>\r\n\t\t<g id="pc-svgicon-notification">\r\n\t\t\t<path d="m108.72 0.062542c-59.55 0-108 48.45-108 108 0 59.55 48.45 108 108 108 59.55 0 108-48.45 108-108 0-59.55-48.45-108-108-108zm0 201.26c-51.425 0-93.259-41.834-93.259-93.259 0-51.425 41.834-93.259 93.259-93.259 51.425 0 93.259 41.834 93.259 93.259 0 51.425-41.834 93.259-93.259 93.259z"/>\r\n\t\t\t<path d="m98.6 154.95c0-5.951 4.132-10.247 9.753-10.247 5.951 0 9.753 4.297 9.753 10.247 0 5.786-3.802 10.251-9.753 10.251-5.786 0-9.753-4.465-9.753-10.251zm4.132-23.638-2.313-79.352h15.868l-2.313 79.352z"/>\r\n\t\t</g>\r\n\r\n\t\t\x3c!-- message tail shadow --\x3e\r\n\t\t<filter x="-50%" y="-50%" width="200%" height="200%" filterUnits="objectBoundingBox" id="pc-filter-tails">\r\n\t\t\t<feOffset dx="1" dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>\r\n\t\t\t<feGaussianBlur stdDeviation="2" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>\r\n\t\t\t<feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix>\r\n\t\t\t<feMerge>\r\n\t\t\t\t<feMergeNode />\r\n\t\t\t\t<feMergeNode in="SourceGraphic" />\r\n\t\t\t</feMerge>\r\n\t\t</filter>\r\n\t\t<g id="pc-svgicon-tail-left">\r\n\t\t\t<path fill="#fff" style="filter:url(#pc-filter-tails)" d="M3,3 L3,9 C3,11.0738525 4.44388994,11.5561101 6,10 L13,3 L3,3 Z"></path>\r\n\t\t\t<path d="M3,3 L3,9 C3,11.0738525 4.44388994,11.5561101 6,10 L13,3 L3,3 Z"></path>\r\n\t\t\t<rect x="0" y="0" width="17" height="4"></rect>\r\n\t\t</g>\r\n\r\n\t\t<g id="pc-svgicon-tail-right">\r\n\t\t\t<path style="filter:url(#pc-filter-tails)" d="M13,3 L13,9 C13,11.0738525 11.5561101,11.5561101 10,10 L3,3 L13,3 Z"></path>\r\n\t\t\t<path d="M13,3 L13,9 C13,11.0738525 11.5561101,11.5561101 10,10 L3,3 L13,3 Z"></path>\r\n\t\t\t<rect x="0" y="0" width="17" height="4"></rect>\r\n\t\t</g>\r\n\r\n\t</defs>\r\n</svg>\r\n';return __p}},function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="purechat-enterinfo-container">\r\n\t<div data-resourcekey="noOperators_email_message">\r\n\t\t',obj.fromMissed?__p+="\r\n\t\t<p>"+(null==(__t=obj.Utils.linkify(_.escape(obj.getResource("emailForm_missed_response"))))?"":__t)+"</p>\r\n\t\t":__p+="\r\n\t\t"+(null==(__t=obj.getResource("emailForm_message"))?"":__t)+"\r\n\t\t",__p+='\r\n\t</div>\r\n</div>\r\n<form class="purechat-form purechat-email-form" action="">\r\n\t',obj.get("EmailFormAskForFirstName")&&(__p+='\r\n\t<p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-enterfirstname purechat-display-none">'+(null==(__t=obj.getResource("error_enterFirstName"))?"":_.escape(__t))+'</p>\r\n    <input\r\n        type="text"\r\n        class="purechat-firstname-input"\r\n        autocomplete="off"\r\n        name="purechat-firstname-input"\r\n        id="purechat-emailform-firstname-input"\r\n        maxlength="40"\r\n        value="'+(null==(__t=obj.InitialVisitorFirstName)?"":_.escape(__t))+'"\r\n        placeholder="'+(null==(__t=obj.getResource("placeholder_firstName")+(obj.RequireFirstName?"*":""))?"":_.escape(__t))+'"\r\n        ',obj.RequireFirstName&&(__p+="required"),__p+=" />\r\n\t"),__p+="\r\n\t",obj.get("EmailFormAskForLastName")&&(__p+='\r\n\t<p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-enterlastname purechat-display-none">'+(null==(__t=obj.getResource("error_enterLastName"))?"":_.escape(__t))+'</p>\r\n    <input\r\n        type="text"\r\n        class="purechat-lastname-input"\r\n        autocomplete="off"\r\n        name="purechat-lastname-input"\r\n        id="purechat-emailform-lastname-input"\r\n        maxlength="40"\r\n        value="'+(null==(__t=obj.InitialVisitorLastName)?"":_.escape(__t))+'"\r\n        placeholder="'+(null==(__t=obj.getResource("placeholder_lastName")+(obj.RequireLastName?"*":""))?"":_.escape(__t))+'"\r\n        ',obj.RequireLastName&&(__p+="required"),__p+=" />\r\n\t"),__p+='\r\n\t<p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-enteremail purechat-display-none">'+(null==(__t=obj.getResource("error_enterEmail"))?"":_.escape(__t))+'</p>\r\n    <input\r\n        type="email"\r\n        class="purechat-email-input"\r\n        name="purechat-email-input"\r\n        id="purechat-emailform-email-input"\r\n        maxlength="100"\r\n        value="'+(null==(__t=obj.InitialVisitorEmail)?"":_.escape(__t))+'"\r\n        placeholder="'+(null==(__t=obj.getResource("placeholder_email")+"*")?"":_.escape(__t))+'"\r\n        required />\r\n\t',obj.get("EmailFormAskForPhoneNumber")&&(__p+='\r\n\t<p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-enterphonenumber purechat-display-none">'+(null==(__t=obj.getResource("error_enterPhoneNumber"))?"":_.escape(__t))+'</p>\r\n    <input\r\n        type="text"\r\n        class="purechat-phonenumber-input"\r\n        name="purechat-phonenumber-input"\r\n        id="purechat-emailform-phonenumber-input"\r\n        maxlength="30"\r\n        value="'+(null==(__t=obj.InitialVisitorPhoneNumber)?"":_.escape(__t))+'"\r\n        placeholder="'+(null==(__t=obj.getResource("placeholder_phonenumber")+(obj.RequirePhoneNumber?"*":""))?"":_.escape(__t))+'"\r\n        ',obj.RequirePhoneNumber&&(__p+="required"),__p+=" />\r\n\t"),__p+="\r\n\t",obj.get("EmailFormAskForCompany")&&(__p+='\r\n\t<p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-entercompany purechat-display-none">'+(null==(__t=obj.getResource("error_enterCompany"))?"":_.escape(__t))+'</p>\r\n    <input\r\n        type="text"\r\n        class="purechat-company-input"\r\n        name="purechat-company-input"\r\n        id="purechat-emailform-company-input"\r\n        maxlength="30"\r\n        value="'+(null==(__t=obj.InitialVisitorCompany)?"":_.escape(__t))+'"\r\n        placeholder="'+(null==(__t=obj.getResource("placeholder_company")+(obj.RequireCompany?"*":""))?"":_.escape(__t))+'"\r\n        ',obj.RequireCompany&&(__p+="required"),__p+=" />\r\n\t"),__p+='\r\n\t<p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-enterquestion purechat-display-none">'+(null==(__t=obj.getResource("error_enterQuestion"))?"":_.escape(__t))+'</p>\r\n\t<textarea class="purechat-question-input" name="purechat-question-input" id="purechat-emailform-question-input" rows="1" placeholder="'+(null==(__t=obj.getResource("placeholder_question")+"*")?"":_.escape(__t))+'" required>'+(null==(__t=obj.getMessage())?"":_.escape(__t))+'</textarea>\r\n\t<input type="submit" class="purechat-btn" id="purechat-emailform-name-submit" value="'+(null==(__t=obj.getResource("button_sendEmail"))?"":_.escape(__t))+'" />\r\n\t<p class="purechat-email-error purechat-alert purechat-alert-error purechat-init-error purechat-display-none">Unable to send, please try again.</p>\r\n\t<p class="purechat-alert purechat-alert-error purechat-init-error general-error purechat-display-none"></p>\r\n</form>\r\n';return __p}}).call(this,__webpack_require__(6))},function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="purechat-enterinfo-container purechat-email-success purechat-card">\r\n\t<h2>'+(null==(__t=obj.getResource("emailForm_success_message"))?"":__t)+"</h2>\r\n\t",obj.AskForFirstName&&(__p+='\r\n\t<div class="purechat-label">'+(null==(__t=obj.getResource("placeholder_firstName"))?"":_.escape(__t))+"</div>\r\n\t<p>"+(null==(__t=obj.FirstName)?"":_.escape(__t))+"</p>\r\n\t"),__p+="\r\n\t",!obj.AskForFirstName&&obj.AskForLastName&&(__p+='\r\n\t<div class="purechat-label">'+(null==(__t=obj.getResource("placeholder_lastName"))?"":_.escape(__t))+"</div>\r\n\t<p>"+(null==(__t=obj.LastName)?"":_.escape(__t))+"</p>\r\n\t"),__p+='\r\n\t<div class="purechat-label">'+(null==(__t=obj.getResource("placeholder_email"))?"":_.escape(__t))+"</div>\r\n\t<p>"+(null==(__t=obj.Email)?"":_.escape(__t))+"</p>\r\n\t",obj.EmailFormAskForCompany&&(__p+='\r\n\t<div class="purechat-label">'+(null==(__t=obj.getResource("placeholder_company"))?"":_.escape(__t))+"</div>\r\n\t<p>"+(null==(__t=obj.Company)?"":_.escape(__t))+"</p>\r\n\t"),__p+="\r\n\t",obj.EmailFormAskForPhoneNumber&&(__p+='\r\n\t<div class="purechat-label">'+(null==(__t=obj.getResource("placeholder_phonenumber"))?"":_.escape(__t))+"</div>\r\n\t<p>"+(null==(__t=obj.PhoneNumber)?"":_.escape(__t))+"</p>\r\n\t"),__p+='\r\n\t<div class="purechat-label">'+(null==(__t=obj.getResource("placeholder_question"))?"":_.escape(__t))+"</div>\r\n\t<div>"+(null==(__t=obj.Question)?"":_.escape(__t))+"</div>\r\n</div>\r\n";return __p}}).call(this,__webpack_require__(6))},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="purechat-card-header">\r\n\t<input type="text" class="purechat-emoji-search" placeholder="Search" /> \r\n</div>\r\n<div class="purechat-card-body">\r\n\t<div class="purechat-message-wrapper purechat-clearfix purechat-separator">\r\n\t\t<span class="purechat-important purechat-separator">Most Used</span>\r\n\t</div>\r\n\t<div class="purechat-curated-emojis"></div>\r\n\r\n\t<div class="purechat-message-wrapper purechat-clearfix purechat-separator">\r\n\t\t<span class="purechat-important purechat-separator">Emojis</span>\r\n\t</div>\r\n\t<div class="purechat-all-emojis"></div>\r\n</div>\r\n\r\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="purechat-card-header">\r\n\t<span>tab or ⇅ to navigate</span>\r\n\t<span>↵ to choose</span>\r\n\t<span>␛ to dismiss</span>\r\n</div>\r\n<div class="purechat-card-body">\r\n\t<div class="purechat-filtered-emojis"></div>\r\n</div>\r\n<div class="purechat-card-footer"></div>\r\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="",obj.isNote()?__p+='\r\n\t<span class="purechat-message-note purechat-important" data-username="'+(null==(__t=obj.username)?"":__t)+'" data-resourcekey="'+(null==(__t=obj.resourceKey||"")?"":__t)+'">\r\n\t\t'+(null==(__t=obj.message)?"":__t)+"\r\n\t</span>\r\n":obj.isSeparator()?__p+='\r\n\t<span class="purechat-important purechat-separator" data-username="'+(null==(__t=obj.username)?"":__t)+'" data-resourcekey="'+(null==(__t=obj.resourceKey||"")?"":__t)+'">\r\n\t\t'+(null==(__t=obj.message)?"":__t)+"\r\n\t</span>\r\n":obj.isMessage()&&obj.message&&(__p+='\r\n\t<div data-resourcekey="'+(null==(__t=obj.resourceKey||"")?"":__t)+'" class="purechat-message-container '+(null==(__t=obj.myMessage?"purechat-message-right":"purechat-message-left")?"":__t)+'">\r\n\t\t<img class="purechat-operator-gravatar" height="50" width="50" src="'+(null==(__t=obj.avatarUrl)?"":__t)+'" alt=""/>\r\n\t\t<div class="purechat-message">\r\n\t\t\t',obj.userName&&(__p+='\r\n\t\t\t<span class="purechat-displayname ',obj.hasMultipleOperators()&&(__p+="purechat-display-block"),__p+='">'+(null==(__t=obj.userName)?"":__t)+"</span>\r\n\t\t\t"),__p+='\r\n\t\t\t<span class="purechat-message-actual">\r\n\t\t\t\t<span class="purechat-new-thought">\r\n\t\t\t\t\t'+(null==(__t=obj.enhance(obj.message))?"":__t)+'\r\n\t\t\t\t</span>\r\n\t\t\t</span>\r\n\t\t\t<div class="purechat-message-tail">\r\n\t\t\t\t<svg viewBox="0 0 18 16" class="pc-svgicon">\r\n\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+"#"+(null==(__t=obj.myMessage?"pc-svgicon-tail-right":"pc-svgicon-tail-left")?"":__t)+'"></use>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="purechat-timestamp">\r\n\t\t\t',obj.time&&(__p+='<time class="purechat-time" title="'+(null==(__t=obj.date)?"":__t)+'" datetime="'+(null==(__t=obj.date)?"":__t)+'">'+(null==(__t=obj.prettyDate(obj.date))?"":__t)+"</time>"),__p+="\r\n\t\t</div>\r\n\t</div>\r\n"),__p+="\r\n";return __p}},function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div data-resourcekey="closed_message">'+(null==(__t=obj.getResource("closed_message"))?"":__t)+"</div>\r\n",obj.AskForRating&&(__p+='\r\n<div class="purechat-thumbs-container">\r\n\t<p data-resourcekey="closed_askForRating">'+(null==(__t=obj.getResource("closed_askForRating"))?"":_.escape(__t))+'</p>\r\n\t<div class="purechat-thumbs purechat-thumbs-up purechat-thumbs-selectable">\r\n\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-xl">\r\n\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-happy-face"></use>\r\n\t\t</svg>\r\n\t</div>\r\n\t<div class="purechat-thumbs purechat-thumbs-down purechat-thumbs-selectable">\r\n\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-xl">\r\n\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-sad-face"></use>\r\n\t\t</svg>\r\n\t</div>\r\n</div>\r\n<p class="purechat-rating-thanks"></p>\r\n'),__p+="\r\n\r\n",obj.CtaButton&&(__p+='\r\n<p class="purechat-form purechat-ended-form" action="">\r\n\t<a href="'+(null==(__t=obj.ctaUrl())?"":__t)+'" data-resourcekey="button_cta" class="purechat-btn" target="_blank">'+(null==(__t=obj.getResource("button_cta"))?"":_.escape(__t))+"</a>\r\n</p>\r\n"),__p+="\r\n",obj.DownloadTranscript&&(__p+='\r\n<p class="purechat-download-container">\r\n\t<a data-resourcekey="closed_downloadTrans" target="_blank" href="'+(null==(__t=obj.apiUrl)?"":__t)+"/api/VisitorWidget/Transcript?chatId="+(null==(__t=(obj.dataController||obj.oldDataController).connectionInfo.get("chatId"))?"":__t)+"&authToken="+(null==(__t=(obj.dataController||obj.oldDataController).connectionInfo.get("authToken"))?"":__t)+'">'+(null==(__t=obj.getResource("closed_downloadTrans"))?"":_.escape(__t))+"</a>\r\n</p>\r\n"),__p+="\r\n\r\n",obj.showPoweredBy&&(__p+='\r\n<p class="purechat-poweredby-text">\r\n\tLove chatting? Add <a class="purechat-poweredby-link" href="'+(null==(__t=obj.poweredByUrl)?"":__t)+'" rel="noopener" target="_blank">Pure Chat</a> to your site for free!\r\n</p>\r\n'),__p+="\r\n";return __p}}).call(this,__webpack_require__(6))},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div data-resourcekey="'+(null==(__t=obj.parent.get("resourceKey")||"")?"":__t)+'" class="purechat-message-container '+(null==(__t=obj.parent.get("myMessage")?"purechat-message-right":"purechat-message-left")?"":__t)+'">\r\n\t<div class="purechat-message">\r\n\t\t<div class="purechat-message-actual">\r\n\t\t\t<div class="purechat-new-thought">\r\n\t\t\t\t',obj.image&&(__p+='\r\n\t\t\t\t\t<img src="'+(null==(__t=obj.image)?"":__t)+'" alt="" class="purechat-unfurl-media" />\r\n\t\t\t\t'),__p+='\r\n\t\t\t\t<div class="purechat-unfurl-link-container">\r\n\t\t\t\t\t',obj.title&&(__p+='\r\n\t\t\t\t\t\t<div class="purechat-unfurl-title">\r\n\t\t\t\t\t\t\t',obj.icon&&(__p+='\r\n\t\t\t\t\t\t\t<img src="'+(null==(__t=obj.icon)?"":__t)+'" alt="'+(null==(__t=obj.title)?"":__t)+'" width="16" height="16" class="purechat-unfurl-favicon" />\r\n\t\t\t\t\t\t\t'),__p+='\r\n\t\t\t\t\t\t\t<a href="'+(null==(__t=obj.link)?"":__t)+'" target="_blank">'+(null==(__t=obj.title)?"":__t)+"</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t"),__p+="\r\n\t\t\t\t\t",obj.description&&(__p+="\r\n\t\t\t\t\t\t"+(null==(__t=obj.description)?"":__t)+"\r\n\t\t\t\t\t"),__p+='\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="purechat-timestamp">\r\n\t\t',obj.time&&(__p+='<time class="purechat-time" title="'+(null==(__t=obj.date)?"":__t)+'" datetime="'+(null==(__t=obj.date)?"":__t)+'">'+(null==(__t=obj.prettyDate(obj.date))?"":__t)+"</time>"),__p+="\r\n\t</div>\r\n</div>\r\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div data-resourcekey="'+(null==(__t=obj.parent.get("resourceKey")||"")?"":__t)+'" class="purechat-message-container '+(null==(__t=obj.parent.get("myMessage")?"purechat-message-right":"purechat-message-left")?"":__t)+'">\r\n\t<div class="purechat-message">\r\n\t\t<span class="purechat-message-actual">\r\n\t\t\t<span class="purechat-new-thought">\r\n\t\t\t\t',obj.title&&(__p+='\r\n\t\t\t\t\t<div class="purechat-unfurl-title">\r\n\t\t\t\t\t\t',obj.icon&&(__p+='\r\n\t\t\t\t\t\t<div class="purechat-unfurl-favicon">\r\n\t\t\t\t\t\t\t<img src="'+(null==(__t=obj.icon)?"":__t)+'" alt="" width="16" height="16" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t'),__p+='\r\n\t\t\t\t\t\t<a href="'+(null==(__t=obj.link)?"":__t)+'" target="_blank">'+(null==(__t=obj.title)?"":__t)+"</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t"),__p+="\r\n\t\t\t\t",obj.image?__p+='\r\n\t\t\t\t<div class="purechat-unfurl-youtube-wrapper">\r\n\t\t\t\t\t<img src="'+(null==(__t=obj.image)?"":__t)+'" alt="" class="purechat-unfurl-media" />\r\n\t\t\t\t\t<div class="purechat-unfurl-play">\r\n\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\r\n\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-play"></use>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t':__p+='\r\n\t\t\t\t<iframe src="'+(null==(__t=obj.media)?"":__t)+'" class="purechat-unfurl-iframe" frameborder="0"  webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\r\n\t\t\t\t',__p+='\r\n\t\t\t</span>\r\n\t\t</span>\r\n\t</div>\r\n\t<div class="purechat-timestamp">\r\n\t\t',obj.time&&(__p+='<time class="purechat-time" title="'+(null==(__t=obj.date)?"":__t)+'" datetime="'+(null==(__t=obj.date)?"":__t)+'">'+(null==(__t=obj.prettyDate(obj.date))?"":__t)+"</time>"),__p+="\r\n\t</div>\r\n</div>\r\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div data-resourcekey="'+(null==(__t=obj.parent.get("resourceKey")||"")?"":__t)+'" class="purechat-message-container '+(null==(__t=obj.parent.get("myMessage")?"purechat-message-right":"purechat-message-left")?"":__t)+'">\r\n\t<div class="purechat-message">\r\n\t\t<span class="purechat-message-actual">\r\n\t\t\t<span class="purechat-new-thought">\r\n\t\t\t\t',obj.media?__p+="\r\n\t\t\t\t"+(null==(__t=obj.media)?"":__t)+"\r\n\t\t\t\t":__p+='\r\n\t\t\t\t<div class="purechat-loading '+(null==(__t=obj.parent.get("myMessage")?"purechat-loading-dark":"purechat-loading-light")?"":__t)+'"></div>\r\n\t\t\t\t',__p+='\r\n\t\t\t</span>\r\n\t\t</span>\r\n\t</div>\r\n\t<div class="purechat-timestamp">\r\n\t\t',obj.time&&(__p+='<time class="purechat-time" title="'+(null==(__t=obj.date)?"":__t)+'" datetime="'+(null==(__t=obj.date)?"":__t)+'">'+(null==(__t=obj.prettyDate(obj.date))?"":__t)+"</time>"),__p+="\r\n\t</div>\r\n</div>\r\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<img src="'+(null==(__t=obj.imageUrl)?"":__t)+'" alt="" />\r\n<button type="button" class="purechat-image-preview-close">✖</button>';return __p}},function(module,exports,__webpack_require__){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="purechat-message-container '+(null==(__t=obj.myMessage?"purechat-message-right":"purechat-message-left")?"":__t)+" "+(null==(__t=obj.transferStateClass())?"":__t)+'">\r\n\t',obj.isOperator()&&(__p+='\r\n\t<img class="purechat-operator-gravatar" height="50" width="50" src="'+(null==(__t=obj.avatarUrl)?"":__t)+'" alt=""/>\r\n\t'),__p+='\r\n\t<div class="purechat-message">\r\n\t\t',obj.userName&&obj.isOperator()&&(__p+='\r\n\t\t<span class="purechat-displayname">'+(null==(__t=obj.userName)?"":__t)+"</span>\r\n\t\t"),__p+='\r\n\t\t<span class="purechat-message-actual">\r\n\t\t\t<span class="purechat-new-thought purechat-display-flex">\r\n\t\t\t\t',obj.isError()?__p+='\r\n\t\t\t\t<div class="purechat-file-error">\r\n\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-sm">\r\n\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-notification"></use>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t\t'+(null==(__t=obj.myMessage?obj.message:obj.getGeneralError())?"":__t)+"\r\n\t\t\t\t</div>\r\n\t\t\t\t":(__p+="\r\n\t\t\t\t\t",obj.isImage()?(__p+='\r\n\t\t\t\t\t\t<div class="purechat-file-image">\r\n\t\t\t\t\t\t\t<div class="purechat-file-image-name">'+(null==(__t=obj.parsed.name)?"":__t)+'</div>\r\n\t\t\t\t\t\t\t<div class="purechat-loading purechat-loading-large purechat-loading-center '+(null==(__t=obj.myMessage?"purechat-loading-dark":"purechat-loading-light")?"":__t)+'"></div>\r\n\t\t\t\t\t\t\t<img src="'+(null==(__t=obj.parsed.url)?"":__t)+"?"+(null==(__t=obj.isOperator()?"width=500&height=500":"width=300&height=80")?"":__t)+'" alt="',obj.parsed.name,__p+='" class="purechat-display-none" />\r\n\t\t\t\t\t\t\t<div class="purechat-file-actions">\r\n\t\t\t\t\t\t\t\t',obj.myMessage&&!obj.isClosedChat?__p+='\r\n\t\t\t\t\t\t\t\t\t<button type="button" class="purechat-file-delete">\r\n\t\t\t\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\r\n\t\t\t\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-close-filled"></use>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t':__p+='\r\n\t\t\t\t\t\t\t\t\t<a href="'+(null==(__t=obj.parsed.url)?"":__t)+'" download="'+(null==(__t=obj.parsed.url)?"":__t)+'" target="_blank" class="purechat-btn purechat-file-download">\r\n\t\t\t\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\r\n\t\t\t\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-download"></use>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t',__p+="\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t"):(__p+='\r\n\t\t\t\t\t\t<div class="purechat-file-icon">\r\n\t\t\t\t\t\t\t<img src="'+__webpack_require__(278)+'" alt="" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="purechat-file-description">\r\n\t\t\t\t\t\t\t'+(null==(__t=obj.getMessageDescription())?"":__t)+'\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="purechat-file-actions">\r\n\t\t\t\t\t\t\t',obj.isUploading()?__p+='\r\n\t\t\t\t\t\t\t\t<div class="purechat-loading purechat-loading-large '+(null==(__t=obj.myMessage?"purechat-loading-dark":"purechat-loading-light")?"":__t)+'"></div>\r\n\t\t\t\t\t\t\t':obj.myMessage&&!obj.isClosedChat?__p+='\r\n\t\t\t\t\t\t\t\t<button type="button" class="purechat-file-delete">\r\n\t\t\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\r\n\t\t\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-close-filled"></use>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t':__p+='\r\n\t\t\t\t\t\t\t\t<a href="'+(null==(__t=obj.parsed.url)?"":__t)+'" target="_self" class="purechat-file-download">\r\n\t\t\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\r\n\t\t\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-download"></use>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t',__p+="\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t"),__p+="\r\n\t\t\t\t"),__p+="\r\n\t\t\t</span>\r\n\t\t</span>\r\n\t\t",obj.isError()||(__p+='\r\n\t\t<div class="purechat-message-tail">\r\n\t\t\t<svg viewBox="0 0 18 16" class="pc-svgicon">\r\n\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+"#"+(null==(__t=obj.myMessage?"pc-svgicon-tail-right":"pc-svgicon-tail-left")?"":__t)+'"></use>\r\n\t\t\t</svg>\r\n\t\t</div>\r\n\t\t'),__p+='\r\n\t</div>\r\n\t<div class="purechat-timestamp">\r\n\t\t',obj.time&&(__p+='<time class="purechat-time" title="'+(null==(__t=obj.date)?"":__t)+'" datetime="'+(null==(__t=obj.date)?"":__t)+'">'+(null==(__t=obj.prettyDate(obj.date))?"":__t)+"</time>"),__p+="\r\n\t</div>\r\n</div>\r\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="purechat-message-display purechat-clearfix">\r\n\t<div class="purechat-showPrevious">\r\n\t\t<a href="#">See Previous Conversation</a>\r\n\t</div>\r\n</div>\r\n<div class="purechat-emojis purechat-display-flex"></div>\r\n<div class="purechat-emoji-autocomplete purechat-display-none"></div>\r\n';return __p}},function(t){t.exports=JSON.parse('[{"regex":"(:\\\\)|:-\\\\)|\\\\(happy\\\\))","emoji":"🙂"},{"regex":"(:\\\\(|:-\\\\(|\\\\(sad\\\\))","emoji":"😞"},{"regex":"(:D|:-D|\\\\(grin\\\\))","emoji":"😃"},{"regex":"(:x|:-x|\\\\(sealed\\\\))","emoji":"😶"},{"regex":"(;\\\\)|;-\\\\)|\\\\(wink\\\\))","emoji":"😉"},{"regex":"(\\\\(yawn\\\\))","emoji":"😩"},{"regex":"(\\\\(smirk\\\\))","emoji":"😏"},{"regex":"(\\\\(starstruck\\\\))","emoji":"😲"},{"regex":"(:C|:-C|\\\\(depressed\\\\))","emoji":"☹️"},{"regex":"(8\\\\(|8-\\\\(|\\\\(sadnerd\\\\))","emoji":"😞"},{"regex":"(D:|\\\\(zomg\\\\))","emoji":"😦"},{"regex":"(:\\\\||:-\\\\||\\\\(speechless\\\\))","emoji":"😐"},{"regex":"(:\'\\\\(|:\'-\\\\(|\\\\(crying\\\\))","emoji":"😢"},{"regex":"(\\\\(relieved\\\\))","emoji":"😌"},{"regex":"(\\\\(satisfied\\\\))","emoji":"😊"},{"regex":"(\\\\(determined\\\\))","emoji":"","deprecated":true},{"regex":"(:p|:-p|\\\\(tongue\\\\))","emoji":"😛"},{"regex":"(:-\\\\/|\\\\(unsure\\\\))","emoji":"😕"},{"regex":"(-_-|\\\\(sleep\\\\))","emoji":"😴"},{"regex":"(8{|8-{|\\\\(disguise\\\\))","emoji":"","deprecated":true},{"regex":"(B\\\\)|B-\\\\)|\\\\(cool\\\\))","emoji":"😎"},{"regex":"(8\\\\)|8-\\\\)|\\\\(nerd\\\\))","emoji":"","deprecated":true},{"regex":"(\\\\(lovestruck\\\\))","emoji":"😍"},{"regex":"\\\\(angry\\\\)","emoji":"😠"},{"regex":"(\\\\(evil\\\\))","emoji":"😈"},{"regex":"(:s|:-s|\\\\(sick\\\\))","emoji":"😷"},{"regex":"(\\\\/_\\\\\\\\|\\\\(embarassed\\\\))","emoji":"😰"},{"regex":"(:{|\\\\(mustache\\\\))","emoji":"","deprecated":true},{"regex":"(:o|:-o|\\\\(surprised\\\\))","emoji":"😮"},{"regex":"(;p|;-p|\\\\(tease\\\\))","emoji":"😜"},{"regex":"\\\\(ninja\\\\)","emoji":"","deprecated":true},{"regex":"\\\\(zombie\\\\)","emoji":"","deprecated":true}]')},function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="purechat-messages"></div>\r\n<div class="purechat-send-form-container ',obj.isOperator()&&(__p+="text-normal"),__p+='">\r\n\t<div class="purechat-user-status"><span>',obj.isOperator()||(__p+=""+(null==(__t=obj.getResource("chat_idleText"))?"":_.escape(__t))),__p+='</span></div>\r\n\t<div class="purechat-autocomplete purechat-display-none"></div>\r\n\t<form class="purechat-send-form" action="">\r\n\t\t',obj.isInvisible()||(__p+='\r\n\t\t\t<textarea class="purechat-send-form-message ',obj.isOperator()&&(__p+="text-normal"),__p+='" name="purechat-send-form-message" placeholder="'+(null==(__t=obj.getResource("chat_pressEnter"))?"":_.escape(__t))+'" rows="1"></textarea>\r\n\t\t\t',obj.isOperator()||(__p+="\r\n\t\t\t\t",obj.isFileTransferEnabled()&&(__p+='\r\n\t\t\t\t\t<button type="button" class="purechat-btn-file-transfer">\r\n\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-md">\r\n\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-paperclip"></use>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<input type="file" name="purechat-files" class="purechat-file-picker purechat-display-none" />\r\n\t\t\t\t'),__p+="\r\n\t\t\t\t",obj.isMobile()?__p+='\r\n\t\t\t\t\t<button type="submit" class="purechat-btn-send-message">\r\n                        <svg height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg">\r\n                            <path d="m19.354 10.146-6-6c-.195-.195-.512-.195-.707 0s-.195.512 0 .707l5.146 5.146h-16.293c-.276 0-.5.224-.5.5s.224.5.5.5h16.293l-5.146 5.146c-.195.195-.195.512 0 .707.098.098.226.146.354.146s.256-.049.354-.146l6-6c.195-.195.195-.512 0-.707z" />\r\n                        </svg>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t':__p+='\r\n\t\t\t\t\t<button type="button" class="purechat-btn-emoji">\r\n\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-md">\r\n\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-happy-face"></use>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t',__p+="\r\n\t\t\t"),__p+="\r\n\t\t"),__p+='\r\n\t</form>\r\n</div>\r\n<div class="purechat-confirm-close-modal purechat-display-none">\r\n\t<span class="message">Are you sure you want to close the chat?</span>\r\n\t<div class="modal-button-bar">\r\n\t\t<button type="button" class="purechat-btn kill-chat">Yes</button>\r\n\t\t<button type="button" class="purechat-btn cancel">No</button>\r\n\t</div>\r\n</div>\r\n<div class="purchat-confirm-close-modal-overlay purechat-display-none"></div>';return __p}}).call(this,__webpack_require__(6))},function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="",obj.EmailForm?__p+='\r\n<div class="purechat-enterinfo-container">\r\n    <div data-resourcekey="emailForm_message">'+(null==(__t=obj.getResource("emailForm_message"))?"":__t)+"</div>\r\n</div>\r\n":(__p+="\r\n",(obj.AskForPhoneNumber||obj.AskForFirstName||obj.AskForLastName||obj.AskForCompany||obj.AskForEmail||obj.AskForQuestion)&&(__p+='\r\n<div class="purechat-enterinfo-container">\r\n    <div data-resourcekey="label_initial">'+(null==(__t=obj.Utils.linkify(obj.getResource("label_initial")))?"":__t)+"</div>\r\n</div>\r\n"),__p+="\r\n"),__p+='\r\n\r\n<form class="purechat-form '+(null==(__t=obj.EmailForm?"purechat-email-form":"purechat-init-form")?"":__t)+'" action="">\r\n\r\n    ',(obj.EmailForm&&obj.EmailFormAskForFirstName||!obj.EmailForm&&obj.AskForFirstName)&&(__p+='\r\n    <p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-enterfirstname purechat-display-none">'+(null==(__t=obj.getResource("error_enterFirstName"))?"":_.escape(__t))+'</p>\r\n    <input\r\n        type="text"\r\n        class="purechat-firstname-input" \r\n        autocomplete="off"\r\n        name="purechat-firstname-input"\r\n        id="purechat-firstname-input"\r\n        maxlength="40"\r\n        value="'+(null==(__t=obj.InitialVisitorFirstName)?"":_.escape(__t))+'"\r\n        placeholder="'+(null==(__t=obj.getResource("placeholder_firstName")+(obj.RequireFirstName?"*":""))?"":_.escape(__t))+'"\r\n        ',obj.RequireFirstName&&(__p+="required"),__p+=" />\r\n    "),__p+="\r\n    ",(obj.EmailForm&&obj.EmailFormAskForLastName||!obj.EmailForm&&obj.AskForLastName)&&(__p+='\r\n    <p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-enterlastname purechat-display-none">'+(null==(__t=obj.getResource("error_enterLastName"))?"":_.escape(__t))+'</p>\r\n    <input\r\n        type="text"\r\n        class="purechat-lastname-input"\r\n        autocomplete="off"\r\n        name="purechat-lastname-input"\r\n        id="purechat-lastname-input"\r\n        maxlength="40"\r\n        value="'+(null==(__t=obj.InitialVisitorLastName)?"":_.escape(__t))+'"\r\n        placeholder="'+(null==(__t=obj.getResource("placeholder_lastName")+(obj.RequireLastName?"*":""))?"":_.escape(__t))+'"\r\n        ',obj.RequireLastName&&(__p+="required"),__p+=" />\r\n    "),__p+="\r\n    ",(obj.EmailForm||obj.AskForEmail)&&(__p+='\r\n    <p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-enteremail purechat-display-none">'+(null==(__t=obj.getResource("error_enterEmail"))?"":_.escape(__t))+'</p>\r\n    <input\r\n        type="email"\r\n        class="purechat-email-input"\r\n        name="purechat-email-input"\r\n        id="purechat-email-input"\r\n        maxlength="100"\r\n        value="'+(null==(__t=obj.InitialVisitorEmail)?"":_.escape(__t))+'"\r\n        placeholder="'+(null==(__t=obj.getResource("placeholder_email")+(obj.RequireEmail?"*":""))?"":_.escape(__t))+'"\r\n        ',obj.RequireEmail&&(__p+="required"),__p+=" />\r\n    "),__p+="\r\n    ",(obj.EmailForm&&obj.EmailFormAskForPhoneNumber||!obj.EmailForm&&obj.AskForPhoneNumber)&&(__p+='\r\n    <p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-enterphonenumber purechat-display-none">'+(null==(__t=obj.getResource("error_enterPhoneNumber"))?"":_.escape(__t))+'</p>\r\n    <input\r\n        type="text"\r\n        class="purechat-phonenumber-input"\r\n        name="purechat-phonenumber-input"\r\n        id="purechat-phonenumber-input"\r\n        maxlength="30"\r\n        value="'+(null==(__t=obj.InitialVisitorPhoneNumber)?"":_.escape(__t))+'"\r\n        placeholder="'+(null==(__t=obj.getResource("placeholder_phonenumber")+(obj.RequirePhoneNumber?"*":""))?"":_.escape(__t))+'"\r\n        ',obj.RequirePhoneNumber&&(__p+="required"),__p+=" />\r\n    "),__p+="\r\n    ",(obj.EmailForm&&obj.EmailFormAskForCompany||!obj.EmailForm&&obj.AskForCompany)&&(__p+='\r\n    <p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-entercompany purechat-display-none">'+(null==(__t=obj.getResource("error_enterCompany"))?"":_.escape(__t))+'</p>\r\n    <input\r\n        type="text"\r\n        class="purechat-company-input"\r\n        name="purechat-company-input"\r\n        id="purechat-company-input"\r\n        maxlength="100"\r\n        value="'+(null==(__t=obj.InitialVisitorCompany)?"":_.escape(__t))+'"\r\n        placeholder="'+(null==(__t=obj.getResource("placeholder_company")+(obj.RequireCompany?"*":""))?"":_.escape(__t))+'"\r\n        ',obj.RequireCompany&&(__p+="required"),__p+=" />\r\n    "),__p+="\r\n    ",(obj.EmailForm||obj.AskForQuestion)&&(__p+='\r\n    <p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-enterquestion purechat-display-none">'+(null==(__t=obj.getResource("error_enterQuestion"))?"":_.escape(__t))+'</p>\r\n    <textarea\r\n        class="purechat-question-input"\r\n        name="purechat-question-input"\r\n        id="purechat-question-input"\r\n        rows="1"\r\n        placeholder="'+(null==(__t=obj.getResource("placeholder_question")+(obj.RequireQuestion?"*":""))?"":_.escape(__t))+'"\r\n        ',obj.RequireQuestion&&(__p+="required"),__p+=">"+(null==(__t=obj.InitialVisitorQuestion)?"":_.escape(__t))+"</textarea>\r\n    "),__p+="\r\n\r\n    ",obj.EmailForm?__p+='\r\n    <input type="submit" class="purechat-btn" id="purechat-name-submit" value="'+(null==(__t=obj.getResource("button_sendEmail"))?"":_.escape(__t))+'">\r\n    <p class="purechat-email-error purechat-alert purechat-alert-error purechat-init-error purechat-display-none">Unable to send, please try again.</p>\r\n    ':__p+='\r\n    <input type="submit" class="purechat-btn" id="purechat-name-submit" value="'+(null==(__t=obj.getResource("button_startChat"))?"":_.escape(__t))+'">\r\n    ',__p+='\r\n    <p class="purechat-alert purechat-alert-error purechat-init-error general-error purechat-display-none"></p>\r\n</form>';return __p}}).call(this,__webpack_require__(6))},function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="purechat-widget-content '+(null==(__t=obj.isMobile()?"purechat-mobile fake-chat":"")?"":__t)+'" style="">\r\n\t<div class="purechat-message-list-view">\r\n\t\t<div class="purechat-message-display-container">\r\n\t\t\t<div class="purechat-message-display purechat-clearfix">\r\n\t\t\t\t<div class="purechat-message-wrapper purechat-clearfix">\r\n\t\t\t\t\t<div data-resourcekey="" class="purechat-message-container purechat-message-left">\r\n\t\t\t\t\t\t',obj.isMobile()&&(__p+='\r\n\t\t\t\t\t\t<img class="gravitar purechat-operator-gravatar left" height="50" width="50" src="'+(null==(__t=obj.personalAvatarUrl())?"":__t)+'" alt=""/>\r\n\t\t\t\t\t\t'),__p+='\r\n\r\n\t\t\t\t\t\t<div class="purechat-timestamp">\r\n\t\t\t\t\t\t\t<span class="purechat-time">&nbsp;</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="purechat-message" style="margin-right: 0;">\r\n\t\t\t\t\t\t\t<span class="purechat-message-actual">\r\n\t\t\t\t\t\t\t\t<span class="purechat-new-thought">'+(null==(__t=obj.getResource("chat_startedMessage"))?"":_.escape(__t))+'</span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="purechat-send-form-container">\r\n\t\t\t<div class="purechat-user-status"><span>'+(null==(__t=obj.getResource("chat_idleText"))?"":_.escape(__t))+'</span></div>\r\n\t\t\t<form class="purechat-send-form purechat-form" action="">\r\n\t\t\t\t<textarea class="purechat-send-form-message purechat-question-input" name="purechat-question-input" id="purechat-question-input" placeholder="'+(null==(__t=obj.getResource("chat_pressEnter"))?"":_.escape(__t))+'" rows="1">'+(null==(__t=obj.InitialVisitorQuestion)?"":__t)+"</textarea>\r\n\t\t\t\t",obj.isMobile()&&(__p+='\r\n\t\t\t\t<button type="submit" class="button green send-message">\r\n\t\t\t\t\tSend\r\n\t\t\t\t</button>\r\n\t\t\t\t'),__p+='\r\n\t\t\t\t<p class="purechat-alert purechat-alert-error purechat-init-error general-error purechat-display-none"></p>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t\t<div class="purechat-confirm-close-modal purechat-display-none">\r\n\t\t\t<span class="message">Are you sure you want to close the chat?</span><div class="modal-button-bar">\r\n\t\t\t\t<button type="button" class="purechat-btn kill-chat">Yes</button><button type="button" class="purechat-btn cancel">No</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n';return __p}}).call(this,__webpack_require__(6))},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<p class="purechat-message-note purechat-unitalic">\r\n\tSorry, but it appears that you are using a browser that is incompatible with Pure Chat\'s technology. 😢\r\n</p>\r\n<p class="purechat-message-note purechat-unitalic">\r\n\tIn order to use Pure Chat\'s live chat capabilities, please upgrade your browser to a newer version, or use one of these recommended alternative browsers:\r\n\t<ul>\r\n\t\t<li>\r\n\t\t\t<a href="https://www.google.com/chrome" target="_blank">\r\n\t\t\t\tGoogle Chrome\r\n\t\t\t</a>\r\n\t\t</li>\r\n\t\t<li>\r\n\t\t\t<a href="https://www.mozilla.org/firefox/new" target="_blank">\r\n\t\t\t\tMozilla Firefox\r\n\t\t\t</a>\r\n\t\t</li>\r\n\t</ul>\r\n</p>';return __p}},function(t,e,n){var r=n(279);"string"==typeof r&&(r=[[t.i,r,""]]);var i={attributes:{id:"pcwidget-styles"},insert:"head",singleton:!1};n(281)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){var r;
/*!
 * UAParser.js v0.7.20
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright © 2012-2019 Faisal Salman <f@faisalman.com>
 * Licensed under MIT License
 */!function(i,o){"use strict";var a="model",s="name",c="type",l="vendor",u="version",p="mobile",h="tablet",d={extend:function(t,e){var n={};for(var r in t)e[r]&&e[r].length%2==0?n[r]=e[r].concat(t[r]):n[r]=t[r];return n},has:function(t,e){return"string"==typeof t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},lowerize:function(t){return t.toLowerCase()},major:function(t){return"string"==typeof t?t.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},g={rgx:function(t,e){for(var n,r,i,o,a,s,c=0;c<e.length&&!a;){var l=e[c],u=e[c+1];for(n=r=0;n<l.length&&!a;)if(a=l[n++].exec(t))for(i=0;i<u.length;i++)s=a[++r],"object"==typeof(o=u[i])&&o.length>0?2==o.length?"function"==typeof o[1]?this[o[0]]=o[1].call(this,s):this[o[0]]=o[1]:3==o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=s?s.replace(o[1],o[2]):void 0:this[o[0]]=s?o[1].call(this,s,o[2]):void 0:4==o.length&&(this[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):void 0):this[o]=s||void 0;c+=2}},str:function(t,e){for(var n in e)if("object"==typeof e[n]&&e[n].length>0){for(var r=0;r<e[n].length;r++)if(d.has(e[n][r],t))return"?"===n?void 0:n}else if(d.has(e[n],t))return"?"===n?void 0:n;return t}},m={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},f={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[s,u],[/(opios)[\/\s]+([\w\.]+)/i],[[s,"Opera Mini"],u],[/\s(opr)\/([\w\.]+)/i],[[s,"Opera"],u],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[s,u],[/(konqueror)\/([\w\.]+)/i],[[s,"Konqueror"],u],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[s,"IE"],u],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[s,"Edge"],u],[/(yabrowser)\/([\w\.]+)/i],[[s,"Yandex"],u],[/(puffin)\/([\w\.]+)/i],[[s,"Puffin"],u],[/(focus)\/([\w\.]+)/i],[[s,"Firefox Focus"],u],[/(opt)\/([\w\.]+)/i],[[s,"Opera Touch"],u],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[s,"UCBrowser"],u],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],u],[/(windowswechat qbcore)\/([\w\.]+)/i],[[s,"WeChat(Win) Desktop"],u],[/(micromessenger)\/([\w\.]+)/i],[[s,"WeChat"],u],[/(brave)\/([\w\.]+)/i],[[s,"Brave"],u],[/(qqbrowserlite)\/([\w\.]+)/i],[s,u],[/(QQ)\/([\d\.]+)/i],[s,u],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[s,u],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[s,u],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[s,u],[/(MetaSr)[\/\s]?([\w\.]+)/i],[s],[/(LBBROWSER)/i],[s],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[u,[s,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[u,[s,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[s,u],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[u,[s,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[s,/(.+)/,"$1 WebView"],u],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[s,/(.+(?:g|us))(.+)/,"$1 $2"],u],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[u,[s,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[s,"Sailfish Browser"],u],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[s,u],[/(dolfin)\/([\w\.]+)/i],[[s,"Dolphin"],u],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[s,"Chrome"],u],[/(coast)\/([\w\.]+)/i],[[s,"Opera Coast"],u],[/fxios\/([\w\.-]+)/i],[u,[s,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[u,[s,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[u,s],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[s,"GSA"],u],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[s,[u,g.str,m.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[s,u],[/(navigator|netscape)\/([\w\.-]+)/i],[[s,"Netscape"],u],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[s,u]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",d.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",d.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",d.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[a,l,[c,h]],[/applecoremedia\/[\w\.]+ \((ipad)/],[a,[l,"Apple"],[c,h]],[/(apple\s{0,1}tv)/i],[[a,"Apple TV"],[l,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[l,a,[c,h]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[a,[l,"Amazon"],[c,h]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[a,g.str,m.device.amazon.model],[l,"Amazon"],[c,p]],[/android.+aft([bms])\sbuild/i],[a,[l,"Amazon"],[c,"smarttv"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[a,l,[c,p]],[/\((ip[honed|\s\w*]+);/i],[a,[l,"Apple"],[c,p]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[l,a,[c,p]],[/\(bb10;\s(\w+)/i],[a,[l,"BlackBerry"],[c,p]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[a,[l,"Asus"],[c,h]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[l,"Sony"],[a,"Xperia Tablet"],[c,h]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[a,[l,"Sony"],[c,p]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[l,a,[c,"console"]],[/android.+;\s(shield)\sbuild/i],[a,[l,"Nvidia"],[c,"console"]],[/(playstation\s[34portablevi]+)/i],[a,[l,"Sony"],[c,"console"]],[/(sprint\s(\w+))/i],[[l,g.str,m.device.sprint.vendor],[a,g.str,m.device.sprint.model],[c,p]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[l,[a,/_/g," "],[c,p]],[/(nexus\s9)/i],[a,[l,"HTC"],[c,h]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[a,[l,"Huawei"],[c,p]],[/(microsoft);\s(lumia[\s\w]+)/i],[l,a,[c,p]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[a,[l,"Microsoft"],[c,"console"]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[l,"Microsoft"],[c,p]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[a,[l,"Motorola"],[c,p]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[a,[l,"Motorola"],[c,h]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[l,d.trim],[a,d.trim],[c,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[l,"Samsung"],[c,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[a,[l,"Sharp"],[c,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[l,"Samsung"],a,[c,h]],[/smart-tv.+(samsung)/i],[l,[c,"smarttv"],a],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[l,"Samsung"],a,[c,p]],[/sie-(\w*)/i],[a,[l,"Siemens"],[c,p]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[l,"Nokia"],a,[c,p]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[a,[l,"Acer"],[c,h]],[/android.+([vl]k\-?\d{3})\s+build/i],[a,[l,"LG"],[c,h]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[l,"LG"],a,[c,h]],[/(lg) netcast\.tv/i],[l,a,[c,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[a,[l,"LG"],[c,p]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[l,a,[c,h]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[a,[l,"Lenovo"],[c,h]],[/(lenovo)[_\s-]?([\w-]+)/i],[l,a,[c,p]],[/linux;.+((jolla));/i],[l,a,[c,p]],[/((pebble))app\/[\d\.]+\s/i],[l,a,[c,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[l,a,[c,p]],[/crkey/i],[[a,"Chromecast"],[l,"Google"]],[/android.+;\s(glass)\s\d/i],[a,[l,"Google"],[c,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[a,[l,"Google"],[c,h]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[a,[l,"Google"],[c,p]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[a,/_/g," "],[l,"Xiaomi"],[c,p]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[a,/_/g," "],[l,"Xiaomi"],[c,h]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[a,[l,"Meizu"],[c,p]],[/(mz)-([\w-]{2,})/i],[[l,"Meizu"],a,[c,p]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[a,[l,"OnePlus"],[c,p]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[a,[l,"RCA"],[c,h]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[a,[l,"Dell"],[c,h]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[a,[l,"Verizon"],[c,h]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[l,"Barnes & Noble"],a,[c,h]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[a,[l,"NuVision"],[c,h]],[/android.+;\s(k88)\sbuild/i],[a,[l,"ZTE"],[c,h]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[a,[l,"Swiss"],[c,p]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[a,[l,"Swiss"],[c,h]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[a,[l,"Zeki"],[c,h]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[l,"Dragon Touch"],a,[c,h]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[a,[l,"Insignia"],[c,h]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[a,[l,"NextBook"],[c,h]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[l,"Voice"],a,[c,p]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[l,"LvTel"],a,[c,p]],[/android.+;\s(PH-1)\s/i],[a,[l,"Essential"],[c,p]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[a,[l,"Envizen"],[c,h]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[l,a,[c,h]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[a,[l,"MachSpeed"],[c,h]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[l,a,[c,h]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[a,[l,"Rotor"],[c,h]],[/android.+(KS(.+))\s+build/i],[a,[l,"Amazon"],[c,h]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[l,a,[c,h]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,d.lowerize],l,a],[/[\s\/\(](smart-?tv)[;\)]/i],[[c,"smarttv"]],[/(android[\w\.\s\-]{0,9});.+build/i],[a,[l,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[u,[s,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)/i],[[s,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[s,u],[/rv\:([\w\.]{1,9}).+(gecko)/i],[u,s]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[s,u],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[s,[u,g.str,m.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[s,"Windows"],[u,g.str,m.os.windows.version]],[/\((bb)(10);/i],[[s,"BlackBerry"],u],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[s,u],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[s,"Symbian"],u],[/\((series40);/i],[s],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[s,"Firefox OS"],u],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[s,u],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[s,"Chromium OS"],u],[/(sunos)\s?([\w\.\d]*)/i],[[s,"Solaris"],u],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[s,u],[/(haiku)\s(\w+)/i],[s,u],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[u,/_/g,"."],[s,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[s,"Mac OS"],[u,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[s,u]]},y=function(t,e){if("object"==typeof t&&(e=t,t=void 0),!(this instanceof y))return new y(t,e).getResult();var n=t||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=e?d.extend(f,e):f;return this.getBrowser=function(){var t={name:void 0,version:void 0};return g.rgx.call(t,n,r.browser),t.major=d.major(t.version),t},this.getCPU=function(){var t={architecture:void 0};return g.rgx.call(t,n,r.cpu),t},this.getDevice=function(){var t={vendor:void 0,model:void 0,type:void 0};return g.rgx.call(t,n,r.device),t},this.getEngine=function(){var t={name:void 0,version:void 0};return g.rgx.call(t,n,r.engine),t},this.getOS=function(){var t={name:void 0,version:void 0};return g.rgx.call(t,n,r.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(t){return n=t,this},this};y.VERSION="0.7.20",y.BROWSER={NAME:s,MAJOR:"major",VERSION:u},y.CPU={ARCHITECTURE:"architecture"},y.DEVICE={MODEL:a,VENDOR:l,TYPE:c,CONSOLE:"console",MOBILE:p,SMARTTV:"smarttv",TABLET:h,WEARABLE:"wearable",EMBEDDED:"embedded"},y.ENGINE={NAME:s,VERSION:u},y.OS={NAME:s,VERSION:u},void 0!==e?(void 0!==t&&t.exports&&(e=t.exports=y),e.UAParser=y):void 0===(r=function(){return y}.call(e,n,e,t))||(t.exports=r);var b=i&&(i.jQuery||i.Zepto);if(void 0!==b&&!b.ua){var v=new y;b.ua=v.getResult(),b.ua.get=function(){return v.getUA()},b.ua.set=function(t){v.setUA(t);var e=v.getResult();for(var n in e)b.ua[n]=e[n]}}}("object"==typeof window?window:this)},function(t,e,n){t.exports=n.p+"Baby-Chicks.2e1584e1166c06b09f70.png"},function(t,e,n){t.exports=n.p+"Baby-Otter.f50a71e0bf0cf6020795.png"},function(t,e,n){t.exports=n.p+"Baby-Panda.9999869ff088eeb6788c.png"},function(t,e,n){t.exports=n.p+"Bunny.baa327a9480ab3caff9f.png"},function(t,e,n){t.exports=n.p+"Kitten.3664ab124de3af1cae0b.png"},function(t,e,n){t.exports=n.p+"Puppy.c80bf1f5f5d5870fc0f3.png"},function(t,e,n){t.exports=n.p+"Black-LiveChat-Bubble.01f25863746c218f9ad2.png"},function(t,e,n){t.exports=n.p+"Blue-LiveChat-Bubble.e3258251b31dfd2aba56.png"},function(t,e,n){t.exports=n.p+"chat-01.de1e2b5a199e84bf7c56.png"},function(t,e,n){t.exports=n.p+"chinese.6084ba50f4a88dce7d39.png"},function(t,e,n){t.exports=n.p+"Contact-01.26cbfe1f7fe916e186a5.png"},function(t,e,n){t.exports=n.p+"email.3a5bee27873d147010ef.png"},function(t,e,n){t.exports=n.p+"Female-Hello.2fe08465838e9d59a1e4.png"},function(t,e,n){t.exports=n.p+"Female-Support2.02012942677aefd6933c.png"},function(t,e,n){t.exports=n.p+"Female-Support.c2992c408baeb074b56f.png"},function(t,e,n){t.exports=n.p+"Female-ThumbsUp.3d769dfd56677cd94459.png"},function(t,e,n){t.exports=n.p+"french.8c96502a60fb9f958846.png"},function(t,e,n){t.exports=n.p+"german.1f1a80eb30bb8445f41f.png"},function(t,e,n){t.exports=n.p+"Global-01.2469d4726bb7a95eca6c.png"},function(t,e,n){t.exports=n.p+"hello.ac280e23f8045df2f923.png"},function(t,e,n){t.exports=n.p+"Info-01.6a32e4328c6e6120b1ba.png"},function(t,e,n){t.exports=n.p+"italian.f0b97a60df8cb530cf38.png"},function(t,e,n){t.exports=n.p+"japanese.1982203ce8e4308ed240.png"},function(t,e,n){t.exports=n.p+"Male-Hello.6a683b8425315694bdc4.png"},function(t,e,n){t.exports=n.p+"Male-Support2.b9d3244b0d750252be8d.png"},function(t,e,n){t.exports=n.p+"Male-Support.f7e90892ecced395019d.png"},function(t,e,n){t.exports=n.p+"Male-ThumbsUp.ff81642196786faad399.png"},function(t,e,n){t.exports=n.p+"PC-Bubble.6aadc82953ab9ea31ee8.png"},function(t,e,n){t.exports=n.p+"portugese.3b2b95d0ae5bdedfa9db.png"},function(t,e,n){t.exports=n.p+"Red-LiveChat-Bubble.a4ad6b30018adf6410c5.png"},function(t,e,n){t.exports=n.p+"romanian.e9bad4edf7ed0dc5bb52.png"},function(t,e,n){t.exports=n.p+"russian.67146a38b196b537ce9f.png"},function(t,e,n){t.exports=n.p+"snowman.51362f6d4875fdb2406e.png"},function(t,e,n){t.exports=n.p+"spanish.c1fabaeb81f83ee3f3db.png"},function(t,e,n){t.exports=n.p+"White-LiveChat-Bubble.913a13d4cf739e3964c1.png"},function(t,e,n){t.exports=n.p+"black-chat-bubble.140bfd532eb4c330f5f1.png"},function(t,e,n){t.exports=n.p+"black-circle-hi.27845211629f5dbb1bbf.png"},function(t,e,n){t.exports=n.p+"black-decorative-pointer.d0106606e7bd4fb0e141.png"},function(t,e,n){t.exports=n.p+"black-pointer.f8cf81062cdeed577834.png"},function(t,e,n){t.exports=n.p+"blue-chat.c7c247e3dd6ab71587e4.png"},function(t,e,n){t.exports=n.p+"blue-circle-hi.1432ae3e5c5185f33393.png"},function(t,e,n){t.exports=n.p+"blue-decorative-pointer.d67b8268e2fb6f2954f5.png"},function(t,e,n){t.exports=n.p+"blue-pin.c0ac54b050f9b975269d.png"},function(t,e,n){t.exports=n.p+"bubbles-black.ad9e523d6088fdd1d0e3.png"},function(t,e,n){t.exports=n.p+"bubbles-blue.b5448c542bc95c17c7a4.png"},function(t,e,n){t.exports=n.p+"bubbles-teal.f74ba1fa8c0e9764ce03.png"},function(t,e,n){t.exports=n.p+"bubbles-white.5f3b5beafc984f0b431c.png"},function(t,e,n){t.exports=n.p+"bubble-white.5056fc05bea86b6e3d66.png"},function(t,e,n){t.exports=n.p+"chat-with-us-tab.1652830788465918e7fc.png"},function(t,e,n){t.exports=n.p+"green-pin.c8859c923282db90a299.png"},function(t,e,n){t.exports=n.p+"green-tab.560e5226c78f59594607.png"},function(t,e,n){t.exports=n.p+"navy-chat.f0d036ab99f585d67e89.png"},function(t,e,n){t.exports=n.p+"red-chat-bubble.425c46d6538aff8814dc.png"},function(t,e,n){t.exports=n.p+"red-circle-hi.ed1b785189bf84e84683.png"},function(t,e,n){t.exports=n.p+"red-decorative-pointer.be476437f6c394c79c94.png"},function(t,e,n){t.exports=n.p+"red-pin.84455e8d628c9dafbdf2.png"},function(t,e,n){t.exports=n.p+"teal-chat-bubble.19bc9a709fe1a3d1029f.png"},function(t,e,n){t.exports=n.p+"white-pointer.393e47f92f9d1ebe17b6.png"},function(t,e,n){t.exports=n.p+"yellow-tab.a610a3fc26aa76452ef3.png"},function(t,e,n){t.exports=n.p+"operator-person-1.68594a7540559e7ec850.png"},function(t,e,n){t.exports=n.p+"operator-person-2.1b1478de00627e85d88e.png"},function(t,e,n){t.exports=n.p+"operator-tab.796705872aab8c95a4db.png"},function(t,e,n){t.exports=n.p+"support-circle-grey.4d2f2dff018180ce6e33.png"},function(t,e,n){t.exports=n.p+"support-circle-white.b3b64c2d7e7c5ef9aa80.png"},function(t,e,n){t.exports=n.p+"CS-F-01.b27a6ce4e9600d13be1a.png"},function(t,e,n){t.exports=n.p+"CS-G-01.6c29c20e016e15fd3ce2.png"},function(t,e,n){t.exports=n.p+"CS-M-01.37c6f9119b43eab4d9e3.png"},,,function(t,e,n){n(208),t.exports=n(282)},function(t,e,n){var r=n(209);n(247),n(248),n(249),n(250),t.exports=r},function(t,e,n){n(210),n(215),n(231),n(235),n(99),n(246);var r=n(85);t.exports=r.Promise},function(t,e,n){var r=n(54),i=n(33),o=n(214);r||i(Object.prototype,"toString",o,{unsafe:!0})},function(t,e,n){var r=n(12),i=n(56),o=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},function(t,e,n){var r=n(82);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol()},function(t,e,n){var r=n(12),i=n(58),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},function(t,e,n){"use strict";var r=n(54),i=n(83);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,n){"use strict";var r=n(216).charAt,i=n(39),o=n(84),a=i.set,s=i.getterFor("String Iterator");o(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=s(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(61),i=n(62),o=function(t){return function(e,n){var o,a,s=String(i(e)),c=r(n),l=s.length;return c<0||c>=l?t?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):o:t?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(23),i=n(40),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(20),i=n(220),o=n(63),a=n(32);t.exports=function(t,e){for(var n=i(e),s=a.f,c=o.f,l=0;l<n.length;l++){var u=n[l];r(t,u)||s(t,u,c(e,u))}}},function(t,e,n){var r=n(29),i=n(221),o=n(224),a=n(19);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(86),i=n(64).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(46),i=n(87),o=n(223),a=function(t){return function(e,n,a){var s,c=r(e),l=i(c.length),u=o(a,l);if(t&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var r=n(61),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";var r=n(89).IteratorPrototype,i=n(66),o=n(45),a=n(67),s=n(41),c=function(){return this};t.exports=function(t,e,n){var l=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),a(t,l,!1,!0),s[l]=c,t}},function(t,e,n){var r=n(62);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(23);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(26),i=n(32),o=n(19),a=n(229);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=a(e),s=r.length,c=0;s>c;)i.f(t,n=r[c++],e[n]);return t}},function(t,e,n){var r=n(86),i=n(64);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(27);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var r=n(12),i=n(232),o=n(233),a=n(18),s=n(14),c=s("iterator"),l=s("toStringTag"),u=o.values;for(var p in i){var h=r[p],d=h&&h.prototype;if(d){if(d[c]!==u)try{a(d,c,u)}catch(t){d[c]=u}if(d[l]||a(d,l,p),i[p])for(var g in o)if(d[g]!==o[g])try{a(d,g,o[g])}catch(t){d[g]=o[g]}}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){"use strict";var r=n(46),i=n(234),o=n(41),a=n(39),s=n(84),c=a.set,l=a.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,e){c(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){var r=n(14),i=n(66),o=n(18),a=r("unscopables"),s=Array.prototype;null==s[a]&&o(s,a,i(null)),t.exports=function(t){s[a][t]=!0}},function(t,e,n){"use strict";var r,i,o,a,s=n(28),c=n(38),l=n(12),u=n(29),p=n(92),h=n(33),d=n(236),g=n(67),m=n(237),f=n(27),y=n(34),b=n(238),v=n(40),w=n(58),_=n(47),C=n(242),I=n(94),x=n(95).set,k=n(243),j=n(98),S=n(244),A=n(42),T=n(48),O=n(39),P=n(88),R=n(14),M=n(245),W=R("species"),E="Promise",N=O.get,D=O.set,U=O.getterFor(E),B=p,Z=l.TypeError,H=l.document,V=l.process,z=u("fetch"),L=A.f,F=L,Y="process"==v(V),G=!!(H&&H.createEvent&&l.dispatchEvent),X=P(E,(function(){if(!(w(B)!==String(B))){if(66===M)return!0;if(!Y&&"function"!=typeof PromiseRejectionEvent)return!0}if(c&&!B.prototype.finally)return!0;if(M>=51&&/native code/.test(B))return!1;var t=B.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[W]=e,!(t.then((function(){}))instanceof e)})),J=X||!C((function(t){B.all(t).catch((function(){}))})),q=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},$=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;k((function(){for(var i=e.value,o=1==e.state,a=0;r.length>a;){var s,c,l,u=r[a++],p=o?u.ok:u.fail,h=u.resolve,d=u.reject,g=u.domain;try{p?(o||(2===e.rejection&&et(t,e),e.rejection=1),!0===p?s=i:(g&&g.enter(),s=p(i),g&&(g.exit(),l=!0)),s===u.promise?d(Z("Promise-chain cycle")):(c=q(s))?c.call(s,h,d):h(s)):d(i)}catch(t){g&&!l&&g.exit(),d(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&K(t,e)}))}},Q=function(t,e,n){var r,i;G?((r=H.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),l.dispatchEvent(r)):r={promise:e,reason:n},(i=l["on"+t])?i(r):"unhandledrejection"===t&&S("Unhandled promise rejection",n)},K=function(t,e){x.call(l,(function(){var n,r=e.value;if(tt(e)&&(n=T((function(){Y?V.emit("unhandledRejection",r,t):Q("unhandledrejection",t,r)})),e.rejection=Y||tt(e)?2:1,n.error))throw n.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){x.call(l,(function(){Y?V.emit("rejectionHandled",t):Q("rejectionhandled",t,e.value)}))},nt=function(t,e,n,r){return function(i){t(e,n,i,r)}},rt=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,$(t,e,!0))},it=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw Z("Promise can't be resolved itself");var i=q(n);i?k((function(){var r={done:!1};try{i.call(n,nt(it,t,r,e),nt(rt,t,r,e))}catch(n){rt(t,r,n,e)}})):(e.value=n,e.state=1,$(t,e,!1))}catch(n){rt(t,{done:!1},n,e)}}};X&&(B=function(t){b(this,B,E),y(t),r.call(this);var e=N(this);try{t(nt(it,this,e),nt(rt,this,e))}catch(t){rt(this,e,t)}},(r=function(t){D(this,{type:E,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(B.prototype,{then:function(t,e){var n=U(this),r=L(I(this,B));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=Y?V.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&$(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=N(t);this.promise=t,this.resolve=nt(it,t,e),this.reject=nt(rt,t,e)},A.f=L=function(t){return t===B||t===o?new i(t):F(t)},c||"function"!=typeof p||(a=p.prototype.then,h(p.prototype,"then",(function(t,e){var n=this;return new B((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof z&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return j(B,z.apply(l,arguments))}}))),s({global:!0,wrap:!0,forced:X},{Promise:B}),g(B,E,!1,!0),m(E),o=u(E),s({target:E,stat:!0,forced:X},{reject:function(t){var e=L(this);return e.reject.call(void 0,t),e.promise}}),s({target:E,stat:!0,forced:c||X},{resolve:function(t){return j(c&&this===o?B:this,t)}}),s({target:E,stat:!0,forced:J},{all:function(t){var e=this,n=L(e),r=n.resolve,i=n.reject,o=T((function(){var n=y(e.resolve),o=[],a=0,s=1;_(t,(function(t){var c=a++,l=!1;o.push(void 0),s++,n.call(e,t).then((function(t){l||(l=!0,o[c]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=L(e),r=n.reject,i=T((function(){var i=y(e.resolve);_(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(t,e,n){var r=n(33);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){"use strict";var r=n(29),i=n(32),o=n(14),a=n(26),s=o("species");t.exports=function(t){var e=r(t),n=i.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(14),i=n(41),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},function(t,e,n){var r=n(83),i=n(41),o=n(14)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(19);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(14)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},function(t,e,n){var r,i,o,a,s,c,l,u,p=n(12),h=n(63).f,d=n(40),g=n(95).set,m=n(96),f=p.MutationObserver||p.WebKitMutationObserver,y=p.process,b=p.Promise,v="process"==d(y),w=h(p,"queueMicrotask"),_=w&&w.value;_||(r=function(){var t,e;for(v&&(t=y.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?a():o=void 0,t}}o=void 0,t&&t.enter()},v?a=function(){y.nextTick(r)}:f&&!m?(s=!0,c=document.createTextNode(""),new f(r).observe(c,{characterData:!0}),a=function(){c.data=s=!s}):b&&b.resolve?(l=b.resolve(void 0),u=l.then,a=function(){u.call(l,r)}):a=function(){g.call(p,r)}),t.exports=_||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},function(t,e,n){var r=n(12);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e,n){var r,i,o=n(12),a=n(97),s=o.process,c=s&&s.versions,l=c&&c.v8;l?i=(r=l.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},function(t,e,n){"use strict";var r=n(28),i=n(38),o=n(92),a=n(23),s=n(29),c=n(94),l=n(98),u=n(33);r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,s("Promise")),n="function"==typeof t;return this.then(n?function(n){return l(e,t()).then((function(){return n}))}:t,n?function(n){return l(e,t()).then((function(){throw n}))}:t)}}),i||"function"!=typeof o||o.prototype.finally||u(o.prototype,"finally",s("Promise").prototype.finally)},function(t,e,n){"use strict";var r=n(28),i=n(26),o=n(65),a=n(91),s=n(66),c=n(32),l=n(45),u=n(47),p=n(18),h=n(39),d=h.set,g=h.getterFor("AggregateError"),m=function(t,e){var n=this;if(!(n instanceof m))return new m(t,e);a&&(n=a(new Error(e),o(n)));var r=[];return u(t,r.push,r),i?d(n,{errors:r,type:"AggregateError"}):n.errors=r,void 0!==e&&p(n,"message",String(e)),n};m.prototype=s(Error.prototype,{constructor:l(5,m),message:l(5,""),name:l(5,"AggregateError")}),i&&c.f(m.prototype,"errors",{get:function(){return g(this).errors},configurable:!0}),r({global:!0},{AggregateError:m})},function(t,e,n){n(99)},function(t,e,n){"use strict";var r=n(28),i=n(42),o=n(48);r({target:"Promise",stat:!0},{try:function(t){var e=i.f(this),n=o(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}})},function(t,e,n){"use strict";var r=n(28),i=n(34),o=n(29),a=n(42),s=n(48),c=n(47);r({target:"Promise",stat:!0},{any:function(t){var e=this,n=a.f(e),r=n.resolve,l=n.reject,u=s((function(){var n=i(e.resolve),a=[],s=0,u=1,p=!1;c(t,(function(t){var i=s++,c=!1;a.push(void 0),u++,n.call(e,t).then((function(t){c||p||(p=!0,r(t))}),(function(t){c||p||(c=!0,a[i]=t,--u||l(new(o("AggregateError"))(a,"No one promise resolved")))}))})),--u||l(new(o("AggregateError"))(a,"No one promise resolved"))}));return u.error&&l(u.value),n.promise}})},function(t,e,n){var r,i,o;i=[e,n(43),n(6)],void 0===(o="function"==typeof(r=function(t,e,n){"use strict";e.Relational={showWarnings:!0},e.Semaphore={_permitsAvailable:null,_permitsUsed:0,acquire:function(){if(this._permitsAvailable&&this._permitsUsed>=this._permitsAvailable)throw new Error("Max permits acquired");this._permitsUsed++},release:function(){if(0===this._permitsUsed)throw new Error("All permits released");this._permitsUsed--},isLocked:function(){return this._permitsUsed>0},setAvailablePermits:function(t){if(this._permitsUsed>t)throw new Error("Available permits cannot be less than used permits");this._permitsAvailable=t}},e.BlockingQueue=function(){this._queue=[]},n.extend(e.BlockingQueue.prototype,e.Semaphore,{_queue:null,add:function(t){this.isBlocked()?this._queue.push(t):t()},process:function(){var t=this._queue;for(this._queue=[];t&&t.length;)t.shift()()},block:function(){this.acquire()},unblock:function(){this.release(),this.isBlocked()||this.process()},isBlocked:function(){return this.isLocked()}}),e.Relational.eventQueue=new e.BlockingQueue,e.Store=function(){this._collections=[],this._reverseRelations=[],this._orphanRelations=[],this._subModels=[],this._modelScopes=[t]},n.extend(e.Store.prototype,e.Events,{initializeRelation:function(t,r,i){var o=n.isString(r.type)?e[r.type]||this.getObjectByName(r.type):r.type;o&&o.prototype instanceof e.Relation?new o(t,r,i):e.Relational.showWarnings&&"undefined"!=typeof console&&console.warn("Relation=%o; missing or invalid relation type!",r)},addModelScope:function(t){this._modelScopes.push(t)},removeModelScope:function(t){this._modelScopes=n.without(this._modelScopes,t)},addSubModels:function(t,e){this._subModels.push({superModelType:e,subModels:t})},setupSuperModel:function(t){n.find(this._subModels,(function(e){return n.filter(e.subModels||[],(function(n,r){var i=this.getObjectByName(n);if(t===i)return e.superModelType._subModels[r]=t,t._superModel=e.superModelType,t._subModelTypeValue=r,t._subModelTypeAttribute=e.superModelType.prototype.subModelTypeAttribute,!0}),this).length}),this)},addReverseRelation:function(t){!n.any(this._reverseRelations,(function(e){return n.all(t||[],(function(t,n){return t===e[n]}))}))&&t.model&&t.type&&(this._reverseRelations.push(t),this._addRelation(t.model,t),this.retroFitRelation(t))},addOrphanRelation:function(t){!n.any(this._orphanRelations,(function(e){return n.all(t||[],(function(t,n){return t===e[n]}))}))&&t.model&&t.type&&this._orphanRelations.push(t)},processOrphanRelations:function(){n.each(this._orphanRelations.slice(0),(function(t){e.Relational.store.getObjectByName(t.relatedModel)&&(this.initializeRelation(null,t),this._orphanRelations=n.without(this._orphanRelations,t))}),this)},_addRelation:function(t,e){t.prototype.relations||(t.prototype.relations=[]),t.prototype.relations.push(e),n.each(t._subModels||[],(function(t){this._addRelation(t,e)}),this)},retroFitRelation:function(t){var e=this.getCollection(t.model,!1);e&&e.each((function(e){e instanceof t.model&&new t.type(e,t)}),this)},getCollection:function(t,r){t instanceof e.RelationalModel&&(t=t.constructor);for(var i=t;i._superModel;)i=i._superModel;var o=n.find(this._collections,(function(t){return t.model===i}));return o||!1===r||(o=this._createCollection(i)),o},getObjectByName:function(t){var e=t.split("."),r=null;return n.find(this._modelScopes,(function(t){if((r=n.reduce(e||[],(function(t,e){return t?t[e]:void 0}),t))&&r!==t)return!0}),this),r},_createCollection:function(t){var n;return t instanceof e.RelationalModel&&(t=t.constructor),t.prototype instanceof e.RelationalModel&&((n=new e.Collection).model=t,this._collections.push(n)),n},resolveIdForItem:function(t,r){var i=n.isString(r)||n.isNumber(r)?r:null;return null===i&&(r instanceof e.RelationalModel?i=r.id:n.isObject(r)&&(i=r[t.prototype.idAttribute])),i||0===i||(i=null),i},find:function(t,e){var n=this.resolveIdForItem(t,e),r=this.getCollection(t);if(r){var i=r.get(n);if(i instanceof t)return i}return null},register:function(t){var e=this.getCollection(t);if(e){var n=t.collection;e.add(t),t.collection=n}},checkId:function(t,n){var r=this.getCollection(t),i=r&&r.get(n);if(i&&t!==i)throw e.Relational.showWarnings&&"undefined"!=typeof console&&console.warn("Duplicate id! Old RelationalModel=%o, new RelationalModel=%o",i,t),new Error("Cannot instantiate more than one Backbone.RelationalModel with the same id per type!")},update:function(t){var e=this.getCollection(t);e.contains(t)||this.register(t),e._onModelEvent("change:"+t.idAttribute,t,e),t.trigger("relational:change:id",t,e)},unregister:function(t){var r,i;t instanceof e.Model?(r=this.getCollection(t),i=[t]):t instanceof e.Collection?(r=this.getCollection(t.model),i=n.clone(t.models)):(r=this.getCollection(t),i=n.clone(r.models)),n.each(i,(function(t){this.stopListening(t),n.invoke(t.getRelations(),"stopListening")}),this),n.contains(this._collections,t)?r.reset([]):n.each(i,(function(t){r.get(t)?r.remove(t):r.trigger("relational:remove",t,r)}),this)},reset:function(){this.stopListening(),n.each(this._collections,(function(t){this.unregister(t)}),this),this._collections=[],this._subModels=[],this._modelScopes=[t]}}),e.Relational.store=new e.Store,e.Relation=function(t,r,i){if(this.instance=t,r=n.isObject(r)?r:{},this.reverseRelation=n.defaults(r.reverseRelation||{},this.options.reverseRelation),this.options=n.defaults(r,this.options,e.Relation.prototype.options),this.reverseRelation.type=n.isString(this.reverseRelation.type)?e[this.reverseRelation.type]||e.Relational.store.getObjectByName(this.reverseRelation.type):this.reverseRelation.type,this.key=this.options.key,this.keySource=this.options.keySource||this.key,this.keyDestination=this.options.keyDestination||this.keySource||this.key,this.model=this.options.model||this.instance.constructor,this.relatedModel=this.options.relatedModel,n.isUndefined(this.relatedModel)&&(this.relatedModel=this.model),!n.isFunction(this.relatedModel)||this.relatedModel.prototype instanceof e.RelationalModel||(this.relatedModel=n.result(this,"relatedModel")),n.isString(this.relatedModel)&&(this.relatedModel=e.Relational.store.getObjectByName(this.relatedModel)),this.checkPreconditions()&&(!this.options.isAutoRelation&&this.reverseRelation.type&&this.reverseRelation.key&&e.Relational.store.addReverseRelation(n.defaults({isAutoRelation:!0,model:this.relatedModel,relatedModel:this.model,reverseRelation:this.options},this.reverseRelation)),t)){var o=this.keySource;o!==this.key&&n.isObject(this.instance.get(this.key))&&(o=this.key),this.setKeyContents(this.instance.get(o)),this.relatedCollection=e.Relational.store.getCollection(this.relatedModel),this.keySource!==this.key&&delete this.instance.attributes[this.keySource],this.instance._relations[this.key]=this,this.initialize(i),this.options.autoFetch&&this.instance.getAsync(this.key,n.isObject(this.options.autoFetch)?this.options.autoFetch:{}),this.listenTo(this.instance,"destroy",this.destroy).listenTo(this.relatedCollection,"relational:add relational:change:id",this.tryAddRelated).listenTo(this.relatedCollection,"relational:remove",this.removeRelated)}},e.Relation.extend=e.Model.extend,n.extend(e.Relation.prototype,e.Events,e.Semaphore,{options:{createModels:!0,includeInJSON:!0,isAutoRelation:!1,autoFetch:!1,parse:!1},instance:null,key:null,keyContents:null,relatedModel:null,relatedCollection:null,reverseRelation:null,related:null,checkPreconditions:function(){var t=this.instance,r=this.key,i=this.model,o=this.relatedModel,a=e.Relational.showWarnings&&"undefined"!=typeof console;if(!i||!r||!o)return a&&console.warn("Relation=%o: missing model, key or relatedModel (%o, %o, %o).",this,i,r,o),!1;if(!(i.prototype instanceof e.RelationalModel))return a&&console.warn("Relation=%o: model does not inherit from Backbone.RelationalModel (%o).",this,t),!1;if(!(o.prototype instanceof e.RelationalModel))return a&&console.warn("Relation=%o: relatedModel does not inherit from Backbone.RelationalModel (%o).",this,o),!1;if(this instanceof e.HasMany&&this.reverseRelation.type===e.HasMany)return a&&console.warn("Relation=%o: relation is a HasMany, and the reverseRelation is HasMany as well.",this),!1;if(t&&n.keys(t._relations).length){var s=n.find(t._relations,(function(t){return t.key===r}),this);if(s)return a&&console.warn("Cannot create relation=%o on %o for model=%o: already taken by relation=%o.",this,r,t,s),!1}return!0},setRelated:function(t){this.related=t,this.instance.attributes[this.key]=t},_isReverseRelation:function(t){return t.instance instanceof this.relatedModel&&this.reverseRelation.key===t.key&&this.key===t.reverseRelation.key},getReverseRelations:function(t){for(var e=[],r=n.isUndefined(t)?this.related&&(this.related.models||[this.related]):[t],i=null,o=null,a=0;a<(r||[]).length;a++){i=r[a].getRelations()||[];for(var s=0;s<i.length;s++)o=i[s],this._isReverseRelation(o)&&e.push(o)}return e},destroy:function(){this.stopListening(),this instanceof e.HasOne?this.setRelated(null):this instanceof e.HasMany&&this.setRelated(this._prepareCollection()),n.each(this.getReverseRelations(),(function(t){t.removeRelated(this.instance)}),this)}}),e.HasOne=e.Relation.extend({options:{reverseRelation:{type:"HasMany"}},initialize:function(t){this.listenTo(this.instance,"relational:change:"+this.key,this.onChange);var e=this.findRelated(t);this.setRelated(e),n.each(this.getReverseRelations(),(function(e){e.addRelated(this.instance,t)}),this)},findRelated:function(t){var e=null;if(t=n.defaults({parse:this.options.parse},t),this.keyContents instanceof this.relatedModel)e=this.keyContents;else if(this.keyContents||0===this.keyContents){var r=n.defaults({create:this.options.createModels},t);e=this.relatedModel.findOrCreate(this.keyContents,r)}return e&&(this.keyId=null),e},setKeyContents:function(t){this.keyContents=t,this.keyId=e.Relational.store.resolveIdForItem(this.relatedModel,this.keyContents)},onChange:function(t,r,i){if(!this.isLocked()){this.acquire(),i=i?n.clone(i):{};var o=n.isUndefined(i.__related),a=o?this.related:i.__related;if(o){this.setKeyContents(r);var s=this.findRelated(i);this.setRelated(s)}if(a&&this.related!==a&&n.each(this.getReverseRelations(a),(function(t){t.removeRelated(this.instance,null,i)}),this),n.each(this.getReverseRelations(),(function(t){t.addRelated(this.instance,i)}),this),!i.silent&&this.related!==a){var c=this;this.changed=!0,e.Relational.eventQueue.add((function(){c.instance.trigger("change:"+c.key,c.instance,c.related,i,!0),c.changed=!1}))}this.release()}},tryAddRelated:function(t,e,n){!this.keyId&&0!==this.keyId||t.id!==this.keyId||(this.addRelated(t,n),this.keyId=null)},addRelated:function(t,e){var r=this;t.queue((function(){if(t!==r.related){var i=r.related||null;r.setRelated(t),r.onChange(r.instance,t,n.defaults({__related:i},e))}}))},removeRelated:function(t,e,r){if(this.related&&t===this.related){var i=this.related||null;this.setRelated(null),this.onChange(this.instance,t,n.defaults({__related:i},r))}}}),e.HasMany=e.Relation.extend({collectionType:null,options:{reverseRelation:{type:"HasOne"},collectionType:e.Collection,collectionKey:!0,collectionOptions:{}},initialize:function(t){if(this.listenTo(this.instance,"relational:change:"+this.key,this.onChange),this.collectionType=this.options.collectionType,!n.isFunction(this.collectionType)||this.collectionType===e.Collection||this.collectionType.prototype instanceof e.Collection||(this.collectionType=n.result(this,"collectionType")),n.isString(this.collectionType)&&(this.collectionType=e.Relational.store.getObjectByName(this.collectionType)),this.collectionType!==e.Collection&&!(this.collectionType.prototype instanceof e.Collection))throw new Error("`collectionType` must inherit from Backbone.Collection");var r=this.findRelated(t);this.setRelated(r)},_prepareCollection:function(t){if(this.related&&this.stopListening(this.related),!(t&&t instanceof e.Collection)){var r=n.isFunction(this.options.collectionOptions)?this.options.collectionOptions(this.instance):this.options.collectionOptions;t=new this.collectionType(null,r)}if(t.model=this.relatedModel,this.options.collectionKey){var i=!0===this.options.collectionKey?this.options.reverseRelation.key:this.options.collectionKey;t[i]&&t[i]!==this.instance?e.Relational.showWarnings&&"undefined"!=typeof console&&console.warn("Relation=%o; collectionKey=%s already exists on collection=%o",this,i,this.options.collectionKey):i&&(t[i]=this.instance)}return this.listenTo(t,"relational:add",this.handleAddition).listenTo(t,"relational:remove",this.handleRemoval).listenTo(t,"relational:reset",this.handleReset),t},findRelated:function(t){var r=null;if(t=n.defaults({parse:this.options.parse},t),this.keyContents instanceof e.Collection)this._prepareCollection(this.keyContents),r=this.keyContents;else{var i=[];n.each(this.keyContents,(function(e){var r=null;(r=e instanceof this.relatedModel?e:n.isObject(e)&&t.parse&&this.relatedModel.prototype.parse?this.relatedModel.prototype.parse(n.clone(e),t):e)&&i.push(r)}),this),(r=this.related instanceof e.Collection?this.related:this._prepareCollection()).set(i,n.defaults({parse:!1},t))}return this.keyIds=n.difference(this.keyIds,n.pluck(r.models,"id")),r},setKeyContents:function(t){this.keyContents=t instanceof e.Collection?t:null,this.keyIds=[],this.keyContents||!t&&0!==t||(this.keyContents=n.isArray(t)?t:[t],n.each(this.keyContents,(function(t){var n=e.Relational.store.resolveIdForItem(this.relatedModel,t);(n||0===n)&&this.keyIds.push(n)}),this))},onChange:function(t,r,i){i=i?n.clone(i):{},this.setKeyContents(r),this.changed=!1;var o=this.findRelated(i);if(this.setRelated(o),!i.silent){var a=this;e.Relational.eventQueue.add((function(){a.changed&&(a.instance.trigger("change:"+a.key,a.instance,a.related,i,!0),a.changed=!1)}))}},handleAddition:function(t,r,i){i=i?n.clone(i):{},this.changed=!0,n.each(this.getReverseRelations(t),(function(t){t.addRelated(this.instance,i)}),this);var o=this;!i.silent&&e.Relational.eventQueue.add((function(){o.instance.trigger("add:"+o.key,t,o.related,i)}))},handleRemoval:function(t,r,i){i=i?n.clone(i):{},this.changed=!0,n.each(this.getReverseRelations(t),(function(t){t.removeRelated(this.instance,null,i)}),this);var o=this;!i.silent&&e.Relational.eventQueue.add((function(){o.instance.trigger("remove:"+o.key,t,o.related,i)}))},handleReset:function(t,r){var i=this;!(r=r?n.clone(r):{}).silent&&e.Relational.eventQueue.add((function(){i.instance.trigger("reset:"+i.key,i.related,r)}))},tryAddRelated:function(t,e,r){n.contains(this.keyIds,t.id)&&(this.addRelated(t,r),this.keyIds=n.without(this.keyIds,t.id))},addRelated:function(t,e){var r=this;t.queue((function(){r.related&&!r.related.get(t)&&r.related.add(t,n.defaults({parse:!1},e))}))},removeRelated:function(t,e,n){this.related.get(t)&&this.related.remove(t,n)}}),e.RelationalModel=e.Model.extend({relations:null,_relations:null,_isInitialized:!1,_deferProcessing:!1,_queue:null,_attributeChangeFired:!1,subModelTypeAttribute:"type",subModelTypes:null,constructor:function(t,r){if(r&&r.collection){var i=this,o=this.collection=r.collection;delete r.collection,this._deferProcessing=!0;var a=function(t){t===i&&(i._deferProcessing=!1,i.processQueue(),o.off("relational:add",a))};o.on("relational:add",a),n.defer((function(){a(i)}))}e.Relational.store.processOrphanRelations(),e.Relational.store.listenTo(this,"relational:unregister",e.Relational.store.unregister),this._queue=new e.BlockingQueue,this._queue.block(),e.Relational.eventQueue.block();try{e.Model.apply(this,arguments)}finally{e.Relational.eventQueue.unblock()}},trigger:function(t){if(t.length>5&&0===t.indexOf("change")){var n=this,r=arguments;e.Relational.eventQueue.isBlocked()?e.Relational.eventQueue.add((function(){var i=!0;if("change"===t)i=n.hasChanged()||n._attributeChangeFired,n._attributeChangeFired=!1;else{var o=t.slice(7),a=n.getRelation(o);a?(i=!0===r[4])?n.changed[o]=r[2]:a.changed||delete n.changed[o]:i&&(n._attributeChangeFired=!0)}i&&e.Model.prototype.trigger.apply(n,r)})):e.Model.prototype.trigger.apply(n,r)}else"destroy"===t?(e.Model.prototype.trigger.apply(this,arguments),e.Relational.store.unregister(this)):e.Model.prototype.trigger.apply(this,arguments);return this},initializeRelations:function(t){this.acquire(),this._relations={},n.each(this.relations||[],(function(n){e.Relational.store.initializeRelation(this,n,t)}),this),this._isInitialized=!0,this.release(),this.processQueue()},updateRelations:function(t,e){this._isInitialized&&!this.isLocked()&&n.each(this._relations,(function(n){if(!t||n.keySource in t||n.key in t){var r=this.attributes[n.keySource]||this.attributes[n.key],i=t&&(t[n.keySource]||t[n.key]);(n.related!==r||null===r&&null===i)&&this.trigger("relational:change:"+n.key,this,r,e||{})}n.keySource!==n.key&&delete this.attributes[n.keySource]}),this)},queue:function(t){this._queue.add(t)},processQueue:function(){this._isInitialized&&!this._deferProcessing&&this._queue.isBlocked()&&this._queue.unblock()},getRelation:function(t){return this._relations[t]},getRelations:function(){return n.values(this._relations)},getIdsToFetch:function(t,r){var i=t instanceof e.Relation?t:this.getRelation(t),o=i?i.keyIds&&i.keyIds.slice(0)||(i.keyId||0===i.keyId?[i.keyId]:[]):[];if(r){var a=i.related&&(i.related.models||[i.related]);n.each(a,(function(t){(t.id||0===t.id)&&o.push(t.id)}))}return o},getAsync:function(t,r){r=n.extend({add:!0,remove:!1,refresh:!1},r);var i=this,o=[],a=this.getRelation(t),s=a&&this.getIdsToFetch(a,r.refresh),c=a.related instanceof e.Collection?a.related:a.relatedCollection;if(s&&s.length){var l,u=[],p=[],h=function(){u=n.map(s,(function(t){var e=a.relatedModel.findModel(t);if(!e){var n={};n[a.relatedModel.prototype.idAttribute]=t,e=a.relatedModel.findOrCreate(n,r),p.push(e)}return e}),this)};if(c instanceof e.Collection&&n.isFunction(c.url)){var d=c.url();(l=c.url(s))===d&&(h(),(l=c.url(u))===d&&(l=null))}if(l){var g=n.defaults({error:function(){n.each(p,(function(t){t.trigger("destroy",t,t.collection,r)})),r.error&&r.error.apply(u,arguments)},url:l},r);o=[c.fetch(g)]}else u.length||h(),o=n.map(u,(function(t){var e=n.defaults({error:function(){n.contains(p,t)&&t.trigger("destroy",t,t.collection,r),r.error&&r.error.apply(u,arguments)}},r);return t.fetch(e)}),this)}return this.deferArray(o).then((function(){return e.Model.prototype.get.call(i,t)}))},deferArray:function(t){return e.$.when.apply(null,t)},set:function(t,r,i){var o,a;e.Relational.eventQueue.block(),n.isObject(t)||null==t?(o=t,i=r):(o={})[t]=r;try{var s=this.id,c=o&&this.idAttribute in o&&o[this.idAttribute];e.Relational.store.checkId(this,c),a=e.Model.prototype.set.apply(this,arguments),this._isInitialized||this.isLocked()?c&&c!==s&&e.Relational.store.update(this):(this.constructor.initializeModelHierarchy(),(c||0===c)&&e.Relational.store.register(this),this.initializeRelations(i)),o&&this.updateRelations(o,i)}finally{e.Relational.eventQueue.unblock()}return a},clone:function(){var t=n.clone(this.attributes);return n.isUndefined(t[this.idAttribute])||(t[this.idAttribute]=null),n.each(this.getRelations(),(function(e){delete t[e.key]})),new this.constructor(t)},toJSON:function(t){if(this.isLocked())return this.id;this.acquire();var r=e.Model.prototype.toJSON.call(this,t);return!this.constructor._superModel||this.constructor._subModelTypeAttribute in r||(r[this.constructor._subModelTypeAttribute]=this.constructor._subModelTypeValue),n.each(this._relations,(function(i){var o=r[i.key],a=i.options.includeInJSON,s=null;!0===a?o&&n.isFunction(o.toJSON)&&(s=o.toJSON(t)):n.isString(a)?(o instanceof e.Collection?s=o.pluck(a):o instanceof e.Model&&(s=o.get(a)),a===i.relatedModel.prototype.idAttribute&&(i instanceof e.HasMany?s=s.concat(i.keyIds):i instanceof e.HasOne&&((s=s||i.keyId)||n.isObject(i.keyContents)||(s=i.keyContents||null)))):n.isArray(a)?o instanceof e.Collection?(s=[],o.each((function(t){var e={};n.each(a,(function(n){e[n]=t.get(n)})),s.push(e)}))):o instanceof e.Model&&(s={},n.each(a,(function(t){s[t]=o.get(t)}))):delete r[i.key],null===s&&t&&t.wait&&(s=o),a&&(r[i.keyDestination]=s),i.keyDestination!==i.key&&delete r[i.key]})),this.release(),r}},{setup:function(t){return this.prototype.relations=(this.prototype.relations||[]).slice(0),this._subModels={},this._superModel=null,this.prototype.hasOwnProperty("subModelTypes")?e.Relational.store.addSubModels(this.prototype.subModelTypes,this):this.prototype.subModelTypes=null,n.each(this.prototype.relations||[],(function(t){if(t.model||(t.model=this),t.reverseRelation&&t.model===this){var r=!0;if(n.isString(t.relatedModel)){var i=e.Relational.store.getObjectByName(t.relatedModel);r=i&&i.prototype instanceof e.RelationalModel}r?e.Relational.store.initializeRelation(null,t):n.isString(t.relatedModel)&&e.Relational.store.addOrphanRelation(t)}}),this),this},build:function(t,e){return this.initializeModelHierarchy(),new(this._findSubModelType(this,t)||this)(t,e)},_findSubModelType:function(t,e){if(t._subModels&&t.prototype.subModelTypeAttribute in e){var n=e[t.prototype.subModelTypeAttribute],r=t._subModels[n];if(r)return r;for(n in t._subModels)if(r=this._findSubModelType(t._subModels[n],e))return r}return null},initializeModelHierarchy:function(){if(this.inheritRelations(),this.prototype.subModelTypes){var t=n.keys(this._subModels),r=n.omit(this.prototype.subModelTypes,t);n.each(r,(function(t){var n=e.Relational.store.getObjectByName(t);n&&n.initializeModelHierarchy()}))}},inheritRelations:function(){if(n.isUndefined(this._superModel)||n.isNull(this._superModel))if(e.Relational.store.setupSuperModel(this),this._superModel){if(this._superModel.inheritRelations(),this._superModel.prototype.relations){var t=n.filter(this._superModel.prototype.relations||[],(function(t){return!n.any(this.prototype.relations||[],(function(e){return t.relatedModel===e.relatedModel&&t.key===e.key}),this)}),this);this.prototype.relations=t.concat(this.prototype.relations)}}else this._superModel=!1},findOrCreate:function(t,e){e||(e={});var r=n.isObject(t)&&e.parse&&this.prototype.parse?this.prototype.parse(n.clone(t),e):t,i=this.findModel(r);return n.isObject(t)&&(i&&!1!==e.merge?(delete e.collection,delete e.url,i.set(r,e)):i||!1===e.create||(i=this.build(r,n.defaults({parse:!1},e)))),i},find:function(t,e){return e||(e={}),e.create=!1,this.findOrCreate(t,e)},findModel:function(t){return e.Relational.store.find(this,t)}}),n.extend(e.RelationalModel.prototype,e.Semaphore),e.Collection.prototype.__prepareModel=e.Collection.prototype._prepareModel,e.Collection.prototype._prepareModel=function(t,r){var i;return t instanceof e.Model?(t.collection||(t.collection=this),i=t):((r=r?n.clone(r):{}).collection=this,(i=void 0!==this.model.findOrCreate?this.model.findOrCreate(t,r):new this.model(t,r))&&i.validationError&&(this.trigger("invalid",this,t,r),i=!1)),i};var r=e.Collection.prototype.__set=e.Collection.prototype.set;e.Collection.prototype.set=function(t,i){if(!(this.model.prototype instanceof e.RelationalModel))return r.call(this,t,i);i&&i.parse&&(t=this.parse(t,i));var o=!n.isArray(t),a=[],s=[],c=null;t=o?t?[t]:[]:n.clone(t);for(var l=0;l<t.length;l++)(c=t[l])instanceof e.Model||(c=e.Collection.prototype._prepareModel.call(this,c,i)),c&&(s.push(c),this.get(c)||this.get(c.cid)?null!==c.id&&void 0!==c.id&&(this._byId[c.id]=c):a.push(c));s=o?s.length?s[0]:null:s;var u=r.call(this,s,n.defaults({merge:!1,parse:!1},i));for(l=0;l<a.length;l++)c=a[l],(this.get(c)||this.get(c.cid))&&this.trigger("relational:add",c,this,i);return u};var i=e.Collection.prototype.___removeModels=e.Collection.prototype._removeModels;e.Collection.prototype._removeModels=function(t,r){if(!(this.model.prototype instanceof e.RelationalModel))return i.call(this,t,r);var o=[];n.each(t,(function(t){(t=this.get(t)||t&&this.get(t.cid))&&o.push(t)}),this);var a=i.call(this,o,r);return n.each(o,(function(t){this.trigger("relational:remove",t,this,r)}),this),a};var o=e.Collection.prototype.__reset=e.Collection.prototype.reset;e.Collection.prototype.reset=function(t,r){r=n.extend({merge:!0},r);var i=o.call(this,t,r);return this.model.prototype instanceof e.RelationalModel&&this.trigger("relational:reset",this,r),i};var a=e.Collection.prototype.__sort=e.Collection.prototype.sort;e.Collection.prototype.sort=function(t){var n=a.call(this,t);return this.model.prototype instanceof e.RelationalModel&&this.trigger("relational:reset",this,t),n};var s=e.Collection.prototype.__trigger=e.Collection.prototype.trigger;e.Collection.prototype.trigger=function(t){if(!(this.model.prototype instanceof e.RelationalModel))return s.apply(this,arguments);if("add"===t||"remove"===t||"reset"===t||"sort"===t){var r=this,i=arguments;n.isObject(i[3])&&((i=n.toArray(i))[3]=n.clone(i[3])),e.Relational.eventQueue.add((function(){s.apply(r,i)}))}else s.apply(this,arguments);return this},e.RelationalModel.extend=function(t,n){var r=e.Model.extend.call(this,t,n);return r.setup(this),r}})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){(function(e){var r=n(100),i=n(21)("socket.io-client:url");t.exports=function(t,n){var o=t;n=n||e.location,null==t&&(t=n.protocol+"//"+n.host);"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(i("protocol-less url %s",t),t=void 0!==n?n.protocol+"//"+t:"https://"+t),i("parse %s",t),o=r(t));o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443"));o.path=o.path||"/";var a=-1!==o.host.indexOf(":")?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+a+":"+o.port,o.href=o.protocol+"://"+a+(n&&n.port===o.port?"":":"+o.port),o}}).call(this,n(8))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,l=[],u=!1,p=-1;function h(){u&&c&&(u=!1,c.length?l=c.concat(l):p=-1,l.length&&d())}function d(){if(!u){var t=s(h);u=!0;for(var e=l.length;e;){for(c=l,l=[];++p<e;)c&&c[p].run();p=-1,e=l.length}c=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new g(t,e)),1!==l.length||u||s(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){(e=t.exports=o.debug=o).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t);for(var n=(t||"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(t=n[i].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(255),e.names=[],e.skips=[],e.formatters={};var r,i=0;function o(t){function n(){}function o(){var t=o,n=+new Date,a=n-(r||n);t.diff=a,t.prev=r,t.curr=n,r=n,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=e.colors[i++%e.colors.length]);for(var s=new Array(arguments.length),c=0;c<s.length;c++)s[c]=arguments[c];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var l=0;s[0]=s[0].replace(/%([a-z%])/g,(function(n,r){if("%%"===n)return n;l++;var i=e.formatters[r];if("function"==typeof i){var o=s[l];n=i.call(t,o),s.splice(l,1),l--}return n})),s=e.formatArgs.apply(t,s),(o.log||e.log||console.log.bind(console)).apply(t,s)}n.enabled=!1,o.enabled=!0;var a=e.enabled(t)?o:n;return a.namespace=t,a}},function(t,e){var n=1e3,r=60*n,i=60*r,o=24*i,a=365.25*o;function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var c,l=typeof t;if("string"===l&&t.length>0)return function(t){if((t=String(t)).length>1e4)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===l&&!1===isNaN(t))return e.long?s(c=t,o,"day")||s(c,i,"hour")||s(c,r,"minute")||s(c,n,"second")||c+" ms":function(t){if(t>=o)return Math.round(t/o)+"d";if(t>=i)return Math.round(t/i)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){(function(t,r){var i;/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */(function(){var o=n(257),a={function:!0,object:!0},s=a[typeof e]&&e&&!e.nodeType&&e,c=a[typeof window]&&window||this,l=s&&a[typeof t]&&t&&!t.nodeType&&"object"==typeof r&&r;function u(t,e){t||(t=c.Object()),e||(e=c.Object());var n=t.Number||c.Number,r=t.String||c.String,i=t.Object||c.Object,o=t.Date||c.Date,s=t.SyntaxError||c.SyntaxError,l=t.TypeError||c.TypeError,p=t.Math||c.Math,h=t.JSON||c.JSON;"object"==typeof h&&h&&(e.stringify=h.stringify,e.parse=h.parse);var d,g,m,f=i.prototype,y=f.toString,b=new o(-0xc782b5b800cec);try{b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(t){}function v(t){if(v[t]!==m)return v[t];var i;if("bug-string-char-index"==t)i="a"!="a"[0];else if("json"==t)i=v("json-stringify")&&v("json-parse");else{var a,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var c=e.stringify,l="function"==typeof c&&b;if(l){(a=function(){return 1}).toJSON=a;try{l="0"===c(0)&&"0"===c(new n)&&'""'==c(new r)&&c(y)===m&&c(m)===m&&c()===m&&"1"===c(a)&&"[1]"==c([a])&&"[null]"==c([m])&&"null"==c(null)&&"[null,null,null]"==c([m,y,null])&&c({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})==s&&"1"===c(null,a)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new o(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new o(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new o(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new o(-1))}catch(t){l=!1}}i=l}if("json-parse"==t){var u=e.parse;if("function"==typeof u)try{if(0===u("0")&&!u(!1)){var p=5==(a=u(s)).a.length&&1===a.a[0];if(p){try{p=!u('"\t"')}catch(t){}if(p)try{p=1!==u("01")}catch(t){}if(p)try{p=1!==u("1.")}catch(t){}}}}catch(t){p=!1}i=p}}return v[t]=!!i}if(!v("json")){var w=v("bug-string-char-index");if(!b)var _=p.floor,C=[0,31,59,90,120,151,181,212,243,273,304,334],I=function(t,e){return C[e]+365*(t-1970)+_((t-1969+(e=+(e>1)))/4)-_((t-1901+e)/100)+_((t-1601+e)/400)};if((d=f.hasOwnProperty)||(d=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=y?d=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,d=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,d.call(this,t)}),g=function(t,e){var n,r,i,o=0;for(i in(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n)d.call(r,i)&&o++;return n=r=null,o?g=2==o?function(t,e){var n,r={},i="[object Function]"==y.call(t);for(n in t)i&&"prototype"==n||d.call(r,n)||!(r[n]=1)||!d.call(t,n)||e(n)}:function(t,e){var n,r,i="[object Function]"==y.call(t);for(n in t)i&&"prototype"==n||!d.call(t,n)||(r="constructor"===n)||e(n);(r||d.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],g=function(t,e){var n,i,o="[object Function]"==y.call(t),s=!o&&"function"!=typeof t.constructor&&a[typeof t.hasOwnProperty]&&t.hasOwnProperty||d;for(n in t)o&&"prototype"==n||!s.call(t,n)||e(n);for(i=r.length;n=r[--i];s.call(t,n)&&e(n));}),g(t,e)},!v("json-stringify")){var x={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},k=function(t,e){return("000000"+(e||0)).slice(-t)},j=function(t){for(var e='"',n=0,r=t.length,i=!w||r>10,o=i&&(w?t.split(""):t);n<r;n++){var a=t.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=x[a];break;default:if(a<32){e+="\\u00"+k(2,a.toString(16));break}e+=i?o[n]:t.charAt(n)}}return e+'"'},S=function(t,e,n,r,i,o,a){var s,c,u,p,h,f,b,v,w,C,x,A,T,O,P,R;try{s=e[t]}catch(t){}if("object"==typeof s&&s)if("[object Date]"!=(c=y.call(s))||d.call(s,"toJSON"))"function"==typeof s.toJSON&&("[object Number]"!=c&&"[object String]"!=c&&"[object Array]"!=c||d.call(s,"toJSON"))&&(s=s.toJSON(t));else if(s>-1/0&&s<1/0){if(I){for(h=_(s/864e5),u=_(h/365.2425)+1970-1;I(u+1,0)<=h;u++);for(p=_((h-I(u,0))/30.42);I(u,p+1)<=h;p++);h=1+h-I(u,p),b=_((f=(s%864e5+864e5)%864e5)/36e5)%24,v=_(f/6e4)%60,w=_(f/1e3)%60,C=f%1e3}else u=s.getUTCFullYear(),p=s.getUTCMonth(),h=s.getUTCDate(),b=s.getUTCHours(),v=s.getUTCMinutes(),w=s.getUTCSeconds(),C=s.getUTCMilliseconds();s=(u<=0||u>=1e4?(u<0?"-":"+")+k(6,u<0?-u:u):k(4,u))+"-"+k(2,p+1)+"-"+k(2,h)+"T"+k(2,b)+":"+k(2,v)+":"+k(2,w)+"."+k(3,C)+"Z"}else s=null;if(n&&(s=n.call(e,t,s)),null===s)return"null";if("[object Boolean]"==(c=y.call(s)))return""+s;if("[object Number]"==c)return s>-1/0&&s<1/0?""+s:"null";if("[object String]"==c)return j(""+s);if("object"==typeof s){for(O=a.length;O--;)if(a[O]===s)throw l();if(a.push(s),x=[],P=o,o+=i,"[object Array]"==c){for(T=0,O=s.length;T<O;T++)A=S(T,s,n,r,i,o,a),x.push(A===m?"null":A);R=x.length?i?"[\n"+o+x.join(",\n"+o)+"\n"+P+"]":"["+x.join(",")+"]":"[]"}else g(r||s,(function(t){var e=S(t,s,n,r,i,o,a);e!==m&&x.push(j(t)+":"+(i?" ":"")+e)})),R=x.length?i?"{\n"+o+x.join(",\n"+o)+"\n"+P+"}":"{"+x.join(",")+"}":"{}";return a.pop(),R}};e.stringify=function(t,e,n){var r,i,o,s;if(a[typeof e]&&e)if("[object Function]"==(s=y.call(e)))i=e;else if("[object Array]"==s){o={};for(var c,l=0,u=e.length;l<u;c=e[l++],("[object String]"==(s=y.call(c))||"[object Number]"==s)&&(o[c]=1));}if(n)if("[object Number]"==(s=y.call(n))){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else"[object String]"==s&&(r=n.length<=10?n:n.slice(0,10));return S("",((c={})[""]=t,c),i,o,r,"",[])}}if(!v("json-parse")){var A,T,O=r.fromCharCode,P={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},R=function(){throw A=T=null,s()},M=function(){for(var t,e,n,r,i,o=T,a=o.length;A<a;)switch(i=o.charCodeAt(A)){case 9:case 10:case 13:case 32:A++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=w?o.charAt(A):o[A],A++,t;case 34:for(t="@",A++;A<a;)if((i=o.charCodeAt(A))<32)R();else if(92==i)switch(i=o.charCodeAt(++A)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=P[i],A++;break;case 117:for(e=++A,n=A+4;A<n;A++)(i=o.charCodeAt(A))>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||R();t+=O("0x"+o.slice(e,A));break;default:R()}else{if(34==i)break;for(i=o.charCodeAt(A),e=A;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++A);t+=o.slice(e,A)}if(34==o.charCodeAt(A))return A++,t;R();default:if(e=A,45==i&&(r=!0,i=o.charCodeAt(++A)),i>=48&&i<=57){for(48==i&&((i=o.charCodeAt(A+1))>=48&&i<=57)&&R(),r=!1;A<a&&((i=o.charCodeAt(A))>=48&&i<=57);A++);if(46==o.charCodeAt(A)){for(n=++A;n<a&&((i=o.charCodeAt(n))>=48&&i<=57);n++);n==A&&R(),A=n}if(101==(i=o.charCodeAt(A))||69==i){for(43!=(i=o.charCodeAt(++A))&&45!=i||A++,n=A;n<a&&((i=o.charCodeAt(n))>=48&&i<=57);n++);n==A&&R(),A=n}return+o.slice(e,A)}if(r&&R(),"true"==o.slice(A,A+4))return A+=4,!0;if("false"==o.slice(A,A+5))return A+=5,!1;if("null"==o.slice(A,A+4))return A+=4,null;R()}return"$"},W=function(t){var e,n;if("$"==t&&R(),"string"==typeof t){if("@"==(w?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=M());n||(n=!0))n&&(","==t?"]"==(t=M())&&R():R()),","==t&&R(),e.push(W(t));return e}if("{"==t){for(e={};"}"!=(t=M());n||(n=!0))n&&(","==t?"}"==(t=M())&&R():R()),","!=t&&"string"==typeof t&&"@"==(w?t.charAt(0):t[0])&&":"==M()||R(),e[t.slice(1)]=W(M());return e}R()}return t},E=function(t,e,n){var r=N(t,e,n);r===m?delete t[e]:t[e]=r},N=function(t,e,n){var r,i=t[e];if("object"==typeof i&&i)if("[object Array]"==y.call(i))for(r=i.length;r--;)E(i,r,n);else g(i,(function(t){E(i,t,n)}));return n.call(t,e,i)};e.parse=function(t,e){var n,r;return A=0,T=""+t,n=W(M()),"$"!=M()&&R(),A=T=null,e&&"[object Function]"==y.call(e)?N(((r={})[""]=n,r),"",e):n}}}return e.runInContext=u,e}if(!l||l.global!==l&&l.window!==l&&l.self!==l||(c=l),s&&!o)u(c,s);else{var p=c.JSON,h=c.JSON3,d=!1,g=u(c,c.JSON3={noConflict:function(){return d||(d=!0,c.JSON=p,c.JSON3=h,p=h=null),g}});c.JSON={parse:g.parse,stringify:g.stringify}}o&&(void 0===(i=function(){return g}.call(e,n,e,t))||(t.exports=i))}).call(this)}).call(this,n(68)(t),n(8))},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){(function(t){var r=n(70),i=n(101);e.deconstructPacket=function(t){var e=[],n=t.data;var o=t;return o.data=function t(n){if(!n)return n;if(i(n)){var o={_placeholder:!0,num:e.length};return e.push(n),o}if(r(n)){for(var a=new Array(n.length),s=0;s<n.length;s++)a[s]=t(n[s]);return a}if("object"==typeof n&&!(n instanceof Date)){a={};for(var c in n)a[c]=t(n[c]);return a}return n}(n),o.attachments=e.length,{packet:o,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(n){if(n&&n._placeholder)return e[n.num];if(r(n)){for(var i=0;i<n.length;i++)n[i]=t(n[i]);return n}if(n&&"object"==typeof n){for(var o in n)n[o]=t(n[o]);return n}return n}(t.data),t.attachments=void 0,t},e.removeBlobs=function(e,n){var o=0,a=e;!function e(s,c,l){if(!s)return s;if(t.Blob&&s instanceof Blob||t.File&&s instanceof File){o++;var u=new FileReader;u.onload=function(){l?l[c]=this.result:a=this.result,--o||n(a)},u.readAsArrayBuffer(s)}else if(r(s))for(var p=0;p<s.length;p++)e(s[p],p,s);else if(s&&"object"==typeof s&&!i(s))for(var h in s)e(s[h],h,s)}(a),o||n(a)}}).call(this,n(8))},function(t,e,n){t.exports=n(260)},function(t,e,n){t.exports=n(261),t.exports.parser=n(36)},function(t,e,n){(function(e){var r=n(103),i=n(35),o=n(21)("engine.io-client:socket"),a=n(107),s=n(36),c=n(100),l=n(273),u=n(73);function p(t,n){if(!(this instanceof p))return new p(t,n);n=n||{},t&&"object"==typeof t&&(n=t,t=null),t?(t=c(t),n.hostname=t.host,n.secure="https"===t.protocol||"wss"===t.protocol,n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=c(n.host).host),this.secure=null!=n.secure?n.secure:e.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(e.location?location.hostname:"localhost"),this.port=n.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized?null:n.rejectUnauthorized,this.forceNode=!!n.forceNode;var r="object"==typeof e&&e;r.global===r&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=p,p.priorWebsocketSuccess=!1,i(p.prototype),p.protocol=s.protocol,p.Socket=p,p.Transport=n(72),p.transports=n(103),p.parser=n(36),p.prototype.createTransport=function(t){o('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);return e.EIO=s.protocol,e.transport=t,this.id&&(e.sid=this.id),new r[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress})},p.prototype.open=function(){var t;if(this.rememberUpgrade&&p.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout((function(){e.emit("error","No transports available")}),0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},p.prototype.setTransport=function(t){o("setting transport %s",t.name);var e=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",(function(){e.onDrain()})).on("packet",(function(t){e.onPacket(t)})).on("error",(function(t){e.onError(t)})).on("close",(function(){e.onClose("transport close")}))},p.prototype.probe=function(t){o('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,r=this;function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(o('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",(function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(o('probe transport "%s" pong',t),r.upgrading=!0,r.emit("upgrading",e),!e)return;p.priorWebsocketSuccess="websocket"===e.name,o('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(o("changing transport and sending upgrade packet"),h(),r.setTransport(e),e.send([{type:"upgrade"}]),r.emit("upgrade",e),e=null,r.upgrading=!1,r.flush())}))}else{o('probe transport "%s" failed',t);var a=new Error("probe error");a.transport=e.name,r.emit("upgradeError",a)}})))}function a(){n||(n=!0,h(),e.close(),e=null)}function s(n){var i=new Error("probe error: "+n);i.transport=e.name,a(),o('probe transport "%s" failed because of error: %s',t,n),r.emit("upgradeError",i)}function c(){s("transport closed")}function l(){s("socket closed")}function u(t){e&&t.name!==e.name&&(o('"%s" works - aborting "%s"',t.name,e.name),a())}function h(){e.removeListener("open",i),e.removeListener("error",s),e.removeListener("close",c),r.removeListener("close",l),r.removeListener("upgrading",u)}p.priorWebsocketSuccess=!1,e.once("open",i),e.once("error",s),e.once("close",c),this.once("close",l),this.once("upgrading",u),e.open()},p.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",p.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},p.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(l(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else o('packet received with socket readyState "%s"',this.readyState)},p.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},p.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout((function(){"closed"!==e.readyState&&e.onClose("ping timeout")}),t||e.pingInterval+e.pingTimeout)},p.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout((function(){o("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)}),t.pingInterval)},p.prototype.ping=function(){var t=this;this.sendPacket("ping",(function(){t.emit("ping")}))},p.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},p.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},p.prototype.write=p.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},p.prototype.sendPacket=function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:t,data:e,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},p.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():e()})):this.upgrading?r():e()}function e(){t.onClose("forced close"),o("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function r(){t.once("upgrade",n),t.once("upgradeError",n)}return this},p.prototype.onError=function(t){o("socket error %j",t),p.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},p.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',t);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0}},p.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~a(this.transports,t[n])&&e.push(t[n]);return e}}).call(this,n(8))},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e,n){(function(e){var r=n(71),i=n(104),o=n(35),a=n(49),s=n(21)("engine.io-client:polling-xhr");function c(){}function l(t){if(i.call(this,t),this.requestTimeout=t.requestTimeout,e.location){var n="https:"===location.protocol,r=location.port;r||(r=n?443:80),this.xd=t.hostname!==e.location.hostname||r!==t.port,this.xs=t.secure!==n}else this.extraHeaders=t.extraHeaders}function u(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function p(){for(var t in u.requests)u.requests.hasOwnProperty(t)&&u.requests[t].abort()}t.exports=l,t.exports.Request=u,a(l,i),l.prototype.supportsBinary=!0,l.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new u(t)},l.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),i=this;r.on("success",e),r.on("error",(function(t){i.onError("xhr post error",t)})),this.sendXhr=r},l.prototype.doPoll=function(){s("xhr poll");var t=this.request(),e=this;t.on("data",(function(t){e.onData(t)})),t.on("error",(function(t){e.onError("xhr poll error",t)})),this.pollXhr=t},o(u.prototype),u.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new r(t),i=this;try{s("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in n.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&n.setRequestHeader(o,this.extraHeaders[o])}catch(t){}if(this.supportsBinary&&(n.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{n.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){i.onLoad()},n.onerror=function(){i.onError(n.responseText)}):n.onreadystatechange=function(){4===n.readyState&&(200===n.status||1223===n.status?i.onLoad():setTimeout((function(){i.onError(n.status)}),0))},s("xhr data %s",this.data),n.send(this.data)}catch(t){return void setTimeout((function(){i.onError(t)}),0)}e.document&&(this.index=u.requestsCount++,u.requests[this.index]=this)},u.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},u.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},u.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},u.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,t)try{this.xhr.abort()}catch(t){}e.document&&delete u.requests[this.index],this.xhr=null}},u.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(t){}if("application/octet-stream"===e)t=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{t=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(e){for(var n=new Uint8Array(this.xhr.response),r=[],i=0,o=n.length;i<o;i++)r.push(n[i]);t=String.fromCharCode.apply(null,r)}else t=this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},u.prototype.hasXDR=function(){return void 0!==e.XDomainRequest&&!this.xs&&this.enablesXDR},u.prototype.abort=function(){this.cleanup()},u.requestsCount=0,u.requests={},e.document&&(e.attachEvent?e.attachEvent("onunload",p):e.addEventListener&&e.addEventListener("beforeunload",p,!1))}).call(this,n(8))},function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},function(t,e){t.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(t),o=new Uint8Array(n-e),a=e,s=0;a<n;a++,s++)o[s]=i[a];return o.buffer}},function(t,e){function n(){}t.exports=function(t,e,r){var i=!1;return r=r||n,o.count=t,0===t?e():o;function o(t,n){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(i=!0,e(t),e=r):0!==o.count||i||e(null,n)}}},function(t,e,n){(function(t,r){var i;/*! https://mths.be/wtf8 v1.0.0 by @mathias */!function(o){var a=e,s=(t&&t.exports,"object"==typeof r&&r);s.global!==s&&s.window;var c,l,u,p=String.fromCharCode;function h(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function d(t,e){return p(t>>e&63|128)}function g(t){if(0==(4294967168&t))return p(t);var e="";return 0==(4294965248&t)?e=p(t>>6&31|192):0==(4294901760&t)?(e=p(t>>12&15|224),e+=d(t,6)):0==(4292870144&t)&&(e=p(t>>18&7|240),e+=d(t,12),e+=d(t,6)),e+=p(63&t|128)}function m(){if(u>=l)throw Error("Invalid byte index");var t=255&c[u];if(u++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function f(){var t,e;if(u>l)throw Error("Invalid byte index");if(u==l)return!1;if(t=255&c[u],u++,0==(128&t))return t;if(192==(224&t)){if((e=(31&t)<<6|m())>=128)return e;throw Error("Invalid continuation byte")}if(224==(240&t)){if((e=(15&t)<<12|m()<<6|m())>=2048)return e;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=(15&t)<<18|m()<<12|m()<<6|m())>=65536&&e<=1114111)return e;throw Error("Invalid WTF-8 detected")}var y={version:"1.0.0",encode:function(t){for(var e=h(t),n=e.length,r=-1,i="";++r<n;)i+=g(e[r]);return i},decode:function(t){c=h(t),l=c.length,u=0;for(var e,n=[];!1!==(e=f());)n.push(e);return function(t){for(var e,n=t.length,r=-1,i="";++r<n;)(e=t[r])>65535&&(i+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),i+=p(e);return i}(n)}};void 0===(i=function(){return y}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n(68)(t),n(8))},function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<t.length;r++)n[t.charCodeAt(r)]=r;e.encode=function(e){var n,r=new Uint8Array(e),i=r.length,o="";for(n=0;n<i;n+=3)o+=t[r[n]>>2],o+=t[(3&r[n])<<4|r[n+1]>>4],o+=t[(15&r[n+1])<<2|r[n+2]>>6],o+=t[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(t){var e,r,i,o,a,s=.75*t.length,c=t.length,l=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var u=new ArrayBuffer(s),p=new Uint8Array(u);for(e=0;e<c;e+=4)r=n[t.charCodeAt(e)],i=n[t.charCodeAt(e+1)],o=n[t.charCodeAt(e+2)],a=n[t.charCodeAt(e+3)],p[l++]=r<<2|i>>4,p[l++]=(15&i)<<4|o>>2,p[l++]=(3&o)<<6|63&a;return u}}()},function(t,e,n){(function(e){var n=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),i=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;function a(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=i.buffer}t[e]=r}}}function s(t,e){e=e||{};var r=new n;a(t);for(var i=0;i<t.length;i++)r.append(t[i]);return e.type?r.getBlob(e.type):r.getBlob()}function c(t,e){return a(t),new Blob(t,e||{})}t.exports=r?i?e.Blob:c:o?s:void 0}).call(this,n(8))},function(t,e,n){(function(e){var r=n(104),i=n(49);t.exports=l;var o,a=/\n/g,s=/\\n/g;function c(){}function l(t){r.call(this,t),this.query=this.query||{},o||(e.___eio||(e.___eio=[]),o=e.___eio),this.index=o.length;var n=this;o.push((function(t){n.onData(t)})),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener("beforeunload",(function(){n.script&&(n.script.onerror=c)}),!1)}i(l,r),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},l.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)}),100)},l.prototype.doWrite=function(t,e){var n=this;if(!this.form){var r,i=document.createElement("form"),o=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=c,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function l(){u(),e()}function u(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(t)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),u(),t=t.replace(s,"\\\n"),this.area.value=t.replace(a,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&l()}:this.iframe.onload=l}}).call(this,n(8))},function(t,e,n){(function(e){var r,i=n(72),o=n(36),a=n(73),s=n(49),c=n(106),l=n(21)("engine.io-client:websocket"),u=e.WebSocket||e.MozWebSocket;if("undefined"==typeof window)try{r=n(272)}catch(t){}var p=u;function h(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=u&&!t.forceNode,this.usingBrowserWebSocket||(p=r),i.call(this,t)}p||"undefined"!=typeof window||(p=r),t.exports=h,s(h,i),h.prototype.name="websocket",h.prototype.supportsBinary=!0,h.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e={agent:this.agent,perMessageDeflate:this.perMessageDeflate};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(e.headers=this.extraHeaders),this.localAddress&&(e.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new p(t):new p(t,void 0,e)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},h.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},h.prototype.write=function(t){var n=this;this.writable=!1;for(var r=t.length,i=0,a=r;i<a;i++)!function(t){o.encodePacket(t,n.supportsBinary,(function(i){if(!n.usingBrowserWebSocket){var o={};if(t.options&&(o.compress=t.options.compress),n.perMessageDeflate)("string"==typeof i?e.Buffer.byteLength(i):i.length)<n.perMessageDeflate.threshold&&(o.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(i):n.ws.send(i,o)}catch(t){l("websocket closed before onclose event")}--r||s()}))}(t[i]);function s(){n.emit("flush"),setTimeout((function(){n.writable=!0,n.emit("drain")}),0)}},h.prototype.onClose=function(){i.prototype.onClose.call(this)},h.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},h.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||(t.b64=1),(t=a.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},h.prototype.check=function(){return!(!p||"__initialize"in p&&this.name===h.prototype.name)}}).call(this,n(8))},function(t,e){},function(t,e,n){(function(e){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,a=/^\s+/,s=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(a,"").replace(s,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(r,"@").replace(i,"]").replace(o,""))?new Function("return "+t)():void 0):null}}).call(this,n(8))},function(t,e){t.exports=function(t,e){for(var n=[],r=(e=e||0)||0;r<t.length;r++)n[r-e]=t[r];return n}},function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=l(t),a=r[0],s=r[1],c=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),u=0,p=s>0?a-4:a;for(n=0;n<p;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[u++]=e>>16&255,c[u++]=e>>8&255,c[u++]=255&e;2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[u++]=255&e);1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[u++]=e>>8&255,c[u++]=255&e);return c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(u(t,a,a+16383>s?s:a+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,l=c>>1,u=-7,p=n?i-1:0,h=n?-1:1,d=t[e+p];for(p+=h,o=d&(1<<-u)-1,d>>=-u,u+=s;u>0;o=256*o+t[e+p],p+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+t[e+p],p+=h,u-=8);if(0===o)o=1-l;else{if(o===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,c,l=8*o-i-1,u=(1<<l)-1,p=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,g=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+p>=1?h/c:h*Math.pow(2,1-p))*c>=2&&(a++,c/=2),a+p>=u?(s=0,a=u):a+p>=1?(s=(e*c-1)*Math.pow(2,i),a+=p):(s=e*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=g,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+d]=255&a,d+=g,a/=256,l-=8);t[n+d-g]|=128*m}},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAA0CAYAAAAT3cGOAAAABGdBTUEAALGPC/xhBQAABC5JREFUaAXtmvtLFFEUx8/s6trD3XxkCJYlQYb2zjR6kGBtRGiaLVHRi+hF9vgn+jkog8qifpTsQUL0Q25JBGWFEBRSEEkvMsJH7cPZnUf3TM24zrgzc2dnXAMPLHPuvd9z7mfv3Dl3YZYBCvP7G2aFY9xZYKCAIiwlKQPAgtvV8rTjXkeG2UwIGolzjwHEMhDNRqWuw6kYTvCLophHwI1t/ZZAgRCNPiLKRcZqZxS+qSVTDFe2urZ2Jvd7OKgGXbumMlK5asU0Z9AAeI6D8xevjkqvC1tT05DPhrigCOLiUVGksWRROdtYv9Ux2FgspoF1qSHktgQqxINkryyR+3w+r+ym5Tom7ObNgbxhPt4hirBUpjpx7CCsqlguN9Ny1cCu27o7N8QOdxCaZTLR8SMHYNfO7VgExrEOyLOPXEfBIihEfhNQUVnCo4f3w55djVKEKAj8SOj4ewpsdX19DkR+PSR7dIWMceTQXti7e4fcBDImKI00OFI1QND4IP+QzL9SZiBlCcrKSuFV92u5C/r7BxQ/HY4Eyw1yd8nkFYkAL152A35U5lG1kza5n2+ksYyZ9p0jrkAg4CFPTXXSWZMMeL3ZU5IMkS3PQ6TnpvRB3y7LCIUKyZH7UcmXlZX1hXExSfcmQ37FlC6YL/g3bpinBKkctjcIfLhP6kU/q8SvUlhrak6w263XZufkzLCWjUSJsV8Q/XBfiUffU7QaGI9P6bPqKNXAagJ1XPTdHRC5YaUbfeyzw2yF5Yd6IfbtuYYL+3AsVbMVNtLTirVYw4R9OJaq2QYb+/oMuMGRB1UNhmOoScXsgeVZiL7HUq1vkoZorZotsPjEC+yQIQNqEiuFYYBKkDKsEPkBWEvNGmoxxoqlDIsnlShwpudGLcZYMc2hQJske2UTbYhlfcora3lmC4GmVzb89i18vnQZhrq6ID4wAJm5uTCjqgrmHDsK08vLLUxNH2IMy/Pw6UIzfGpuBiEeV2Zg+/rgR3s7/HzwAIqbmqD41EkAl7M3yhAWQXvPnVMg1Q5+AXm8+Mxp9bCtbV1YvPW4omYMdfmbNmq2ROGO62bCJc33Wwd1tbr3Dfdo4q3Xy4Q61DtpurD4MNEYrZ4mN2p1YfGppzFaPU1u1OrCYnmiMVo9TW7U6sJiHaUxWj1NbtTqwmLBd2VmmsqJOtQ7abqweDJhwTdjqHP6JNOtswhZfPIvrPoEk78ArqhygsmdDl0NYcHtBjyZsOBP/N8G/1YJb/HCC+cdWjNzaY1X1lyepCqjIzRp4BgDug/YGPq0dk3COrX8kys7ubJkBf6rbaCps7wggEA+6TbkUJsGdlvjPrVmwrRd0ap8Hpjk7xAmBCnhQ053b2enMLektIhAKe/AJgRgAgTDMC1PblxpV/4cUVdX5w2H3abfcyXkctTl8zLYzra2EE7yByEpfO6yzEYcAAAAAElFTkSuQmCC"},function(t,e,n){(t.exports=n(280)(!1)).push([t.i,'#PureChatWidget.purechat .purechat-truncate {\n  display: block !important;\n  white-space: nowrap !important;\n  overflow: hidden !important;\n  text-overflow: ellipsis !important;\n}\n.purechat a,\n.purechat abbr,\n.purechat address,\n.purechat area,\n.purechat article,\n.purechat aside,\n.purechat audio,\n.purechat b,\n.purechat base,\n.purechat bdi,\n.purechat bdo,\n.purechat blockquote,\n.purechat body,\n.purechat br,\n.purechat button,\n.purechat canvas,\n.purechat caption,\n.purechat cite,\n.purechat code,\n.purechat col,\n.purechat colgroup,\n.purechat command,\n.purechat datalist,\n.purechat dd,\n.purechat del,\n.purechat details,\n.purechat dfn,\n.purechat div,\n.purechat dl,\n.purechat dt,\n.purechat em,\n.purechat embed,\n.purechat fieldset,\n.purechat figcaption,\n.purechat figure,\n.purechat footer,\n.purechat form,\n.purechat h1,\n.purechat h2,\n.purechat h3,\n.purechat h4,\n.purechat h5,\n.purechat h6,\n.purechat head,\n.purechat header,\n.purechat hgroup,\n.purechat hr,\n.purechat i,\n.purechat iframe,\n.purechat img,\n.purechat input,\n.purechat ins,\n.purechat kbd,\n.purechat keygen,\n.purechat label,\n.purechat legend,\n.purechat li,\n.purechat link,\n.purechat map,\n.purechat mark,\n.purechat menu,\n.purechat meta,\n.purechat meter,\n.purechat nav,\n.purechat noscript,\n.purechat object,\n.purechat ol,\n.purechat optgroup,\n.purechat option,\n.purechat output,\n.purechat p,\n.purechat param,\n.purechat pre,\n.purechat progress,\n.purechat q,\n.purechat rp,\n.purechat rt,\n.purechat ruby,\n.purechat s,\n.purechat samp,\n.purechat section,\n.purechat select,\n.purechat small,\n.purechat source,\n.purechat span,\n.purechat strong,\n.purechat style,\n.purechat sub,\n.purechat summary,\n.purechat sup,\n.purechat table,\n.purechat tbody,\n.purechat td,\n.purechat textarea,\n.purechat tfoot,\n.purechat th,\n.purechat thead,\n.purechat time,\n.purechat title,\n.purechat tr,\n.purechat track,\n.purechat u,\n.purechat ul,\n.purechat var,\n.purechat video,\n.purechat wbr,\n.purechat a:before,\n.purechat abbr:before,\n.purechat address:before,\n.purechat area:before,\n.purechat article:before,\n.purechat aside:before,\n.purechat audio:before,\n.purechat b:before,\n.purechat base:before,\n.purechat bdi:before,\n.purechat bdo:before,\n.purechat blockquote:before,\n.purechat body:before,\n.purechat br:before,\n.purechat button:before,\n.purechat canvas:before,\n.purechat caption:before,\n.purechat cite:before,\n.purechat code:before,\n.purechat col:before,\n.purechat colgroup:before,\n.purechat command:before,\n.purechat datalist:before,\n.purechat dd:before,\n.purechat del:before,\n.purechat details:before,\n.purechat dfn:before,\n.purechat div:before,\n.purechat dl:before,\n.purechat dt:before,\n.purechat em:before,\n.purechat embed:before,\n.purechat fieldset:before,\n.purechat figcaption:before,\n.purechat figure:before,\n.purechat footer:before,\n.purechat form:before,\n.purechat h1:before,\n.purechat h2:before,\n.purechat h3:before,\n.purechat h4:before,\n.purechat h5:before,\n.purechat h6:before,\n.purechat head:before,\n.purechat header:before,\n.purechat hgroup:before,\n.purechat hr:before,\n.purechat i:before,\n.purechat iframe:before,\n.purechat img:before,\n.purechat input:before,\n.purechat ins:before,\n.purechat kbd:before,\n.purechat keygen:before,\n.purechat label:before,\n.purechat legend:before,\n.purechat li:before,\n.purechat link:before,\n.purechat map:before,\n.purechat mark:before,\n.purechat menu:before,\n.purechat meta:before,\n.purechat meter:before,\n.purechat nav:before,\n.purechat noscript:before,\n.purechat object:before,\n.purechat ol:before,\n.purechat optgroup:before,\n.purechat option:before,\n.purechat output:before,\n.purechat p:before,\n.purechat param:before,\n.purechat pre:before,\n.purechat progress:before,\n.purechat q:before,\n.purechat rp:before,\n.purechat rt:before,\n.purechat ruby:before,\n.purechat s:before,\n.purechat samp:before,\n.purechat section:before,\n.purechat select:before,\n.purechat small:before,\n.purechat source:before,\n.purechat span:before,\n.purechat strong:before,\n.purechat style:before,\n.purechat sub:before,\n.purechat summary:before,\n.purechat sup:before,\n.purechat table:before,\n.purechat tbody:before,\n.purechat td:before,\n.purechat textarea:before,\n.purechat tfoot:before,\n.purechat th:before,\n.purechat thead:before,\n.purechat time:before,\n.purechat title:before,\n.purechat tr:before,\n.purechat track:before,\n.purechat u:before,\n.purechat ul:before,\n.purechat var:before,\n.purechat video:before,\n.purechat wbr:before,\n.purechat a:after,\n.purechat abbr:after,\n.purechat address:after,\n.purechat area:after,\n.purechat article:after,\n.purechat aside:after,\n.purechat audio:after,\n.purechat b:after,\n.purechat base:after,\n.purechat bdi:after,\n.purechat bdo:after,\n.purechat blockquote:after,\n.purechat body:after,\n.purechat br:after,\n.purechat button:after,\n.purechat canvas:after,\n.purechat caption:after,\n.purechat cite:after,\n.purechat code:after,\n.purechat col:after,\n.purechat colgroup:after,\n.purechat command:after,\n.purechat datalist:after,\n.purechat dd:after,\n.purechat del:after,\n.purechat details:after,\n.purechat dfn:after,\n.purechat div:after,\n.purechat dl:after,\n.purechat dt:after,\n.purechat em:after,\n.purechat embed:after,\n.purechat fieldset:after,\n.purechat figcaption:after,\n.purechat figure:after,\n.purechat footer:after,\n.purechat form:after,\n.purechat h1:after,\n.purechat h2:after,\n.purechat h3:after,\n.purechat h4:after,\n.purechat h5:after,\n.purechat h6:after,\n.purechat head:after,\n.purechat header:after,\n.purechat hgroup:after,\n.purechat hr:after,\n.purechat i:after,\n.purechat iframe:after,\n.purechat img:after,\n.purechat input:after,\n.purechat ins:after,\n.purechat kbd:after,\n.purechat keygen:after,\n.purechat label:after,\n.purechat legend:after,\n.purechat li:after,\n.purechat link:after,\n.purechat map:after,\n.purechat mark:after,\n.purechat menu:after,\n.purechat meta:after,\n.purechat meter:after,\n.purechat nav:after,\n.purechat noscript:after,\n.purechat object:after,\n.purechat ol:after,\n.purechat optgroup:after,\n.purechat option:after,\n.purechat output:after,\n.purechat p:after,\n.purechat param:after,\n.purechat pre:after,\n.purechat progress:after,\n.purechat q:after,\n.purechat rp:after,\n.purechat rt:after,\n.purechat ruby:after,\n.purechat s:after,\n.purechat samp:after,\n.purechat section:after,\n.purechat select:after,\n.purechat small:after,\n.purechat source:after,\n.purechat span:after,\n.purechat strong:after,\n.purechat style:after,\n.purechat sub:after,\n.purechat summary:after,\n.purechat sup:after,\n.purechat table:after,\n.purechat tbody:after,\n.purechat td:after,\n.purechat textarea:after,\n.purechat tfoot:after,\n.purechat th:after,\n.purechat thead:after,\n.purechat time:after,\n.purechat title:after,\n.purechat tr:after,\n.purechat track:after,\n.purechat u:after,\n.purechat ul:after,\n.purechat var:after,\n.purechat video:after,\n.purechat wbr:after {\n  alignment-baseline: auto !important;\n  animation-delay: 0s !important;\n  animation-direction: normal !important;\n  animation-duration: 0s !important;\n  animation-fill-mode: none !important;\n  animation-iteration-count: 1 !important;\n  animation-name: none !important;\n  animation-play-state: running !important;\n  animation-timing-function: ease !important;\n  background-attachment: scroll !important;\n  background-blend-mode: normal !important;\n  background-clip: border-box !important;\n  background-color: rgba(0,0,0,0) !important;\n  background-image: none !important;\n  background-origin: padding-box !important;\n  background-position-x: 0% !important;\n  background-position-y: 0% !important;\n  background-repeat-x: no-repeat !important;\n  background-repeat-y: no-repeat !important;\n  border-bottom-color: rgba(0,0,0,0) !important;\n  border-bottom-left-radius: 0px !important;\n  border-bottom-right-radius: 0px !important;\n  border-bottom-style: none !important;\n  border-bottom-width: 0px !important;\n  border-collapse: separate !important;\n  border-left-color: rgba(0,0,0,0) !important;\n  border-left-style: none !important;\n  border-left-width: 0px !important;\n  border-right-color: rgba(0,0,0,0) !important;\n  border-right-style: none !important;\n  border-right-width: 0px !important;\n  border-top-color: rgba(0,0,0,0) !important;\n  border-top-left-radius: 0px !important;\n  border-top-right-radius: 0px !important;\n  border-top-style: none !important;\n  border-top-width: 0px !important;\n  bottom: auto !important;\n  box-shadow: none !important;\n  box-sizing: border-box !important;\n  clear: none !important;\n  color: #3b404c !important;\n  cursor: default !important;\n  display: block !important;\n  fill: #000 !important;\n  fill-opacity: 1 !important;\n  fill-rule: nonzero !important;\n  filter: none !important;\n  flex-basis: auto !important;\n  flex-direction: row !important;\n  flex-grow: 0 !important;\n  flex-shrink: 1 !important;\n  flex-wrap: nowrap !important;\n  float: none !important;\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif !important;\n  font-size: 14px !important;\n  font-stretch: normal !important;\n  font-style: normal !important;\n  font-variant-caps: normal !important;\n  font-weight: normal !important;\n  height: auto !important;\n  left: auto !important;\n  letter-spacing: normal !important;\n  line-height: 1.2 !important;\n  margin-bottom: 0px !important;\n  margin-left: 0px !important;\n  margin-right: 0px !important;\n  margin-top: 0px !important;\n  max-height: none !important;\n  max-width: none !important;\n  min-height: 0px !important;\n  min-width: 0px !important;\n  opacity: 1 !important;\n  outline-color: rgba(0,0,0,0) !important;\n  outline-offset: 0px !important;\n  outline-style: none !important;\n  outline-width: 0px !important;\n  overflow-anchor: auto !important;\n  overflow-wrap: normal !important;\n  overflow-x: visible !important;\n  overflow-y: visible !important;\n  padding-bottom: 0px !important;\n  padding-left: 0px !important;\n  padding-right: 0px !important;\n  padding-top: 0px !important;\n  position: static !important;\n  right: auto !important;\n  table-layout: auto !important;\n  text-align: start !important;\n  text-decoration-color: rgba(0,0,0,0) !important;\n  text-decoration-line: none !important;\n  text-decoration-skip: objects !important;\n  text-decoration-style: solid !important;\n  text-indent: 0px !important;\n  text-shadow: none !important;\n  text-transform: none !important;\n  top: auto !important;\n  transform: none !important;\n  -webkit-transition: none !important;\n  transition-delay: 0s !important;\n  transition-duration: 0s !important;\n  transition-property: all !important;\n  transition-timing-function: ease !important;\n  vertical-align: baseline !important;\n  visibility: visible !important;\n  white-space: normal !important;\n  width: auto !important;\n  word-break: normal !important;\n  word-spacing: 0px !important;\n  word-wrap: normal !important;\n  z-index: auto !important;\n  zoom: 1 !important;\n}\n.purechat a:before,\n.purechat abbr:before,\n.purechat address:before,\n.purechat area:before,\n.purechat article:before,\n.purechat aside:before,\n.purechat audio:before,\n.purechat b:before,\n.purechat base:before,\n.purechat bdi:before,\n.purechat bdo:before,\n.purechat blockquote:before,\n.purechat body:before,\n.purechat br:before,\n.purechat button:before,\n.purechat canvas:before,\n.purechat caption:before,\n.purechat cite:before,\n.purechat code:before,\n.purechat col:before,\n.purechat colgroup:before,\n.purechat command:before,\n.purechat datalist:before,\n.purechat dd:before,\n.purechat del:before,\n.purechat details:before,\n.purechat dfn:before,\n.purechat div:before,\n.purechat dl:before,\n.purechat dt:before,\n.purechat em:before,\n.purechat embed:before,\n.purechat fieldset:before,\n.purechat figcaption:before,\n.purechat figure:before,\n.purechat footer:before,\n.purechat form:before,\n.purechat h1:before,\n.purechat h2:before,\n.purechat h3:before,\n.purechat h4:before,\n.purechat h5:before,\n.purechat h6:before,\n.purechat head:before,\n.purechat header:before,\n.purechat hgroup:before,\n.purechat hr:before,\n.purechat i:before,\n.purechat iframe:before,\n.purechat img:before,\n.purechat input:before,\n.purechat ins:before,\n.purechat kbd:before,\n.purechat keygen:before,\n.purechat label:before,\n.purechat legend:before,\n.purechat li:before,\n.purechat link:before,\n.purechat map:before,\n.purechat mark:before,\n.purechat menu:before,\n.purechat meta:before,\n.purechat meter:before,\n.purechat nav:before,\n.purechat noscript:before,\n.purechat object:before,\n.purechat ol:before,\n.purechat optgroup:before,\n.purechat option:before,\n.purechat output:before,\n.purechat p:before,\n.purechat param:before,\n.purechat pre:before,\n.purechat progress:before,\n.purechat q:before,\n.purechat rp:before,\n.purechat rt:before,\n.purechat ruby:before,\n.purechat s:before,\n.purechat samp:before,\n.purechat section:before,\n.purechat select:before,\n.purechat small:before,\n.purechat source:before,\n.purechat span:before,\n.purechat strong:before,\n.purechat style:before,\n.purechat sub:before,\n.purechat summary:before,\n.purechat sup:before,\n.purechat table:before,\n.purechat tbody:before,\n.purechat td:before,\n.purechat textarea:before,\n.purechat tfoot:before,\n.purechat th:before,\n.purechat thead:before,\n.purechat time:before,\n.purechat title:before,\n.purechat tr:before,\n.purechat track:before,\n.purechat u:before,\n.purechat ul:before,\n.purechat var:before,\n.purechat video:before,\n.purechat wbr:before,\n.purechat a:after,\n.purechat abbr:after,\n.purechat address:after,\n.purechat area:after,\n.purechat article:after,\n.purechat aside:after,\n.purechat audio:after,\n.purechat b:after,\n.purechat base:after,\n.purechat bdi:after,\n.purechat bdo:after,\n.purechat blockquote:after,\n.purechat body:after,\n.purechat br:after,\n.purechat button:after,\n.purechat canvas:after,\n.purechat caption:after,\n.purechat cite:after,\n.purechat code:after,\n.purechat col:after,\n.purechat colgroup:after,\n.purechat command:after,\n.purechat datalist:after,\n.purechat dd:after,\n.purechat del:after,\n.purechat details:after,\n.purechat dfn:after,\n.purechat div:after,\n.purechat dl:after,\n.purechat dt:after,\n.purechat em:after,\n.purechat embed:after,\n.purechat fieldset:after,\n.purechat figcaption:after,\n.purechat figure:after,\n.purechat footer:after,\n.purechat form:after,\n.purechat h1:after,\n.purechat h2:after,\n.purechat h3:after,\n.purechat h4:after,\n.purechat h5:after,\n.purechat h6:after,\n.purechat head:after,\n.purechat header:after,\n.purechat hgroup:after,\n.purechat hr:after,\n.purechat i:after,\n.purechat iframe:after,\n.purechat img:after,\n.purechat input:after,\n.purechat ins:after,\n.purechat kbd:after,\n.purechat keygen:after,\n.purechat label:after,\n.purechat legend:after,\n.purechat li:after,\n.purechat link:after,\n.purechat map:after,\n.purechat mark:after,\n.purechat menu:after,\n.purechat meta:after,\n.purechat meter:after,\n.purechat nav:after,\n.purechat noscript:after,\n.purechat object:after,\n.purechat ol:after,\n.purechat optgroup:after,\n.purechat option:after,\n.purechat output:after,\n.purechat p:after,\n.purechat param:after,\n.purechat pre:after,\n.purechat progress:after,\n.purechat q:after,\n.purechat rp:after,\n.purechat rt:after,\n.purechat ruby:after,\n.purechat s:after,\n.purechat samp:after,\n.purechat section:after,\n.purechat select:after,\n.purechat small:after,\n.purechat source:after,\n.purechat span:after,\n.purechat strong:after,\n.purechat style:after,\n.purechat sub:after,\n.purechat summary:after,\n.purechat sup:after,\n.purechat table:after,\n.purechat tbody:after,\n.purechat td:after,\n.purechat textarea:after,\n.purechat tfoot:after,\n.purechat th:after,\n.purechat thead:after,\n.purechat time:after,\n.purechat title:after,\n.purechat tr:after,\n.purechat track:after,\n.purechat u:after,\n.purechat ul:after,\n.purechat var:after,\n.purechat video:after,\n.purechat wbr:after {\n  box-sizing: border-box !important;\n}\n.purechat ::-webkit-input-placeholder {\n  color: #afaba3 !important;\n}\n.purechat ::-moz-placeholder {\n  color: #afaba3 !important;\n  opacity: 1 !important;\n}\n.purechat :-ms-input-placeholder {\n  color: #afaba3 !important;\n}\n.purechat ::-ms-input-placeholder {\n  color: #afaba3 !important;\n}\n.purechat a {\n  cursor: pointer !important;\n}\n.purechat a,\n.purechat em,\n.purechat span,\n.purechat strong {\n  display: inline !important;\n}\n.purechat button,\n.purechat img {\n  display: inline-block !important;\n}\n#PureChatWidget.purechat.purechat-animate,\n#PureChatWidget.purechat .purechat-animate {\n  animation-fill-mode: both !important;\n  animation-duration: 1s !important;\n}\n#PureChatWidget.purechat.purechat-animate-somewhat-fast,\n#PureChatWidget.purechat .purechat-animate-somewhat-fast {\n  animation-duration: 0.2s !important;\n  animation-fill-mode: both !important;\n  animation-timing-function: ease-in !important;\n}\n#PureChatWidget.purechat.purechat-animate.purechat-animate-fast,\n#PureChatWidget.purechat .purechat-animate.purechat-animate-fast {\n  animation-duration: 0.1s !important;\n  animation-fill-mode: both !important;\n  animation-timing-function: ease-in !important;\n}\n#PureChatWidget.purechat.purechat-animate.purechat-animation-hinge {\n  animation-duration: 1s !important;\n}\n#PureChatWidget.purechat.purechat-animate.purechat-animation-flip {\n  backface-visibility: visible !important;\n  animation-name: purechat-flip !important;\n}\n#PureChatWidget.purechat.purechat-animation-flipInX {\n  backface-visibility: visible !important;\n  animation-name: purechat-flipInX !important;\n}\n#PureChatWidget.purechat.purechat-animation-flipInY {\n  backface-visibility: visible !important;\n  animation-name: purechat-flipInY !important;\n}\n#PureChatWidget.purechat.purechat-animation-fadeIn,\n#PureChatWidget.purechat .purechat-animation-fadeIn {\n  animation-name: purechat-fadeIn !important;\n}\n#PureChatWidget.purechat.purechat-animation-fadeInUp {\n  animation-name: purechat-fadeInUp !important;\n}\n#PureChatWidget.purechat.purechat-animation-fadeInDown {\n  animation-name: purechat-fadeInDown !important;\n}\n#PureChatWidget.purechat.purechat-animation-fadeInLeft {\n  animation-name: purechat-fadeInLeft !important;\n}\n#PureChatWidget.purechat.purechat-animation-fadeInRight {\n  animation-name: purechat-fadeInRight !important;\n}\n#PureChatWidget.purechat.purechat-animation-fadeInUpBig {\n  animation-name: purechat-fadeInUpBig !important;\n}\n#PureChatWidget.purechat.purechat-animation-fadeInDownBig {\n  animation-name: purechat-fadeInDownBig !important;\n}\n#PureChatWidget.purechat.purechat-animation-fadeInLeftBig {\n  animation-name: purechat-fadeInLeftBig !important;\n}\n#PureChatWidget.purechat.purechat-animation-fadeInRightBig {\n  animation-name: purechat-fadeInRightBig !important;\n}\n#PureChatWidget.purechat.purechat-animation-slideInDown {\n  animation-name: purechat-slideInDown !important;\n}\n#PureChatWidget.purechat.purechat-animation-slideInUp {\n  animation-name: purechat-slideInUp !important;\n}\n#PureChatWidget.purechat.purechat-animation-slideInLeft {\n  animation-name: purechat-slideInLeft !important;\n}\n#PureChatWidget.purechat.purechat-animation-slideInRight {\n  animation-name: purechat-slideInRight !important;\n}\n#PureChatWidget.purechat.purechat-animation-bounceIn {\n  animation-name: purechat-bounceIn !important;\n}\n#PureChatWidget.purechat.purechat-animation-bounceInUp {\n  animation-name: purechat-bounceInUp !important;\n}\n#PureChatWidget.purechat.purechat-animation-bounceInDown {\n  animation-name: purechat-bounceInDown !important;\n}\n#PureChatWidget.purechat.purechat-animation-bounceInLeft {\n  animation-name: purechat-bounceInLeft !important;\n}\n#PureChatWidget.purechat.purechat-animation-bounceInRight {\n  animation-name: purechat-bounceInRight !important;\n}\n#PureChatWidget.purechat.purechat-animation-slideInRight {\n  animation-name: purechat-slideInRight !important;\n}\n#PureChatWidget.purechat.purechat-animation-rotateIn {\n  animation-name: purechat-rotateIn !important;\n}\n#PureChatWidget.purechat.purechat-animation-rotateInUpLeft {\n  animation-name: purechat-rotateInUpLeft !important;\n}\n#PureChatWidget.purechat.purechat-animation-rotateInDownLeft {\n  animation-name: purechat-rotateInDownLeft !important;\n}\n#PureChatWidget.purechat.purechat-animation-rotateInUpRight {\n  animation-name: purechat-rotateInUpRight !important;\n}\n#PureChatWidget.purechat.purechat-animation-rotateInDownRight {\n  animation-name: purechat-rotateInDownRight !important;\n}\n#PureChatWidget.purechat.purechat-animation-lightSpeedIn {\n  animation-name: lightSpeedIn !important;\n  animation-timing-function: ease-out !important;\n}\n#PureChatWidget.purechat.purechat-animation-rollIn {\n  animation-name: purechat-rollIn !important;\n}\n#PureChatWidget.purechat.purechat-animation-toast-x {\n  opacity: 0 !important;\n  animation-duration: 4s !important;\n  animation-iteration-count: 1 !important;\n  animation-name: purechat-toastRight !important;\n}\n#PureChatWidget.purechat .purechat-animation-toastUpDown {\n  opacity: 0 !important;\n  animation-duration: 4s !important;\n  animation-iteration-count: 1 !important;\n  animation-name: purechat-toastUpDown !important;\n}\n#PureChatWidget.purechat .purechat-animation-toastDownUp {\n  opacity: 0 !important;\n  animation-duration: 4s !important;\n  animation-iteration-count: 1 !important;\n  animation-name: purechat-toastDownUp !important;\n}\n#PureChatWidget.purechat.purechat-animation.purechat-animation-none {\n  animation-fill-mode: both !important;\n  animation-duration: 0.1s !important;\n}\n#PureChatWidget.purechat.purechat-animation-none {\n  animation-name: purechat-none !important;\n}\n#PureChatWidget.purechat.purechat-animation-fadeOutDownSmall,\n#PureChatWidget.purechat .purechat-animation-fadeOutDownSmall {\n  animation-name: purechat-fadeOutDownSmall !important;\n}\n#PureChatWidget.purechat.purechat-animation-fadeOutUpSmall,\n#PureChatWidget.purechat .purechat-animation-fadeOutUpSmall {\n  animation-name: purechat-fadeOutUpSmall !important;\n}\n#PureChatWidget.purechat.purechat-animation-fadeInDownSmall,\n#PureChatWidget.purechat .purechat-animation-fadeInDownSmall {\n  animation-name: purechat-fadeInDownSmall !important;\n}\n#PureChatWidget.purechat.purechat-animation-fadeInUpSmall,\n#PureChatWidget.purechat .purechat-animation-fadeInUpSmall {\n  animation-name: purechat-fadeInUpSmall !important;\n}\n#PureChatWidget.purechat.purechat-animation-bounceUpSmall,\n#PureChatWidget.purechat .purechat-animation-bounceUpSmall {\n  animation-name: purechat-bounceUpSmall !important;\n}\n#PureChatWidget.purechat.purechat-animation-bounceDownSmall,\n#PureChatWidget.purechat .purechat-animation-bounceDownSmall {\n  animation-name: purechat-bounceDownSmall !important;\n}\n#PureChatWidget.purechat .purechat-animate-spin,\n#PureChatWidget.purechat.purechat-animate-spin {\n  animation-name: purechat-spin !important;\n  animation-iteration-count: infinite !important;\n  animation-duration: 3s !important;\n}\n@-moz-keyframes purechat-spin {\n  from {\n    transform: rotate(0deg) !important;\n  }\n  to {\n    transform: rotate(360deg) !important;\n  }\n}\n@-webkit-keyframes purechat-spin {\n  from {\n    transform: rotate(0deg) !important;\n  }\n  to {\n    transform: rotate(360deg) !important;\n  }\n}\n@-o-keyframes purechat-spin {\n  from {\n    transform: rotate(0deg) !important;\n  }\n  to {\n    transform: rotate(360deg) !important;\n  }\n}\n@keyframes purechat-spin {\n  from {\n    transform: rotate(0deg) !important;\n  }\n  to {\n    transform: rotate(360deg) !important;\n  }\n}\n@-moz-keyframes purechat-flip {\n  0% {\n    transform: perspective(400px) translateZ(0) rotateY(0) scale(1);\n    animation-timing-function: ease-out;\n  }\n  40% {\n    transform: perspective(400px) translateZ(150px) rotateY(170deg) scale(1);\n    animation-timing-function: ease-out;\n  }\n  50% {\n    transform: perspective(400px) translateZ(150px) rotateY(190deg) scale(1);\n    animation-timing-function: ease-in;\n  }\n  80% {\n    transform: perspective(400px) translateZ(0) rotateY(360deg) scale(0.95);\n    animation-timing-function: ease-in;\n  }\n  100% {\n    transform: perspective(400px) translateZ(0) rotateY(360deg) scale(1);\n    animation-timing-function: ease-in;\n  }\n}\n@-webkit-keyframes purechat-flip {\n  0% {\n    transform: perspective(400px) translateZ(0) rotateY(0) scale(1);\n    animation-timing-function: ease-out;\n  }\n  40% {\n    transform: perspective(400px) translateZ(150px) rotateY(170deg) scale(1);\n    animation-timing-function: ease-out;\n  }\n  50% {\n    transform: perspective(400px) translateZ(150px) rotateY(190deg) scale(1);\n    animation-timing-function: ease-in;\n  }\n  80% {\n    transform: perspective(400px) translateZ(0) rotateY(360deg) scale(0.95);\n    animation-timing-function: ease-in;\n  }\n  100% {\n    transform: perspective(400px) translateZ(0) rotateY(360deg) scale(1);\n    animation-timing-function: ease-in;\n  }\n}\n@-o-keyframes purechat-flip {\n  0% {\n    transform: perspective(400px) translateZ(0) rotateY(0) scale(1);\n    animation-timing-function: ease-out;\n  }\n  40% {\n    transform: perspective(400px) translateZ(150px) rotateY(170deg) scale(1);\n    animation-timing-function: ease-out;\n  }\n  50% {\n    transform: perspective(400px) translateZ(150px) rotateY(190deg) scale(1);\n    animation-timing-function: ease-in;\n  }\n  80% {\n    transform: perspective(400px) translateZ(0) rotateY(360deg) scale(0.95);\n    animation-timing-function: ease-in;\n  }\n  100% {\n    transform: perspective(400px) translateZ(0) rotateY(360deg) scale(1);\n    animation-timing-function: ease-in;\n  }\n}\n@keyframes purechat-flip {\n  0% {\n    transform: perspective(400px) translateZ(0) rotateY(0) scale(1);\n    animation-timing-function: ease-out;\n  }\n  40% {\n    transform: perspective(400px) translateZ(150px) rotateY(170deg) scale(1);\n    animation-timing-function: ease-out;\n  }\n  50% {\n    transform: perspective(400px) translateZ(150px) rotateY(190deg) scale(1);\n    animation-timing-function: ease-in;\n  }\n  80% {\n    transform: perspective(400px) translateZ(0) rotateY(360deg) scale(0.95);\n    animation-timing-function: ease-in;\n  }\n  100% {\n    transform: perspective(400px) translateZ(0) rotateY(360deg) scale(1);\n    animation-timing-function: ease-in;\n  }\n}\n@-moz-keyframes purechat-bounceInDown {\n  0% {\n    opacity: 0;\n    transform: translateY(-2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateY(30px);\n  }\n  80% {\n    transform: translateY(-10px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-webkit-keyframes purechat-bounceInDown {\n  0% {\n    opacity: 0;\n    transform: translateY(-2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateY(30px);\n  }\n  80% {\n    transform: translateY(-10px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-o-keyframes purechat-bounceInDown {\n  0% {\n    opacity: 0;\n    transform: translateY(-2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateY(30px);\n  }\n  80% {\n    transform: translateY(-10px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@keyframes purechat-bounceInDown {\n  0% {\n    opacity: 0;\n    transform: translateY(-2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateY(30px);\n  }\n  80% {\n    transform: translateY(-10px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-moz-keyframes purechat-bounceInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateX(-30px);\n  }\n  80% {\n    transform: translateX(10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-webkit-keyframes purechat-bounceInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateX(-30px);\n  }\n  80% {\n    transform: translateX(10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-o-keyframes purechat-bounceInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateX(-30px);\n  }\n  80% {\n    transform: translateX(10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@keyframes purechat-bounceInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateX(-30px);\n  }\n  80% {\n    transform: translateX(10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-moz-keyframes purechat-bounceInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(-2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateX(30px);\n  }\n  80% {\n    transform: translateX(-10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-webkit-keyframes purechat-bounceInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(-2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateX(30px);\n  }\n  80% {\n    transform: translateX(-10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-o-keyframes purechat-bounceInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(-2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateX(30px);\n  }\n  80% {\n    transform: translateX(-10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@keyframes purechat-bounceInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(-2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateX(30px);\n  }\n  80% {\n    transform: translateX(-10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-moz-keyframes purechat-rotateIn {\n  0% {\n    transform-origin: center center;\n    transform: rotate(-200deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: center center;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes purechat-rotateIn {\n  0% {\n    transform-origin: center center;\n    transform: rotate(-200deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: center center;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@-o-keyframes purechat-rotateIn {\n  0% {\n    transform-origin: center center;\n    transform: rotate(-200deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: center center;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@keyframes purechat-rotateIn {\n  0% {\n    transform-origin: center center;\n    transform: rotate(-200deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: center center;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@-moz-keyframes purechat-rotateInUpLeft {\n  0% {\n    transform-origin: left bottom;\n    transform: rotate(90deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: left bottom;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes purechat-rotateInUpLeft {\n  0% {\n    transform-origin: left bottom;\n    transform: rotate(90deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: left bottom;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@-o-keyframes purechat-rotateInUpLeft {\n  0% {\n    transform-origin: left bottom;\n    transform: rotate(90deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: left bottom;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@keyframes purechat-rotateInUpLeft {\n  0% {\n    transform-origin: left bottom;\n    transform: rotate(90deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: left bottom;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@-moz-keyframes purechat-rotateInDownLeft {\n  0% {\n    transform-origin: left bottom;\n    transform: rotate(-90deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: left bottom;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes purechat-rotateInDownLeft {\n  0% {\n    transform-origin: left bottom;\n    transform: rotate(-90deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: left bottom;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@-o-keyframes purechat-rotateInDownLeft {\n  0% {\n    transform-origin: left bottom;\n    transform: rotate(-90deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: left bottom;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@keyframes purechat-rotateInDownLeft {\n  0% {\n    transform-origin: left bottom;\n    transform: rotate(-90deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: left bottom;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@-moz-keyframes purechat-rotateInUpRight {\n  0% {\n    transform-origin: right bottom;\n    transform: rotate(-90deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: right bottom;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes purechat-rotateInUpRight {\n  0% {\n    transform-origin: right bottom;\n    transform: rotate(-90deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: right bottom;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@-o-keyframes purechat-rotateInUpRight {\n  0% {\n    transform-origin: right bottom;\n    transform: rotate(-90deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: right bottom;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@keyframes purechat-rotateInUpRight {\n  0% {\n    transform-origin: right bottom;\n    transform: rotate(-90deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: right bottom;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@-moz-keyframes purechat-rotateInDownRight {\n  0% {\n    transform-origin: right bottom;\n    transform: rotate(90deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: right bottom;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes purechat-rotateInDownRight {\n  0% {\n    transform-origin: right bottom;\n    transform: rotate(90deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: right bottom;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@-o-keyframes purechat-rotateInDownRight {\n  0% {\n    transform-origin: right bottom;\n    transform: rotate(90deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: right bottom;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@keyframes purechat-rotateInDownRight {\n  0% {\n    transform-origin: right bottom;\n    transform: rotate(90deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: right bottom;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@-moz-keyframes purechat-lightSpeedIn {\n  0% {\n    transform: translateX(100%) skewX(-30deg);\n    opacity: 0;\n  }\n  60% {\n    transform: translateX(-20%) skewX(30deg);\n    opacity: 1;\n  }\n  80% {\n    transform: translateX(0%) skewX(-15deg);\n    opacity: 1;\n  }\n  100% {\n    transform: translateX(0%) skewX(0deg);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes purechat-lightSpeedIn {\n  0% {\n    transform: translateX(100%) skewX(-30deg);\n    opacity: 0;\n  }\n  60% {\n    transform: translateX(-20%) skewX(30deg);\n    opacity: 1;\n  }\n  80% {\n    transform: translateX(0%) skewX(-15deg);\n    opacity: 1;\n  }\n  100% {\n    transform: translateX(0%) skewX(0deg);\n    opacity: 1;\n  }\n}\n@-o-keyframes purechat-lightSpeedIn {\n  0% {\n    transform: translateX(100%) skewX(-30deg);\n    opacity: 0;\n  }\n  60% {\n    transform: translateX(-20%) skewX(30deg);\n    opacity: 1;\n  }\n  80% {\n    transform: translateX(0%) skewX(-15deg);\n    opacity: 1;\n  }\n  100% {\n    transform: translateX(0%) skewX(0deg);\n    opacity: 1;\n  }\n}\n@keyframes purechat-lightSpeedIn {\n  0% {\n    transform: translateX(100%) skewX(-30deg);\n    opacity: 0;\n  }\n  60% {\n    transform: translateX(-20%) skewX(30deg);\n    opacity: 1;\n  }\n  80% {\n    transform: translateX(0%) skewX(-15deg);\n    opacity: 1;\n  }\n  100% {\n    transform: translateX(0%) skewX(0deg);\n    opacity: 1;\n  }\n}\n@-moz-keyframes purechat-rollIn {\n  0% {\n    opacity: 0;\n    transform: translateX(-100%) rotate(-120deg);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0px) rotate(0deg);\n  }\n}\n@-webkit-keyframes purechat-rollIn {\n  0% {\n    opacity: 0;\n    transform: translateX(-100%) rotate(-120deg);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0px) rotate(0deg);\n  }\n}\n@-o-keyframes purechat-rollIn {\n  0% {\n    opacity: 0;\n    transform: translateX(-100%) rotate(-120deg);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0px) rotate(0deg);\n  }\n}\n@keyframes purechat-rollIn {\n  0% {\n    opacity: 0;\n    transform: translateX(-100%) rotate(-120deg);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0px) rotate(0deg);\n  }\n}\n@-moz-keyframes purechat-toastRight {\n  0% {\n    opacity: 0;\n    transform: translateX(2000px);\n  }\n  5% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n  6% {\n    transform: translateX(7px);\n  }\n  7% {\n    transform: translateX(0px);\n  }\n  95% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n  100% {\n    opacity: 0;\n    transform: translateX(2000px);\n  }\n}\n@-webkit-keyframes purechat-toastRight {\n  0% {\n    opacity: 0;\n    transform: translateX(2000px);\n  }\n  5% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n  6% {\n    transform: translateX(7px);\n  }\n  7% {\n    transform: translateX(0px);\n  }\n  95% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n  100% {\n    opacity: 0;\n    transform: translateX(2000px);\n  }\n}\n@-o-keyframes purechat-toastRight {\n  0% {\n    opacity: 0;\n    transform: translateX(2000px);\n  }\n  5% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n  6% {\n    transform: translateX(7px);\n  }\n  7% {\n    transform: translateX(0px);\n  }\n  95% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n  100% {\n    opacity: 0;\n    transform: translateX(2000px);\n  }\n}\n@keyframes purechat-toastRight {\n  0% {\n    opacity: 0;\n    transform: translateX(2000px);\n  }\n  5% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n  6% {\n    transform: translateX(7px);\n  }\n  7% {\n    transform: translateX(0px);\n  }\n  95% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n  100% {\n    opacity: 0;\n    transform: translateX(2000px);\n  }\n}\n@-moz-keyframes purechat-toastUpDown {\n  0% {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  5% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  95% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n}\n@-webkit-keyframes purechat-toastUpDown {\n  0% {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  5% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  95% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n}\n@-o-keyframes purechat-toastUpDown {\n  0% {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  5% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  95% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n}\n@keyframes purechat-toastUpDown {\n  0% {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  5% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  95% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n}\n@-moz-keyframes purechat-toastDownUp {\n  0% {\n    opacity: 0;\n    transform: translateY(0);\n  }\n  5% {\n    opacity: 1;\n    transform: translateY(10px);\n  }\n  95% {\n    opacity: 1;\n    transform: translateY(10px);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(0);\n  }\n}\n@-webkit-keyframes purechat-toastDownUp {\n  0% {\n    opacity: 0;\n    transform: translateY(0);\n  }\n  5% {\n    opacity: 1;\n    transform: translateY(10px);\n  }\n  95% {\n    opacity: 1;\n    transform: translateY(10px);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(0);\n  }\n}\n@-o-keyframes purechat-toastDownUp {\n  0% {\n    opacity: 0;\n    transform: translateY(0);\n  }\n  5% {\n    opacity: 1;\n    transform: translateY(10px);\n  }\n  95% {\n    opacity: 1;\n    transform: translateY(10px);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(0);\n  }\n}\n@keyframes purechat-toastDownUp {\n  0% {\n    opacity: 0;\n    transform: translateY(0);\n  }\n  5% {\n    opacity: 1;\n    transform: translateY(10px);\n  }\n  95% {\n    opacity: 1;\n    transform: translateY(10px);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(0);\n  }\n}\n@-moz-keyframes purechat-none {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@-webkit-keyframes purechat-none {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@-o-keyframes purechat-none {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes purechat-none {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@-moz-keyframes purechat-flipInX {\n  0% {\n    transform: perspective(400px) rotateX(90deg);\n    opacity: 0;\n  }\n  40% {\n    transform: perspective(400px) rotateX(-10deg);\n  }\n  70% {\n    transform: perspective(400px) rotateX(10deg);\n  }\n  100% {\n    transform: perspective(400px) rotateX(0deg);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes purechat-flipInX {\n  0% {\n    transform: perspective(400px) rotateX(90deg);\n    opacity: 0;\n  }\n  40% {\n    transform: perspective(400px) rotateX(-10deg);\n  }\n  70% {\n    transform: perspective(400px) rotateX(10deg);\n  }\n  100% {\n    transform: perspective(400px) rotateX(0deg);\n    opacity: 1;\n  }\n}\n@-o-keyframes purechat-flipInX {\n  0% {\n    transform: perspective(400px) rotateX(90deg);\n    opacity: 0;\n  }\n  40% {\n    transform: perspective(400px) rotateX(-10deg);\n  }\n  70% {\n    transform: perspective(400px) rotateX(10deg);\n  }\n  100% {\n    transform: perspective(400px) rotateX(0deg);\n    opacity: 1;\n  }\n}\n@keyframes purechat-flipInX {\n  0% {\n    transform: perspective(400px) rotateX(90deg);\n    opacity: 0;\n  }\n  40% {\n    transform: perspective(400px) rotateX(-10deg);\n  }\n  70% {\n    transform: perspective(400px) rotateX(10deg);\n  }\n  100% {\n    transform: perspective(400px) rotateX(0deg);\n    opacity: 1;\n  }\n}\n@-moz-keyframes purechat-flipInY {\n  0% {\n    transform: perspective(400px) rotateY(90deg);\n    opacity: 0;\n  }\n  40% {\n    transform: perspective(400px) rotateY(-10deg);\n  }\n  70% {\n    transform: perspective(400px) rotateY(10deg);\n  }\n  100% {\n    transform: perspective(400px) rotateY(0deg);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes purechat-flipInY {\n  0% {\n    transform: perspective(400px) rotateY(90deg);\n    opacity: 0;\n  }\n  40% {\n    transform: perspective(400px) rotateY(-10deg);\n  }\n  70% {\n    transform: perspective(400px) rotateY(10deg);\n  }\n  100% {\n    transform: perspective(400px) rotateY(0deg);\n    opacity: 1;\n  }\n}\n@-o-keyframes purechat-flipInY {\n  0% {\n    transform: perspective(400px) rotateY(90deg);\n    opacity: 0;\n  }\n  40% {\n    transform: perspective(400px) rotateY(-10deg);\n  }\n  70% {\n    transform: perspective(400px) rotateY(10deg);\n  }\n  100% {\n    transform: perspective(400px) rotateY(0deg);\n    opacity: 1;\n  }\n}\n@keyframes purechat-flipInY {\n  0% {\n    transform: perspective(400px) rotateY(90deg);\n    opacity: 0;\n  }\n  40% {\n    transform: perspective(400px) rotateY(-10deg);\n  }\n  70% {\n    transform: perspective(400px) rotateY(10deg);\n  }\n  100% {\n    transform: perspective(400px) rotateY(0deg);\n    opacity: 1;\n  }\n}\n@-moz-keyframes purechat-fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@-webkit-keyframes purechat-fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@-o-keyframes purechat-fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes purechat-fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@-moz-keyframes purechat-fadeInUp {\n  0% {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@-webkit-keyframes purechat-fadeInUp {\n  0% {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@-o-keyframes purechat-fadeInUp {\n  0% {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@keyframes purechat-fadeInUp {\n  0% {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@-moz-keyframes purechat-fadeInDown {\n  0% {\n    opacity: 0;\n    transform: translateY(-20px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@-webkit-keyframes purechat-fadeInDown {\n  0% {\n    opacity: 0;\n    transform: translateY(-20px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@-o-keyframes purechat-fadeInDown {\n  0% {\n    opacity: 0;\n    transform: translateY(-20px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@keyframes purechat-fadeInDown {\n  0% {\n    opacity: 0;\n    transform: translateY(-20px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@-moz-keyframes purechat-fadeInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(20px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@-webkit-keyframes purechat-fadeInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(20px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@-o-keyframes purechat-fadeInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(20px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@keyframes purechat-fadeInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(20px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@-moz-keyframes purechat-fadeInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(-20px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@-webkit-keyframes purechat-fadeInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(-20px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@-o-keyframes purechat-fadeInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(-20px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@keyframes purechat-fadeInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(-20px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@-moz-keyframes purechat-fadeInUpBig {\n  0% {\n    opacity: 0;\n    transform: translateY(100vh);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@-webkit-keyframes purechat-fadeInUpBig {\n  0% {\n    opacity: 0;\n    transform: translateY(100vh);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@-o-keyframes purechat-fadeInUpBig {\n  0% {\n    opacity: 0;\n    transform: translateY(100vh);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@keyframes purechat-fadeInUpBig {\n  0% {\n    opacity: 0;\n    transform: translateY(100vh);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@-moz-keyframes purechat-fadeInDownBig {\n  0% {\n    opacity: 0;\n    transform: translateY(-100vh);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@-webkit-keyframes purechat-fadeInDownBig {\n  0% {\n    opacity: 0;\n    transform: translateY(-100vh);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@-o-keyframes purechat-fadeInDownBig {\n  0% {\n    opacity: 0;\n    transform: translateY(-100vh);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@keyframes purechat-fadeInDownBig {\n  0% {\n    opacity: 0;\n    transform: translateY(-100vh);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@-moz-keyframes purechat-fadeInLeftBig {\n  0% {\n    opacity: 0;\n    transform: translateX(100vw);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@-webkit-keyframes purechat-fadeInLeftBig {\n  0% {\n    opacity: 0;\n    transform: translateX(100vw);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@-o-keyframes purechat-fadeInLeftBig {\n  0% {\n    opacity: 0;\n    transform: translateX(100vw);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@keyframes purechat-fadeInLeftBig {\n  0% {\n    opacity: 0;\n    transform: translateX(100vw);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@-moz-keyframes purechat-fadeInRightBig {\n  0% {\n    opacity: 0;\n    transform: translateX(-100vw);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@-webkit-keyframes purechat-fadeInRightBig {\n  0% {\n    opacity: 0;\n    transform: translateX(-100vw);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@-o-keyframes purechat-fadeInRightBig {\n  0% {\n    opacity: 0;\n    transform: translateX(-100vw);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@keyframes purechat-fadeInRightBig {\n  0% {\n    opacity: 0;\n    transform: translateX(-100vw);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@-moz-keyframes purechat-slideInDown {\n  0% {\n    opacity: 0;\n    transform: translateY(-2000px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-webkit-keyframes purechat-slideInDown {\n  0% {\n    opacity: 0;\n    transform: translateY(-2000px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-o-keyframes purechat-slideInDown {\n  0% {\n    opacity: 0;\n    transform: translateY(-2000px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@keyframes purechat-slideInDown {\n  0% {\n    opacity: 0;\n    transform: translateY(-2000px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-moz-keyframes purechat-slideInUp {\n  0% {\n    opacity: 0;\n    transform: translateY(2000px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-webkit-keyframes purechat-slideInUp {\n  0% {\n    opacity: 0;\n    transform: translateY(2000px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-o-keyframes purechat-slideInUp {\n  0% {\n    opacity: 0;\n    transform: translateY(2000px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@keyframes purechat-slideInUp {\n  0% {\n    opacity: 0;\n    transform: translateY(2000px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-moz-keyframes purechat-slideInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(2000px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-webkit-keyframes purechat-slideInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(2000px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-o-keyframes purechat-slideInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(2000px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@keyframes purechat-slideInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(2000px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-moz-keyframes purechat-slideInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(-2000px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-webkit-keyframes purechat-slideInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(-2000px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-o-keyframes purechat-slideInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(-2000px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@keyframes purechat-slideInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(-2000px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-moz-keyframes purechat-bounceIn {\n  0% {\n    opacity: 0;\n    transform: scale(0.3);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(1.05);\n  }\n  70% {\n    transform: scale(0.9);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n@-webkit-keyframes purechat-bounceIn {\n  0% {\n    opacity: 0;\n    transform: scale(0.3);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(1.05);\n  }\n  70% {\n    transform: scale(0.9);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n@-o-keyframes purechat-bounceIn {\n  0% {\n    opacity: 0;\n    transform: scale(0.3);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(1.05);\n  }\n  70% {\n    transform: scale(0.9);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n@keyframes purechat-bounceIn {\n  0% {\n    opacity: 0;\n    transform: scale(0.3);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(1.05);\n  }\n  70% {\n    transform: scale(0.9);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n@-moz-keyframes purechat-bounceInUp {\n  0% {\n    opacity: 0;\n    transform: translateY(2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateY(-30px);\n  }\n  80% {\n    transform: translateY(10px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-webkit-keyframes purechat-bounceInUp {\n  0% {\n    opacity: 0;\n    transform: translateY(2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateY(-30px);\n  }\n  80% {\n    transform: translateY(10px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-o-keyframes purechat-bounceInUp {\n  0% {\n    opacity: 0;\n    transform: translateY(2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateY(-30px);\n  }\n  80% {\n    transform: translateY(10px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@keyframes purechat-bounceInUp {\n  0% {\n    opacity: 0;\n    transform: translateY(2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateY(-30px);\n  }\n  80% {\n    transform: translateY(10px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-moz-keyframes purechat-bounceInDown {\n  0% {\n    opacity: 0;\n    transform: translateY(-2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateY(30px);\n  }\n  80% {\n    transform: translateY(-10px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-webkit-keyframes purechat-bounceInDown {\n  0% {\n    opacity: 0;\n    transform: translateY(-2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateY(30px);\n  }\n  80% {\n    transform: translateY(-10px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-o-keyframes purechat-bounceInDown {\n  0% {\n    opacity: 0;\n    transform: translateY(-2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateY(30px);\n  }\n  80% {\n    transform: translateY(-10px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@keyframes purechat-bounceInDown {\n  0% {\n    opacity: 0;\n    transform: translateY(-2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateY(30px);\n  }\n  80% {\n    transform: translateY(-10px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-moz-keyframes purechat-bounceInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateX(-30px);\n  }\n  80% {\n    transform: translateX(10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-webkit-keyframes purechat-bounceInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateX(-30px);\n  }\n  80% {\n    transform: translateX(10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-o-keyframes purechat-bounceInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateX(-30px);\n  }\n  80% {\n    transform: translateX(10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@keyframes purechat-bounceInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateX(-30px);\n  }\n  80% {\n    transform: translateX(10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-moz-keyframes purechat-bounceInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(-2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateX(30px);\n  }\n  80% {\n    transform: translateX(-10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-webkit-keyframes purechat-bounceInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(-2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateX(30px);\n  }\n  80% {\n    transform: translateX(-10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-o-keyframes purechat-bounceInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(-2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateX(30px);\n  }\n  80% {\n    transform: translateX(-10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@keyframes purechat-bounceInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(-2000px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateX(30px);\n  }\n  80% {\n    transform: translateX(-10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-moz-keyframes purechat-rotateIn {\n  0% {\n    transform-origin: center center;\n    transform: rotate(-200deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: center center;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes purechat-rotateIn {\n  0% {\n    transform-origin: center center;\n    transform: rotate(-200deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: center center;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@-o-keyframes purechat-rotateIn {\n  0% {\n    transform-origin: center center;\n    transform: rotate(-200deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: center center;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@keyframes purechat-rotateIn {\n  0% {\n    transform-origin: center center;\n    transform: rotate(-200deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: center center;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@-moz-keyframes purechat-rotateInUpLeft {\n  0% {\n    transform-origin: left bottom;\n    transform: rotate(90deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: left bottom;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes purechat-rotateInUpLeft {\n  0% {\n    transform-origin: left bottom;\n    transform: rotate(90deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: left bottom;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@-o-keyframes purechat-rotateInUpLeft {\n  0% {\n    transform-origin: left bottom;\n    transform: rotate(90deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: left bottom;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@keyframes purechat-rotateInUpLeft {\n  0% {\n    transform-origin: left bottom;\n    transform: rotate(90deg);\n    opacity: 0;\n  }\n  100% {\n    transform-origin: left bottom;\n    transform: rotate(0);\n    opacity: 1;\n  }\n}\n@-moz-keyframes purechat-bounceUpSmall {\n  50% {\n    opacity: 1;\n    transform: translateY(-5px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-webkit-keyframes purechat-bounceUpSmall {\n  50% {\n    opacity: 1;\n    transform: translateY(-5px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-o-keyframes purechat-bounceUpSmall {\n  50% {\n    opacity: 1;\n    transform: translateY(-5px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@keyframes purechat-bounceUpSmall {\n  50% {\n    opacity: 1;\n    transform: translateY(-5px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-moz-keyframes purechat-bounceDownSmall {\n  50% {\n    transform: translateY(5px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-webkit-keyframes purechat-bounceDownSmall {\n  50% {\n    transform: translateY(5px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-o-keyframes purechat-bounceDownSmall {\n  50% {\n    transform: translateY(5px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@keyframes purechat-bounceDownSmall {\n  50% {\n    transform: translateY(5px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-moz-keyframes purechat-fadeInDownSmall {\n  0% {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@-webkit-keyframes purechat-fadeInDownSmall {\n  0% {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@-o-keyframes purechat-fadeInDownSmall {\n  0% {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@keyframes purechat-fadeInDownSmall {\n  0% {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@-moz-keyframes purechat-fadeInUpSmall {\n  0% {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@-webkit-keyframes purechat-fadeInUpSmall {\n  0% {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@-o-keyframes purechat-fadeInUpSmall {\n  0% {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@keyframes purechat-fadeInUpSmall {\n  0% {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@-moz-keyframes purechat-fadeOutUpSmall {\n  0% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n}\n@-webkit-keyframes purechat-fadeOutUpSmall {\n  0% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n}\n@-o-keyframes purechat-fadeOutUpSmall {\n  0% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n}\n@keyframes purechat-fadeOutUpSmall {\n  0% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n}\n@-moz-keyframes purechat-fadeOutDownSmall {\n  0% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n}\n@-webkit-keyframes purechat-fadeOutDownSmall {\n  0% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n}\n@-o-keyframes purechat-fadeOutDownSmall {\n  0% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n}\n@keyframes purechat-fadeOutDownSmall {\n  0% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n}\n@-moz-keyframes purechat-pulsate {\n  from {\n    transform: scale(1);\n    transform-origin: center center;\n    animation-timing-function: ease-out;\n  }\n  10% {\n    transform: scale(0.91);\n    animation-timing-function: ease-in;\n  }\n  17% {\n    transform: scale(0.98);\n    animation-timing-function: ease-out;\n  }\n  33% {\n    transform: scale(0.87);\n    animation-timing-function: ease-in;\n  }\n  45% {\n    transform: scale(1);\n    animation-timing-function: ease-out;\n  }\n}\n@-webkit-keyframes purechat-pulsate {\n  from {\n    transform: scale(1);\n    transform-origin: center center;\n    animation-timing-function: ease-out;\n  }\n  10% {\n    transform: scale(0.91);\n    animation-timing-function: ease-in;\n  }\n  17% {\n    transform: scale(0.98);\n    animation-timing-function: ease-out;\n  }\n  33% {\n    transform: scale(0.87);\n    animation-timing-function: ease-in;\n  }\n  45% {\n    transform: scale(1);\n    animation-timing-function: ease-out;\n  }\n}\n@-o-keyframes purechat-pulsate {\n  from {\n    transform: scale(1);\n    transform-origin: center center;\n    animation-timing-function: ease-out;\n  }\n  10% {\n    transform: scale(0.91);\n    animation-timing-function: ease-in;\n  }\n  17% {\n    transform: scale(0.98);\n    animation-timing-function: ease-out;\n  }\n  33% {\n    transform: scale(0.87);\n    animation-timing-function: ease-in;\n  }\n  45% {\n    transform: scale(1);\n    animation-timing-function: ease-out;\n  }\n}\n@keyframes purechat-pulsate {\n  from {\n    transform: scale(1);\n    transform-origin: center center;\n    animation-timing-function: ease-out;\n  }\n  10% {\n    transform: scale(0.91);\n    animation-timing-function: ease-in;\n  }\n  17% {\n    transform: scale(0.98);\n    animation-timing-function: ease-out;\n  }\n  33% {\n    transform: scale(0.87);\n    animation-timing-function: ease-in;\n  }\n  45% {\n    transform: scale(1);\n    animation-timing-function: ease-out;\n  }\n}\n#PureChatWidget.purechat .purechat-widget-header {\n  align-items: center !important;\n  background-color: var(--purechat-p-bg) !important;\n  border-top-left-radius: 8px !important;\n  border-top-right-radius: 8px !important;\n  display: flex !important;\n  min-height: 55px !important;\n  padding: 10px 16px !important;\n  z-index: 1 !important;\n}\n#PureChatWidget.purechat .purechat-widget-header .purechat-widget-room-avatar {\n  display: none !important;\n  order: 1 !important;\n  flex-shrink: 0 !important;\n  flex-grow: 0 !important;\n  width: 72px !important;\n  height: 72px !important;\n  border: 3px solid #fff !important;\n  margin: -33px -5px -5px 0 !important;\n  border-radius: 36px !important;\n  box-shadow: 1px 1px 2px rgba(0,0,0,0.35) !important;\n  background-size: cover !important;\n}\n#PureChatWidget.purechat .purechat-widget-header .purechat-widget-room-avatar.purechat-has-room-avatar {\n  display: block !important;\n}\n#PureChatWidget.purechat .purechat-widget-header .purechat-menu.purechat-btn-toolbar {\n  display: block !important;\n  order: 3 !important;\n  flex-shrink: 0 !important;\n  flex-grow: 0 !important;\n}\n#PureChatWidget.purechat .purechat-widget-header .purechat-widget-title {\n  display: flex !important;\n  flex-grow: 1 !important;\n  margin-left: -8px !important;\n  margin-top: 0 !important;\n  order: 2 !important;\n}\n#PureChatWidget.purechat .purechat-widget-header .purechat-btn {\n  background-color: transparent !important;\n  border: 1px solid var(--purechat-btn-b) !important;\n  border-radius: 3px !important;\n  box-shadow: 1px 1px 2px rgba(0,0,0,0.5) !important;\n  display: inline-block !important;\n  margin-left: 9px !important;\n  margin-bottom: 0 !important;\n  padding: 5px 5px 4px !important;\n  position: relative !important;\n}\n#PureChatWidget.purechat .purechat-widget-header .purechat-btn.purechat-btn-active,\n#PureChatWidget.purechat .purechat-widget-header .purechat-btn:hover {\n  border: 1px solid var(--purechat-btn-b-h) !important;\n  box-shadow: 1px 1px 2px #000 !important;\n}\n#PureChatWidget.purechat .purechat-widget-header .purechat-btn i {\n  font-size: 18px !important;\n}\n#PureChatWidget.purechat .purechat-widget-header .purechat-btn .purechat-display-none,\n#PureChatWidget.purechat .purechat-widget-header .purechat-btn.purechat-display-none {\n  display: none !important;\n}\n#PureChatWidget.purechat .purechat-widget-header .purechat-btn .purechat-display-block,\n#PureChatWidget.purechat .purechat-widget-header .purechat-btn.purechat-display-block {\n  display: block !important;\n}\n#PureChatWidget.purechat .purechat-widget-header .purechat-btn .purechat-display-flex,\n#PureChatWidget.purechat .purechat-widget-header .purechat-btn.purechat-display-flex {\n  display: flex !important;\n}\n#PureChatWidget.purechat .purechat-widget-header .purechat-btn .purechat-display-inline-block,\n#PureChatWidget.purechat .purechat-widget-header .purechat-btn.purechat-display-inline-block {\n  display: inline-block !important;\n}\n#PureChatWidget.purechat .purechat-widget-header .purechat-btn .purechat-invisible,\n#PureChatWidget.purechat .purechat-widget-header .purechat-btn .purechat-invisible *,\n#PureChatWidget.purechat .purechat-widget-header .purechat-btn.purechat-invisible,\n#PureChatWidget.purechat .purechat-widget-header .purechat-btn.purechat-invisible *,\n#PureChatWidget.purechat .purechat-widget-header .purechat-btn .purechat-invisible *:after,\n#PureChatWidget.purechat .purechat-widget-header .purechat-btn.purechat-invisible *:after,\n#PureChatWidget.purechat .purechat-widget-header .purechat-btn .purechat-invisible *:before,\n#PureChatWidget.purechat .purechat-widget-header .purechat-btn.purechat-invisible *:before {\n  visibility: hidden !important;\n}\n#PureChatWidget.purechat.purechat-widget-collapsed.purechat-attached.purechat-top-left .purechat-widget-header,\n#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-attached.purechat-top-left .purechat-widget-header {\n  border-top-left-radius: 0 !important;\n  border-top-right-radius: 0 !important;\n}\n#PureChatWidget.purechat.purechat-widget-collapsed.purechat-attached.purechat-top-right .purechat-widget-header,\n#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-attached.purechat-top-right .purechat-widget-header {\n  border-top-left-radius: 0 !important;\n  border-top-right-radius: 0 !important;\n}\n#PureChatWidget.purechat .purechat-collapsed .purechat-widget-header {\n  border-radius: 5px !important;\n  height: 35px !important;\n  min-height: auto !important;\n  padding-left: 7px !important;\n  padding-right: 7px !important;\n}\n#PureChatWidget.purechat .purechat-collapsed .purechat-widget-header .purechat-btn {\n  margin-left: 5px !important;\n  padding: 2px !important;\n}\n#PureChatWidget.purechat .purechat-collapsed .purechat-widget-header .purechat-btn:first-child {\n  margin-left: 0 !important;\n}\n#PureChatWidget.purechat .purechat-collapsed .purechat-widget-header .purechat-btn:after,\n#PureChatWidget.purechat .purechat-collapsed .purechat-widget-header .purechat-btn svg:after {\n  content: none !important;\n  display: none !important;\n}\n#PureChatWidget.purechat .purechat-collapsed .purechat-widget-header .purechat-widget-title-link {\n  cursor: pointer !important;\n  font-size: 16px !important;\n  padding-bottom: 7px !important;\n  padding-left: 17px !important;\n  padding-top: 9px !important;\n  width: 100% !important;\n}\n#PureChatWidget.purechat .purechat-widget-title-link {\n  color: var(--purechat-p-fg) !important;\n  cursor: default !important;\n  display: block !important;\n  font-size: 18px !important;\n  overflow: hidden !important;\n  padding-left: 17px !important;\n  text-overflow: ellipsis !important;\n  white-space: nowrap !important;\n}\n#PureChatWidget.purechat.purechat-unavailable-behavior-hide .purechat-widget-title-link {\n  cursor: default !important;\n}\n#PureChatWidget.purechat .purechat-footer {\n  align-items: center !important;\n  border-bottom-left-radius: 13px !important;\n  border-bottom-right-radius: 13px !important;\n  display: flex !important;\n  flex-shrink: 0 !important;\n  flex-grow: 0 !important;\n  padding: 10px !important;\n}\n#PureChatWidget.purechat.purechat-attached.purechat-bottom-left .purechat-footer {\n  border-bottom-left-radius: 0 !important;\n  border-bottom-right-radius: 0 !important;\n}\n#PureChatWidget.purechat.purechat-attached.purechat-bottom-right .purechat-footer {\n  border-bottom-left-radius: 0 !important;\n  border-bottom-right-radius: 0 !important;\n}\n#PureChatWidget.purechat .purechat-footer button {\n  margin-right: 10px !important;\n}\n#PureChatWidget.purechat .purechat-poweredby-container {\n  flex-grow: 1 !important;\n  flex-shrink: 1 !important;\n  order: 2 !important;\n}\n#PureChatWidget.purechat .purechat-poweredby {\n  text-align: right !important;\n}\n#PureChatWidget.purechat .purechat-poweredby-text,\n#PureChatWidget.purechat .purechat-poweredby-link {\n  display: inline !important;\n  font-size: 12px !important;\n  opacity: 1 !important;\n  visibility: visible !important;\n}\n#PureChatWidget.purechat .purechat-poweredby-text {\n  color: var(--purechat-s-fg) !important;\n}\n#PureChatWidget.purechat .purechat-poweredby-link {\n  color: var(--purechat-s-fg) !important;\n}\n#PureChatWidget.purechat .purechat-poweredby-link:hover {\n  color: var(--purechat-s-fg-d) !important;\n}\n#PureChatWidget.purechat .purechat-toggle-audio-notifications,\n#PureChatWidget.purechat .purechat-btn-pop-out {\n  cursor: pointer !important;\n  color: var(--purechat-s-fg) !important;\n}\n#PureChatWidget.purechat .purechat-closed-poweredby a {\n  color: var(--purechat-s-fg) !important;\n}\n#PureChatWidget.purechat .purechat-closed-poweredby a:hover {\n  color: var(--purechat-s-fg-d) !important;\n}\n#PureChatWidget.purechat .purechat-firstname-input,\n#PureChatWidget.purechat .purechat-lastname-input,\n#PureChatWidget.purechat .purechat-phonenumber-input,\n#PureChatWidget.purechat .purechat-email-input,\n#PureChatWidget.purechat .purechat-company-input,\n#PureChatWidget.purechat .purechat-question-input,\n#PureChatWidget.purechat .purechat-send-form-message,\n#PureChatWidget.purechat .purechat-send-form,\n#PureChatWidget.purechat .purechat-emoji-search {\n  background-color: #fff !important;\n  border: 1px solid rgba(0,0,0,0.3) !important;\n  border-radius: 5px !important;\n  cursor: text !important;\n  font-size: 16px !important;\n  line-height: 22px !important;\n  margin-bottom: 10px !important;\n  padding: 8px 10px 9px 10px !important;\n  width: 100% !important;\n}\n#PureChatWidget.purechat .purechat-firstname-input:focus,\n#PureChatWidget.purechat .purechat-lastname-input:focus,\n#PureChatWidget.purechat .purechat-phonenumber-input:focus,\n#PureChatWidget.purechat .purechat-email-input:focus,\n#PureChatWidget.purechat .purechat-company-input:focus,\n#PureChatWidget.purechat .purechat-question-input:focus,\n#PureChatWidget.purechat .purechat-send-form-message:focus,\n#PureChatWidget.purechat .purechat-send-form:focus,\n#PureChatWidget.purechat .purechat-emoji-search:focus {\n  font-size: 16px !important;\n}\n#PureChatWidget.purechat .purechat-question-input {\n  resize: none !important;\n  word-wrap: break-word !important;\n}\n#PureChatWidget.purechat .purechat-init-form .purechat-question-input,\n#PureChatWidget.purechat .purechat-email-form .purechat-question-input {\n  min-height: 85px !important;\n}\n#PureChatWidget.purechat .purechat-send-form {\n  -ms-flex-align: center !important;\n  align-items: center !important;\n  display: flex !important;\n  margin: 0 !important;\n  padding: 9px 11px !important;\n}\n#PureChatWidget.purechat .purechat-send-form-message {\n  border: none !important;\n  box-sizing: content-box !important;\n  flex-grow: 1 !important;\n  flex-shrink: 1 !important;\n  font-size: 16px !important;\n  height: auto !important;\n  line-height: 1.4 !important;\n  margin: 0 10px 0 0 !important;\n  overflow-x: hidden !important;\n  padding: 0 !important;\n  resize: none !important;\n  white-space: pre-wrap !important;\n  width: auto !important;\n  -ms-overflow-style: none !important;\n}\n#PureChatWidget.purechat .purechat-send-form-message:focus {\n  font-size: 16px !important;\n}\n#PureChatWidget.purechat .purechat-btn {\n  margin: 0 auto 5px !important;\n  padding: 10px 20px !important;\n  display: block !important;\n}\n#PureChatWidget.purechat .purechat-btn-emoji,\n#PureChatWidget.purechat .purechat-btn-file-transfer,\n#PureChatWidget.purechat .purechat-btn-send-message {\n  color: #afaba3 !important;\n  fill: #afaba3 !important;\n  transition: color 0.4s, fill 0.4s !important;\n}\n#PureChatWidget.purechat .purechat-btn-emoji:hover,\n#PureChatWidget.purechat .purechat-btn-file-transfer:hover,\n#PureChatWidget.purechat .purechat-btn-send-message:hover {\n  color: #3b404c !important;\n  fill: #3b404c !important;\n}\n#PureChatWidget.purechat .purechat-btn-file-transfer {\n  margin-right: 9px !important;\n}\n#PureChatWidget.purechat .purechat-label {\n  margin-top: 10px !important;\n}\n#PureChatWidget.purechat ::-webkit-input-placeholder {\n  color: #afaba3 !important;\n  opacity: 1 !important;\n}\n#PureChatWidget.purechat ::-moz-placeholder {\n  color: #afaba3 !important;\n  opacity: 1 !important;\n}\n#PureChatWidget.purechat :-ms-input-placeholder {\n  color: #afaba3 !important;\n  opacity: 1 !important;\n}\n#PureChatWidget.purechat ::-ms-input-placeholder {\n  color: #afaba3 !important;\n  opacity: 1 !important;\n}\n#PureChatWidget.purechat .purechat-message-wrapper {\n  position: relative !important;\n}\n#PureChatWidget.purechat .purechat-message-right {\n  margin-left: 20px !important;\n  position: relative !important;\n  text-align: right !important;\n}\n#PureChatWidget.purechat .purechat-message-left {\n  margin-right: 20px !important;\n  position: relative !important;\n  text-align: left !important;\n}\n#PureChatWidget.purechat .purechat-message-container {\n  display: block !important;\n}\n#PureChatWidget.purechat .purechat-message,\n#PureChatWidget.purechat .purechat-message-note {\n  background-color: var(--purechat-s-bg-l) !important;\n  border-radius: 5px !important;\n  box-shadow: 1px 1px 5px rgba(0,0,0,0.4) !important;\n  color: var(--purechat-s-fg-d) !important;\n  display: inline-block !important;\n  font-size: 14px !important;\n  margin-bottom: 16px !important;\n  max-width: 100% !important;\n  padding: 8px 18px 9px !important;\n  position: relative !important;\n  word-wrap: break-word !important;\n}\n#PureChatWidget.purechat .purechat-message .purechat-message-tail,\n#PureChatWidget.purechat .purechat-message-note .purechat-message-tail {\n  bottom: -11px !important;\n  color: var(--purechat-s-bg-l) !important;\n  display: block !important;\n  fill: #fff !important;\n  height: 16px !important;\n  left: 5px !important;\n  position: absolute !important;\n  width: 18px !important;\n}\n#PureChatWidget.purechat .purechat-new-thought {\n  color: var(--purechat-s-fg-d) !important;\n  display: inline !important;\n  font-size: 14px !important;\n  word-wrap: break-word !important;\n}\n#PureChatWidget.purechat .purechat-new-thought a,\n#PureChatWidget.purechat .purechat-new-thought a:hover {\n  color: var(--purechat-s-fg-d) !important;\n}\n#PureChatWidget.purechat .purechat-message-right .purechat-message {\n  background-color: var(--purechat-s-bg-d) !important;\n}\n#PureChatWidget.purechat .purechat-message-right .purechat-message .purechat-message-tail {\n  color: var(--purechat-s-bg-d) !important;\n  left: auto !important;\n  right: 5px !important;\n}\n#PureChatWidget.purechat .purechat-message-right .purechat-new-thought {\n  color: var(--purechat-s-fg-l) !important;\n}\n#PureChatWidget.purechat .purechat-message-right .purechat-new-thought a,\n#PureChatWidget.purechat .purechat-message-right .purechat-new-thought a:hover {\n  color: var(--purechat-s-fg-l) !important;\n}\n#PureChatWidget.purechat .purechat-message-note-closed {\n  margin-bottom: 0 !important;\n  text-align: center !important;\n  width: 100% !important;\n}\n#PureChatWidget.purechat .purechat-message-note-closed p {\n  color: var(--purechat-s-fg) !important;\n  text-align: center !important;\n  margin-bottom: 5px !important;\n}\n#PureChatWidget.purechat .purechat-message-wrapper.purechat-separator {\n  overflow: hidden !important;\n  margin: 0 0 15px 0 !important;\n  position: relative !important;\n  text-align: center !important;\n}\n#PureChatWidget.purechat .purechat-message-wrapper.purechat-separator span {\n  color: var(--purechat-s-fg) !important;\n  display: inline-block !important;\n  font-size: 12px !important;\n  padding: 0 10px !important;\n  position: relative !important;\n  vertical-align: baseline !important;\n  zoom: 1 !important;\n}\n#PureChatWidget.purechat .purechat-message-wrapper.purechat-separator span:before,\n#PureChatWidget.purechat .purechat-message-wrapper.purechat-separator span:after {\n  content: \'\' !important;\n  display: block !important;\n  width: 1000px !important;\n  position: absolute !important;\n  top: 0.73em !important;\n  border-top: 1px solid rgba(0,0,0,0.1) !important;\n}\n#PureChatWidget.purechat .purechat-message-wrapper.purechat-separator span:before {\n  right: 100% !important;\n}\n#PureChatWidget.purechat .purechat-message-wrapper.purechat-separator span:after {\n  left: 100% !important;\n}\n#PureChatWidget.purechat .purechat-message-right .purechat-time {\n  text-align: right !important;\n}\n#PureChatWidget.purechat .purechat-operator-gravatar,\n#PureChatWidget.purechat .purechat-timestamp,\n#PureChatWidget.purechat .purechat-displayname {\n  display: none !important;\n}\n#PureChatWidget.purechat .purechat-displayname.purechat-display-block {\n  color: var(--purechat-s-fg) !important;\n  font-size: 12px !important;\n  left: 9px !important;\n  position: absolute !important;\n  top: -16px !important;\n  width: 300px !important;\n}\n#PureChatWidget.purechat .purechat-message-multiple-operators {\n  margin-top: 15px !important;\n}\n#PureChatWidget.purechat .purechat-timestamp {\n  margin-top: -6px !important;\n  margin-bottom: 6px !important;\n}\n#PureChatWidget.purechat .purechat-time {\n  color: var(--purechat-s-fg) !important;\n  font-size: 12px !important;\n}\n#PureChatWidget.purechat .purechat-message-wrapper:last-child .purechat-timestamp {\n  display: block !important;\n}\n#PureChatWidget.purechat .purechat-message-link {\n  overflow-wrap: break-word !important;\n  word-wrap: break-word !important;\n  -ms-word-break: break-all !important;\n  word-break: break-all !important;\n  word-break: break-word !important;\n}\n#PureChatWidget.purechat .purechat-unfurl-link .purechat-message,\n#PureChatWidget.purechat .purechat-unfurl-image .purechat-message,\n#PureChatWidget.purechat .purechat-unfurl-twitter .purechat-message,\n#PureChatWidget.purechat .purechat-unfurl-youtube .purechat-message,\n#PureChatWidget.purechat .purechat-unfurl-giphy .purechat-message {\n  width: 100% !important;\n}\n#PureChatWidget.purechat .purechat-unfurl-twitter iframe.twitter-timeline {\n  width: 100% !important;\n}\n#PureChatWidget.purechat .purechat-unfurl-media,\n#PureChatWidget.purechat .purechat-unfurl-iframe {\n  display: block !important;\n  margin-left: auto !important;\n  margin-right: auto !important;\n  max-height: 160px !important;\n  max-width: 100% !important;\n}\n#PureChatWidget.purechat .purechat-unfurl-iframe {\n  border: none 0 !important;\n}\n#PureChatWidget.purechat .purechat-unfurl-title {\n  display: flex !important;\n  margin: 0 0 6px 0 !important;\n}\n#PureChatWidget.purechat .purechat-unfurl-title a {\n  display: block !important;\n  overflow: hidden !important;\n  text-overflow: ellipsis !important;\n  white-space: nowrap !important;\n}\n#PureChatWidget.purechat .purechat-unfurl-favicon {\n  margin-right: 6px !important;\n  max-width: 100% !important;\n  min-width: auto !important;\n}\n#PureChatWidget.purechat .purechat-unfurl-image .purechat-new-thought a,\n#PureChatWidget.purechat .purechat-unfurl-image .purechat-new-thought img {\n  cursor: pointer !important;\n}\n#PureChatWidget.purechat .purechat-unfurl-image .purechat-new-thought a {\n  display: block !important;\n}\n#PureChatWidget.purechat .purechat-unfurl-link .purechat-new-thought {\n  display: flex !important;\n}\n#PureChatWidget.purechat .purechat-unfurl-link .purechat-unfurl-media {\n  flex-shrink: 0 !important;\n  margin-right: 10px !important;\n  max-height: 52px !important;\n  max-width: 25% !important;\n}\n#PureChatWidget.purechat .purechat-unfurl-link .purechat-unfurl-link-container {\n  color: var(--purechat-s-fg-l) !important;\n  overflow: hidden !important;\n  position: relative !important;\n  max-height: 3.875em !important;\n  text-align: left !important;\n}\n#PureChatWidget.purechat .purechat-unfurl-youtube .purechat-message {\n  width: 100% !important;\n}\n#PureChatWidget.purechat .purechat-unfurl-youtube .purechat-unfurl-youtube-wrapper {\n  position: relative !important;\n}\n#PureChatWidget.purechat .purechat-unfurl-youtube .purechat-unfurl-youtube-wrapper:before {\n  content: "" !important;\n  display: block !important;\n  padding-top: 56.25% !important;\n  width: 100% !important;\n}\n#PureChatWidget.purechat .purechat-unfurl-youtube .purechat-unfurl-youtube-wrapper .purechat-unfurl-media,\n#PureChatWidget.purechat .purechat-unfurl-youtube .purechat-unfurl-youtube-wrapper .purechat-unfurl-iframe {\n  bottom: 0 !important;\n  display: block !important;\n  height: 100% !important;\n  max-height: none !important;\n  max-width: none !important;\n  position: absolute !important;\n  left: 0 !important;\n  right: 0 !important;\n  top: 0 !important;\n  width: 100% !important;\n}\n#PureChatWidget.purechat .purechat-unfurl-youtube .purechat-unfurl-youtube-wrapper .purechat-unfurl-iframe {\n  max-height: 100% !important;\n}\n#PureChatWidget.purechat .purechat-unfurl-youtube .purechat-unfurl-play {\n  background: rgba(0,0,0,0.5) !important;\n  border-radius: 25px !important;\n  cursor: pointer !important;\n  height: 50px !important;\n  left: 50% !important;\n  line-height: 50px !important;\n  position: absolute !important;\n  top: 50% !important;\n  transform: translate(-50%, -50%) !important;\n  width: 50px !important;\n}\n#PureChatWidget.purechat .purechat-unfurl-youtube .purechat-unfurl-play .pc-svgicon {\n  color: #fff !important;\n  cursor: pointer !important;\n  left: 15px !important;\n  position: absolute !important;\n  top: 13px !important;\n}\n#PureChatWidget.purechat .purechat-file {\n  margin-top: 12px !important;\n}\n#PureChatWidget.purechat .purechat-file.purechat-message-left .purechat-file-description,\n#PureChatWidget.purechat .purechat-file .purechat-message-left .purechat-file-description {\n  color: var(--purechat-s-fg-d) !important;\n}\n#PureChatWidget.purechat .purechat-file.purechat-message-left .purechat-file-description small,\n#PureChatWidget.purechat .purechat-file .purechat-message-left .purechat-file-description small {\n  color: var(--purechat-s-fg-d) !important;\n}\n#PureChatWidget.purechat .purechat-file.purechat-message-left .purechat-file-actions button,\n#PureChatWidget.purechat .purechat-file .purechat-message-left .purechat-file-actions button {\n  color: var(--purechat-s-fg-d) !important;\n}\n#PureChatWidget.purechat .purechat-file.purechat-message-left .purechat-file-actions button:hover,\n#PureChatWidget.purechat .purechat-file .purechat-message-left .purechat-file-actions button:hover {\n  color: var(--purechat-s-fg-l) !important;\n}\n#PureChatWidget.purechat .purechat-file.purechat-message-left .purechat-file-error,\n#PureChatWidget.purechat .purechat-file .purechat-message-left .purechat-file-error {\n  color: var(--purechat-s-fg-d) !important;\n}\n#PureChatWidget.purechat .purechat-file.purechat-message-right .purechat-file-description,\n#PureChatWidget.purechat .purechat-file .purechat-message-right .purechat-file-description {\n  color: var(--purechat-s-fg-l) !important;\n}\n#PureChatWidget.purechat .purechat-file.purechat-message-right .purechat-file-description small,\n#PureChatWidget.purechat .purechat-file .purechat-message-right .purechat-file-description small {\n  color: var(--purechat-s-fg-l) !important;\n}\n#PureChatWidget.purechat .purechat-file.purechat-message-right .purechat-file-actions button,\n#PureChatWidget.purechat .purechat-file .purechat-message-right .purechat-file-actions button {\n  color: var(--purechat-s-fg-l) !important;\n}\n#PureChatWidget.purechat .purechat-file.purechat-message-right .purechat-file-error,\n#PureChatWidget.purechat .purechat-file .purechat-message-right .purechat-file-error {\n  color: var(--purechat-s-fg-l) !important;\n}\n#PureChatWidget.purechat .purechat-file .purechat-message {\n  padding: 0 !important;\n  width: 100% !important;\n}\n#PureChatWidget.purechat .purechat-file .purechat-new-thought {\n  flex-direction: row !important;\n}\n#PureChatWidget.purechat .purechat-file .purechat-file-icon {\n  flex-shrink: 0 !important;\n  position: relative !important;\n  padding: 8px 18px 9px !important;\n}\n#PureChatWidget.purechat .purechat-file .purechat-file-icon img {\n  margin-top: -15px !important;\n}\n#PureChatWidget.purechat .purechat-file .purechat-file-description {\n  align-self: center !important;\n  flex-grow: 1 !important;\n  flex-shrink: 1 !important;\n  font-size: 20px !important;\n  overflow: hidden !important;\n  padding: 8px 0 9px !important;\n  text-overflow: ellipsis !important;\n  white-space: nowrap !important;\n}\n#PureChatWidget.purechat .purechat-file .purechat-file-description small {\n  font-size: 14px !important;\n}\n#PureChatWidget.purechat .purechat-file .purechat-file-actions {\n  align-items: center !important;\n  display: flex !important;\n  flex-shrink: 0 !important;\n  position: relative !important;\n}\n#PureChatWidget.purechat .purechat-file .purechat-file-actions .purechat-loading {\n  position: relative !important;\n  right: 8px !important;\n}\n#PureChatWidget.purechat .purechat-file .purechat-file-actions button,\n#PureChatWidget.purechat .purechat-file .purechat-file-actions a {\n  border-radius: 0 5px 5px 0 !important;\n  color: var(--purechat-s-fg-l) !important;\n  height: 100% !important;\n  opacity: 0.8 !important;\n  padding: 0 8px !important;\n  position: relative !important;\n  transition: background 0.3s, opacity 0.3s !important;\n  z-index: 100 !important;\n}\n#PureChatWidget.purechat .purechat-file .purechat-file-actions button:hover,\n#PureChatWidget.purechat .purechat-file .purechat-file-actions a:hover {\n  opacity: 1 !important;\n  color: #fff !important;\n}\n#PureChatWidget.purechat .purechat-file .purechat-file-actions a {\n  align-items: center !important;\n  display: flex !important;\n}\n#PureChatWidget.purechat .purechat-file .purechat-file-image {\n  min-height: 80px !important;\n  position: relative !important;\n  text-align: center !important;\n  width: 100% !important;\n}\n#PureChatWidget.purechat .purechat-file .purechat-file-image img {\n  max-height: 160px !important;\n  max-width: 100% !important;\n  padding: 8px !important;\n}\n#PureChatWidget.purechat .purechat-file .purechat-file-image .purechat-file-actions {\n  display: none !important;\n  position: absolute !important;\n  top: 4px !important;\n  right: 4px !important;\n}\n#PureChatWidget.purechat .purechat-file .purechat-file-image .purechat-file-actions button,\n#PureChatWidget.purechat .purechat-file .purechat-file-image .purechat-file-actions a {\n  background: rgba(0,0,0,0.5) !important;\n  box-shadow: none !important;\n  color: #fff !important;\n  display: inline-block !important;\n  margin: 0 !important;\n}\n#PureChatWidget.purechat .purechat-file .purechat-file-image .purechat-file-actions a + button {\n  margin-left: 8px !important;\n}\n#PureChatWidget.purechat .purechat-file .purechat-file-image .purechat-file-delete,\n#PureChatWidget.purechat .purechat-file .purechat-file-image .purechat-file-download {\n  border-radius: 5px !important;\n  padding: 8px !important;\n}\n#PureChatWidget.purechat .purechat-file .purechat-file-image .purechat-file-image-name {\n  background: rgba(0,0,0,0.5) !important;\n  border-radius: 5px !important;\n  bottom: 2px !important;\n  color: #fff !important;\n  display: none !important;\n  left: 50% !important;\n  margin-right: 50% !important;\n  max-width: 98% !important;\n  overflow: hidden !important;\n  padding: 4px 6px !important;\n  position: absolute !important;\n  text-align: center !important;\n  text-overflow: ellipsis !important;\n  transform: translate(-50%, 0) !important;\n  white-space: nowrap !important;\n  z-index: 9999 !important;\n}\n#PureChatWidget.purechat .purechat-file .purechat-file-image:hover .purechat-file-image-name,\n#PureChatWidget.purechat .purechat-file .purechat-file-image.purechat-file-image-active .purechat-file-image-name {\n  display: block !important;\n}\n#PureChatWidget.purechat .purechat-file .purechat-file-image:hover .purechat-file-actions,\n#PureChatWidget.purechat .purechat-file .purechat-file-image.purechat-file-image-active .purechat-file-actions {\n  display: block !important;\n}\n#PureChatWidget.purechat .purechat-file .purechat-file-error {\n  color: var(--purechat-s-fg-l) !important;\n  padding: 8px 18px 9px !important;\n}\n#PureChatWidget.purechat .purechat-file .purechat-file-error svg {\n  color: var(--purechat-a-d) !important;\n  fill: var(--purechat-a-d) !important;\n  margin-right: 8px !important;\n}\n#PureChatWidget.purechat.purechat-style-minimal .purechat-file-actions .purechat-file-delete:hover {\n  background-color: var(--purechat-a-d-bg) !important;\n  color: var(--purechat-a-d-fg) !important;\n}\n#PureChatWidget.purechat.purechat-style-minimal .purechat-file-actions .purechat-file-download:hover {\n  background-color: var(--purechat-s-fg-d) !important;\n}\n#PureChatWidget.purechat .purechat-card {\n  background-color: var(--purechat-s-bg-l) !important;\n  border-radius: 5px !important;\n  box-shadow: 2px 2px 5px rgba(0,0,0,0.2) !important;\n  display: block !important;\n  font-size: 14px !important;\n  margin: 10px 10px 0 !important;\n  padding: 12px 18px !important;\n}\n#PureChatWidget.purechat .purechat-card-flex {\n  display: flex !important;\n  flex-direction: column !important;\n  width: 100% !important;\n}\n#PureChatWidget.purechat .purechat-card-flex .purechat-card-header {\n  display: flex !important;\n  flex-grow: 0 !important;\n  flex-shrink: 0 !important;\n  font-size: 13px !important;\n  justify-content: space-between !important;\n}\n#PureChatWidget.purechat .purechat-card-flex .purechat-card-header span {\n  font-size: 13px !important;\n}\n#PureChatWidget.purechat .purechat-card-flex .purechat-card-body {\n  flex-grow: 1 !important;\n  flex-shrink: 1 !important;\n  overflow-y: auto !important;\n}\n#PureChatWidget.purechat .purechat-card-flex .purechat-card-footer {\n  font-size: 13px !important;\n}\n#PureChatWidget.purechat .purechat-card-bordered .purechat-card-header {\n  border-bottom: solid 1px rgba(0,0,0,0.1) !important;\n  padding-bottom: 12px !important;\n}\n#PureChatWidget.purechat .purechat-card-bordered .purechat-card-body {\n  padding-bottom: 12px !important;\n  padding-top: 12px !important;\n}\n#PureChatWidget.purechat .purechat-card-bordered .purechat-card-footer {\n  border-top: solid 1px rgba(0,0,0,0.1) !important;\n  padding-top: 12px !important;\n}\n#PureChatWidget.purechat .purechat-alert {\n  font-size: 14px !important;\n  padding: 5px !important;\n  text-align: center !important;\n}\n#PureChatWidget.purechat .purechat-alert-error {\n  color: var(--purechat-a-d) !important;\n}\n#PureChatWidget.purechat .purechat-alert-error.purechat-init-error-inline {\n  font-size: 24px !important;\n  line-height: 44px !important;\n  padding: 1px 5px !important;\n  position: absolute !important;\n  right: 30px !important;\n}\n#PureChatWidget.purechat .pc-svgicon {\n  background: none !important;\n  color: currentColor !important;\n  display: inline-block !important;\n  fill: currentColor !important;\n  height: 18px !important;\n  margin: initial !important;\n  overflow: hidden !important;\n  pointer-events: none !important;\n  position: relative !important;\n  transform: none !important;\n  vertical-align: -0.15em !important;\n  width: 18px !important;\n}\n#PureChatWidget.purechat .pc-svgicon-sm {\n  height: 15px !important;\n  width: 15px !important;\n}\n#PureChatWidget.purechat .pc-svgicon-md {\n  height: 20px !important;\n  width: 20px !important;\n}\n#PureChatWidget.purechat .pc-svgicon-lg {\n  height: 24px !important;\n  width: 24px !important;\n}\n#PureChatWidget.purechat .pc-svgicon-xl {\n  height: 40px !important;\n  width: 40px !important;\n}\n#PureChatWidget.purechat .purechat-emojis {\n  position: absolute !important;\n  top: 0 !important;\n  bottom: 10px !important;\n  left: 0 !important;\n  right: 0 !important;\n  z-index: 99999 !important;\n}\n#PureChatWidget.purechat.purechat-state-closed .purechat-emojis {\n  display: none !important;\n  z-index: -1 !important;\n}\n#PureChatWidget.purechat .purechat-emoji-container {\n  display: flex !important;\n  flex-wrap: wrap !important;\n}\n#PureChatWidget.purechat .purechat-curated-emojis {\n  margin-bottom: 15px !important;\n}\n#PureChatWidget.purechat .purechat-emoji-button {\n  border-radius: 3px !important;\n  flex-basis: 10% !important;\n  font-size: 18px !important;\n  padding: 3px 0 !important;\n  text-align: center !important;\n  transition: background-color 0.4s ease !important;\n}\n#PureChatWidget.purechat .purechat-emoji-button:hover,\n#PureChatWidget.purechat .purechat-emoji-button.purechat-emoji-button-active {\n  background-color: rgba(0,0,0,0.1) !important;\n}\n#PureChatWidget.purechat .purechat-emoji-autocomplete {\n  position: absolute !important;\n  bottom: 10px !important;\n  left: 0 !important;\n  right: 0 !important;\n  z-index: 99999 !important;\n}\n#PureChatWidget.purechat .purechat-flyout-arrow,\n#PureChatWidget.purechat .purechat-flyout-arrow:after {\n  position: absolute !important;\n  display: block !important;\n  width: 0 !important;\n  height: 0 !important;\n  border-color: transparent !important;\n  border-style: solid !important;\n  border-width: 20px 10px !important;\n}\n#PureChatWidget.purechat .purechat-flyout-arrow {\n  border-width: 22px 11px !important;\n}\n#PureChatWidget.purechat .purechat-flyout-arrow:after {\n  content: "" !important;\n}\n#PureChatWidget.purechat .purechat-flyout-arrow.purechat-flyout-arrow-bottom {\n  bottom: -22px !important;\n  left: 50% !important;\n  margin-left: -11px !important;\n  border-top-color: var(--purechat-p-bg-d) !important;\n  border-bottom-width: 0 !important;\n}\n#PureChatWidget.purechat .purechat-flyout-arrow.purechat-flyout-arrow-bottom:after {\n  content: " " !important;\n  top: -23px !important;\n  margin-left: -10px !important;\n  border-top-color: #fff !important;\n  border-bottom-width: 0 !important;\n}\n#PureChatWidget.purechat .purechat-flyout-arrow.purechat-flyout-arrow-top {\n  top: -22px !important;\n  left: 50% !important;\n  margin-left: -11px !important;\n  border-bottom-color: var(--purechat-p-bg-d) !important;\n  border-top-width: 0 !important;\n}\n#PureChatWidget.purechat .purechat-flyout-arrow.purechat-flyout-arrow-top:after {\n  content: " " !important;\n  bottom: -23px !important;\n  margin-left: -10px !important;\n  border-bottom-color: #fff !important;\n  border-top-width: 0 !important;\n}\n#PureChatWidget.purechat .purechat-flyout {\n  background: #fff !important;\n  border: solid 1px var(--purechat-p-bg) !important;\n  border-radius: 5px !important;\n  box-shadow: 1px 1px 4px rgba(0,0,0,0.4) !important;\n  opacity: 1 !important;\n  padding: 10px !important;\n  position: absolute !important;\n  min-width: 35px !important;\n  max-width: 373px !important;\n  z-index: 9999 !important;\n}\n#PureChatWidget.purechat .purechat-flyout.purechat-flyout-wide {\n  left: 0 !important;\n  max-width: none !important;\n  right: 0 !important;\n}\n#PureChatWidget.purechat .purechat-flyout .purechat-email-form {\n  min-width: 313px !important;\n}\n#PureChatWidget.purechat .purechat-flyout .purechat-flyout-twitter {\n  display: flex !important;\n  flex-direction: column !important;\n  min-width: 353px !important;\n}\n#PureChatWidget.purechat .purechat-flyout .purechat-flyout-twitter .purechat-flyout-twitter-feed {\n  flex-grow: 1 !important;\n  height: 312px !important;\n  margin-bottom: 10px !important;\n  overflow-y: hidden !important;\n}\n#PureChatWidget.purechat .purechat-flyout .purechat-flyout-twitter .purechat-flyout-twitter-feed >iframe {\n  border: none !important;\n  display: inline-block !important;\n  height: 312px !important;\n  margin-top: 0px !important;\n  margin-bottom: 0px !important;\n  max-height: 312px !important;\n  min-height: 312px !important;\n  max-width: 100% !important;\n  min-width: 180px !important;\n  padding: 0px !important;\n  position: static !important;\n  visibility: visible !important;\n  width: 100% !important;\n}\n#PureChatWidget.purechat .purechat-flyout .purechat-flyout-twitter .purechat-flyout-twitter-buttons {\n  display: flex !important;\n  flex-direction: row !important;\n  height: 20px !important;\n  justify-content: center !important;\n}\n#PureChatWidget.purechat .purechat-flyout .purechat-flyout-twitter .purechat-flyout-twitter-buttons > div > iframe {\n  height: 20px !important;\n  position: static !important;\n  visibility: visible !important;\n  width: 100% !important;\n}\n#PureChatWidget.purechat .purechat-flyout .purechat-flyout-twitter .purechat-flyout-twitter-buttons :first-child {\n  margin-right: 5px !important;\n}\n#PureChatWidget.purechat .purechat-flyout .purechat-flyout-twitter .purechat-flyout-twitter-buttons :last-child {\n  margin-left: 5px !important;\n}\n#PureChatWidget.purechat .purechat-flyout .purechat-flyout-address {\n  min-width: 353px !important;\n}\n#PureChatWidget.purechat .purechat-flyout .purechat-flyout-address iframe {\n  border: solid 1px #ddd !important;\n  height: 300px !important;\n  margin-bottom: 10px !important;\n  width: 100% !important;\n}\n#PureChatWidget.purechat .purechat-flyout.purechat-flyout-bounce-up {\n  animation-name: purechat-bounceUpSmall !important;\n}\n#PureChatWidget.purechat .purechat-flyout.purechat-flyout-bounce-down {\n  animation-name: purechat-bounceDownSmall !important;\n}\n#PureChatWidget.purechat .purechat-flyout .purechat-card {\n  background: transparent !important;\n  box-shadow: none !important;\n  padding: 0 !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget .purechat-flyout .purechat-email-form,\n#PureChatWidget.purechat.purechat-popped-out-widget .purechat-flyout .purechat-flyout-twitter,\n#PureChatWidget.purechat.purechat-popped-out-widget .purechat-flyout .purechat-flyout-address {\n  min-width: 0 !important;\n}\n#PureChatWidget.purechat.purechat-bottom-left .purechat-flyout.purechat-flyout-hide,\n#PureChatWidget.purechat.purechat-bottom-right .purechat-flyout.purechat-flyout-hide {\n  animation-name: purechat-fadeOutDownSmall !important;\n}\n#PureChatWidget.purechat.purechat-top-left .purechat-flyout.purechat-flyout-hide,\n#PureChatWidget.purechat.purechat-top-right .purechat-flyout.purechat-flyout-hide {\n  animation-name: purechat-fadeOutUpSmall !important;\n}\n#PureChatWidget.purechat.purechat-bottom-left .purechat-flyout.purechat-flyout-show,\n#PureChatWidget.purechat.purechat-bottom-right .purechat-flyout.purechat-flyout-show {\n  animation-name: purechat-fadeInDownSmall !important;\n}\n#PureChatWidget.purechat.purechat-top-left .purechat-flyout.purechat-flyout-show,\n#PureChatWidget.purechat.purechat-top-right .purechat-flyout.purechat-flyout-show {\n  animation-name: purechat-fadeInUpSmall !important;\n}\n#PureChatWidget.purechat.purechat-style-classic .purechat-flyout p {\n  color: #3b404c !important;\n}\n#PureChatWidget.purechat .purechat-message-preview-text {\n  white-space: nowrap !important;\n  overflow: hidden !important;\n  text-overflow: ellipsis !important;\n}\n#PureChatWidget.purechat .purechat-badge {\n  background-color: #c11e1f !important;\n  border-radius: 16px !important;\n  box-shadow: 1px 1px 3px rgba(0,0,0,0.4) !important;\n  color: #fff !important;\n  display: block !important;\n  font-size: 12px !important;\n  height: 16px !important;\n  padding: 0 !important;\n  position: absolute !important;\n  left: -5px !important;\n  text-align: center !important;\n  top: -5px !important;\n  width: 16px !important;\n  z-index: 10000000 !important;\n}\n#PureChatWidget.purechat.purechat-widget-super-collapsed .purechat-badge,\n#PureChatWidget.purechat.purechat-popped-out-widget .purechat-badge {\n  font-size: 16px !important;\n  height: 25px !important;\n  left: -10px !important;\n  padding: 2px !important;\n  top: -12px !important;\n  width: 25px !important;\n}\n#PureChatWidget.purechat .purechat-loading {\n  margin: 0 !important;\n  height: 20px !important;\n  width: 20px !important;\n  animation: purechat-animation-loading 0.8s infinite linear !important;\n  border: 3px solid var(--purechat-btn-fg) !important;\n  border-right-color: transparent !important;\n  border-radius: 50% !important;\n}\n#PureChatWidget.purechat .purechat-loading-large {\n  height: 32px !important;\n  width: 32px !important;\n}\n#PureChatWidget.purechat .purechat-loading-center {\n  margin: 0 auto !important;\n  position: relative !important;\n  top: 8px !important;\n}\n#PureChatWidget.purechat .purechat-loading-light {\n  border: 3px solid var(--purechat-s-fg-d) !important;\n  border-right-color: transparent !important;\n}\n#PureChatWidget.purechat .purechat-loading-dark {\n  border: 3px solid var(--purechat-s-fg-d) !important;\n  border-right-color: transparent !important;\n}\n@-moz-keyframes purechat-animation-loading {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n@-webkit-keyframes purechat-animation-loading {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n@-o-keyframes purechat-animation-loading {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n@keyframes purechat-animation-loading {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n#PureChatWidget.purechat .purechat-file-overlay {\n  background: rgba(0,0,0,0.4) !important;\n  bottom: 0 !important;\n  left: 0 !important;\n  position: absolute !important;\n  right: 0 !important;\n  top: 0 !important;\n  z-index: 9999 !important;\n}\n#PureChatWidget.purechat:not(.purechat-attached) .purechat-file-overlay {\n  border-bottom-right-radius: 13px !important;\n  border-bottom-left-radius: 13px !important;\n}\n#PureChatWidget.purechat .purechat-file-overlay-instructions {\n  background: #fff !important;\n  border-radius: 110px !important;\n  font-size: 20px !important;\n  height: 220px !important;\n  left: 50% !important;\n  line-height: 260px !important;\n  position: absolute !important;\n  text-align: center !important;\n  top: 50% !important;\n  transform: translate(-50%, -50%) !important;\n  width: 220px !important;\n}\n#PureChatWidget.purechat .purechat-file-overlay-instructions img {\n  position: absolute !important;\n  top: -10px !important;\n  left: 50% !important;\n  transform: translateX(-50%) !important;\n}\n#PureChatWidgetImagePreview {\n  background: rgba(0,0,0,0.8) !important;\n  bottom: 0 !important;\n  left: 0 !important;\n  position: fixed !important;\n  right: 0 !important;\n  top: 0 !important;\n  z-index: 9999999 !important;\n}\n#PureChatWidgetImagePreview > img {\n  left: 50% !important;\n  position: absolute !important;\n  max-height: 100% !important;\n  max-width: 100% !important;\n  top: 50% !important;\n  transform: translate(-50%, -50%) !important;\n}\n#PureChatWidgetImagePreview > button {\n  background: transparent !important;\n  border: none 0 !important;\n  color: #fff !important;\n  font-size: 35px !important;\n  position: absolute !important;\n  right: 10px !important;\n  top: 10px !important;\n}\n#PureChatWidget.purechat .purechat-progress-spinner {\n  background: var(--purechat-p-bg) 50% 50% no-repeat !important;\n  mask: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB3aWR0aD0iNjRweCIgaGVpZ2h0PSI2NHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiIGNsYXNzPSJ1aWwtc3BpbiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0iaGVpZ2h0OjY0cHg7d2lkdGg6NjRweDtwZXJzcGVjdGl2ZS1vcmlnaW46MzJweCAzMnB4O3RyYW5zZm9ybS1vcmlnaW46MzJweCAzMnB4OyI+ICAgIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSJub25lIiBjbGFzcz0iYmsiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjBweCAwcHg7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6bm9uZTsiLz4gICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTAgNTApIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDsiPiAgICAgICAgPGcgdHJhbnNmb3JtPSJyb3RhdGUoMCkgdHJhbnNsYXRlKDM0IDApIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDsiPiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjOGM1ZTljIiB0cmFuc2Zvcm09InNjYWxlKDAuOTkxMjAzIDAuOTkxMjAzKSIgc3R5bGU9ImhlaWdodDphdXRvO29wYWNpdHk6MC42MzM2NjY7b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpO3I6OHB4OyI+ICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSIwcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjBzIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICA8L2NpcmNsZT4gICAgICAgIDwvZz4gICAgICAgIDxnIHRyYW5zZm9ybT0icm90YXRlKDQ1KSB0cmFuc2xhdGUoMzQgMCkiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjBweCAwcHg7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4OyI+ICAgICAgICAgICAgPGNpcmNsZSBjeD0iMCIgY3k9IjAiIHI9IjgiIGZpbGw9IiM4YzVlOWMiIHRyYW5zZm9ybT0ic2NhbGUoMS4xNDEyIDEuMTQxMikiIHN0eWxlPSJoZWlnaHQ6YXV0bztvcGFjaXR5OjAuNzQxNjY2O292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46MHB4IDBweDt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTtyOjhweDsiPiAgICAgICAgICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiBmcm9tPSIxIiB0bz0iMC4xIiBiZWdpbj0iOTBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjkwbXMiIGR1cj0iNzUwbXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlO3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpOyIvPiAgICAgICAgICAgIDwvY2lyY2xlPiAgICAgICAgPC9nPiAgICAgICAgPGcgdHJhbnNmb3JtPSJyb3RhdGUoOTApIHRyYW5zbGF0ZSgzNCAwKSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46MHB4IDBweDt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7Ij4gICAgICAgICAgICA8Y2lyY2xlIGN4PSIwIiBjeT0iMCIgcj0iOCIgZmlsbD0iIzhjNWU5YyIgdHJhbnNmb3JtPSJzY2FsZSgxLjI5MTIgMS4yOTEyKSIgc3R5bGU9ImhlaWdodDphdXRvO29wYWNpdHk6MC44NDk2NjY7b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpO3I6OHB4OyI+ICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSIxODBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjE4MG1zIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICA8L2NpcmNsZT4gICAgICAgIDwvZz4gICAgICAgIDxnIHRyYW5zZm9ybT0icm90YXRlKDEzNSkgdHJhbnNsYXRlKDM0IDApIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDsiPiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjOGM1ZTljIiB0cmFuc2Zvcm09InNjYWxlKDEuNDU3ODcgMS40NTc4NykiIHN0eWxlPSJoZWlnaHQ6YXV0bztvcGFjaXR5OjAuOTY5NjY2O292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46MHB4IDBweDt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTtyOjhweDsiPiAgICAgICAgICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiBmcm9tPSIxIiB0bz0iMC4xIiBiZWdpbj0iMjgwbXMiIGR1cj0iNzUwbXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlO3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpOyIvPiAgICAgICAgICAgICAgICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InNjYWxlIiBmcm9tPSIxLjUiIHRvPSIuMjUiIGJlZ2luPSIyODBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgPC9jaXJjbGU+ICAgICAgICA8L2c+ICAgICAgICA8ZyB0cmFuc2Zvcm09InJvdGF0ZSgxODApIHRyYW5zbGF0ZSgzNCAwKSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46MHB4IDBweDt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7Ij4gICAgICAgICAgICA8Y2lyY2xlIGN4PSIwIiBjeT0iMCIgcj0iOCIgZmlsbD0iIzhjNWU5YyIgdHJhbnNmb3JtPSJzY2FsZSgwLjM1Nzg3IDAuMzU3ODcpIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3BhY2l0eTowLjE3NzY2NjtvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjBweCAwcHg7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7cjo4cHg7Ij4gICAgICAgICAgICAgICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgZnJvbT0iMSIgdG89IjAuMSIgYmVnaW49IjM3MG1zIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgZnJvbT0iMS41IiB0bz0iLjI1IiBiZWdpbj0iMzcwbXMiIGR1cj0iNzUwbXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlO3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpOyIvPiAgICAgICAgICAgIDwvY2lyY2xlPiAgICAgICAgPC9nPiAgICAgICAgPGcgdHJhbnNmb3JtPSJyb3RhdGUoMjI1KSB0cmFuc2xhdGUoMzQgMCkiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjBweCAwcHg7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4OyI+ICAgICAgICAgICAgPGNpcmNsZSBjeD0iMCIgY3k9IjAiIHI9IjgiIGZpbGw9IiM4YzVlOWMiIHRyYW5zZm9ybT0ic2NhbGUoMC41MDc4NyAwLjUwNzg3KSIgc3R5bGU9ImhlaWdodDphdXRvO29wYWNpdHk6MC4yODU2NjY7b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpO3I6OHB4OyI+ICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSI0NjBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjQ2MG1zIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICA8L2NpcmNsZT4gICAgICAgIDwvZz4gICAgICAgIDxnIHRyYW5zZm9ybT0icm90YXRlKDI3MCkgdHJhbnNsYXRlKDM0IDApIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDsiPiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjOGM1ZTljIiB0cmFuc2Zvcm09InNjYWxlKDAuNjc0NTM3IDAuNjc0NTM3KSIgc3R5bGU9ImhlaWdodDphdXRvO29wYWNpdHk6MC40MDU2NjY7b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpO3I6OHB4OyI+ICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSI1NjBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjU2MG1zIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICA8L2NpcmNsZT4gICAgICAgIDwvZz4gICAgICAgIDxnIHRyYW5zZm9ybT0icm90YXRlKDMxNSkgdHJhbnNsYXRlKDM0IDApIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDsiPiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjOGM1ZTljIiB0cmFuc2Zvcm09InNjYWxlKDAuODI0NTM3IDAuODI0NTM3KSIgc3R5bGU9ImhlaWdodDphdXRvO29wYWNpdHk6MC41MTM2NjY7b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpO3I6OHB4OyI+ICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSI2NTBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjY1MG1zIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICA8L2NpcmNsZT4gICAgICAgIDwvZz4gICAgPC9nPiAgPC9zdmc+") 50% 50% no-repeat !important;\n  -webkit-mask: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB3aWR0aD0iNjRweCIgaGVpZ2h0PSI2NHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiIGNsYXNzPSJ1aWwtc3BpbiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0iaGVpZ2h0OjY0cHg7d2lkdGg6NjRweDtwZXJzcGVjdGl2ZS1vcmlnaW46MzJweCAzMnB4O3RyYW5zZm9ybS1vcmlnaW46MzJweCAzMnB4OyI+ICAgIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSJub25lIiBjbGFzcz0iYmsiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjBweCAwcHg7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6bm9uZTsiLz4gICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTAgNTApIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDsiPiAgICAgICAgPGcgdHJhbnNmb3JtPSJyb3RhdGUoMCkgdHJhbnNsYXRlKDM0IDApIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDsiPiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjOGM1ZTljIiB0cmFuc2Zvcm09InNjYWxlKDAuOTkxMjAzIDAuOTkxMjAzKSIgc3R5bGU9ImhlaWdodDphdXRvO29wYWNpdHk6MC42MzM2NjY7b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpO3I6OHB4OyI+ICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSIwcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjBzIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICA8L2NpcmNsZT4gICAgICAgIDwvZz4gICAgICAgIDxnIHRyYW5zZm9ybT0icm90YXRlKDQ1KSB0cmFuc2xhdGUoMzQgMCkiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjBweCAwcHg7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4OyI+ICAgICAgICAgICAgPGNpcmNsZSBjeD0iMCIgY3k9IjAiIHI9IjgiIGZpbGw9IiM4YzVlOWMiIHRyYW5zZm9ybT0ic2NhbGUoMS4xNDEyIDEuMTQxMikiIHN0eWxlPSJoZWlnaHQ6YXV0bztvcGFjaXR5OjAuNzQxNjY2O292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46MHB4IDBweDt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTtyOjhweDsiPiAgICAgICAgICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiBmcm9tPSIxIiB0bz0iMC4xIiBiZWdpbj0iOTBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjkwbXMiIGR1cj0iNzUwbXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlO3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpOyIvPiAgICAgICAgICAgIDwvY2lyY2xlPiAgICAgICAgPC9nPiAgICAgICAgPGcgdHJhbnNmb3JtPSJyb3RhdGUoOTApIHRyYW5zbGF0ZSgzNCAwKSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46MHB4IDBweDt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7Ij4gICAgICAgICAgICA8Y2lyY2xlIGN4PSIwIiBjeT0iMCIgcj0iOCIgZmlsbD0iIzhjNWU5YyIgdHJhbnNmb3JtPSJzY2FsZSgxLjI5MTIgMS4yOTEyKSIgc3R5bGU9ImhlaWdodDphdXRvO29wYWNpdHk6MC44NDk2NjY7b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpO3I6OHB4OyI+ICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSIxODBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjE4MG1zIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICA8L2NpcmNsZT4gICAgICAgIDwvZz4gICAgICAgIDxnIHRyYW5zZm9ybT0icm90YXRlKDEzNSkgdHJhbnNsYXRlKDM0IDApIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDsiPiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjOGM1ZTljIiB0cmFuc2Zvcm09InNjYWxlKDEuNDU3ODcgMS40NTc4NykiIHN0eWxlPSJoZWlnaHQ6YXV0bztvcGFjaXR5OjAuOTY5NjY2O292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46MHB4IDBweDt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTtyOjhweDsiPiAgICAgICAgICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiBmcm9tPSIxIiB0bz0iMC4xIiBiZWdpbj0iMjgwbXMiIGR1cj0iNzUwbXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlO3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpOyIvPiAgICAgICAgICAgICAgICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InNjYWxlIiBmcm9tPSIxLjUiIHRvPSIuMjUiIGJlZ2luPSIyODBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgPC9jaXJjbGU+ICAgICAgICA8L2c+ICAgICAgICA8ZyB0cmFuc2Zvcm09InJvdGF0ZSgxODApIHRyYW5zbGF0ZSgzNCAwKSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46MHB4IDBweDt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7Ij4gICAgICAgICAgICA8Y2lyY2xlIGN4PSIwIiBjeT0iMCIgcj0iOCIgZmlsbD0iIzhjNWU5YyIgdHJhbnNmb3JtPSJzY2FsZSgwLjM1Nzg3IDAuMzU3ODcpIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3BhY2l0eTowLjE3NzY2NjtvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjBweCAwcHg7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7cjo4cHg7Ij4gICAgICAgICAgICAgICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgZnJvbT0iMSIgdG89IjAuMSIgYmVnaW49IjM3MG1zIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgZnJvbT0iMS41IiB0bz0iLjI1IiBiZWdpbj0iMzcwbXMiIGR1cj0iNzUwbXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlO3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpOyIvPiAgICAgICAgICAgIDwvY2lyY2xlPiAgICAgICAgPC9nPiAgICAgICAgPGcgdHJhbnNmb3JtPSJyb3RhdGUoMjI1KSB0cmFuc2xhdGUoMzQgMCkiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjBweCAwcHg7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4OyI+ICAgICAgICAgICAgPGNpcmNsZSBjeD0iMCIgY3k9IjAiIHI9IjgiIGZpbGw9IiM4YzVlOWMiIHRyYW5zZm9ybT0ic2NhbGUoMC41MDc4NyAwLjUwNzg3KSIgc3R5bGU9ImhlaWdodDphdXRvO29wYWNpdHk6MC4yODU2NjY7b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpO3I6OHB4OyI+ICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSI0NjBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjQ2MG1zIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICA8L2NpcmNsZT4gICAgICAgIDwvZz4gICAgICAgIDxnIHRyYW5zZm9ybT0icm90YXRlKDI3MCkgdHJhbnNsYXRlKDM0IDApIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDsiPiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjOGM1ZTljIiB0cmFuc2Zvcm09InNjYWxlKDAuNjc0NTM3IDAuNjc0NTM3KSIgc3R5bGU9ImhlaWdodDphdXRvO29wYWNpdHk6MC40MDU2NjY7b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpO3I6OHB4OyI+ICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSI1NjBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjU2MG1zIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICA8L2NpcmNsZT4gICAgICAgIDwvZz4gICAgICAgIDxnIHRyYW5zZm9ybT0icm90YXRlKDMxNSkgdHJhbnNsYXRlKDM0IDApIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDsiPiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjOGM1ZTljIiB0cmFuc2Zvcm09InNjYWxlKDAuODI0NTM3IDAuODI0NTM3KSIgc3R5bGU9ImhlaWdodDphdXRvO29wYWNpdHk6MC41MTM2NjY7b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpO3I6OHB4OyI+ICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSI2NTBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjY1MG1zIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICA8L2NpcmNsZT4gICAgICAgIDwvZz4gICAgPC9nPiAgPC9zdmc+") 50% 50% no-repeat !important;\n  height: 64px !important;\n  left: 50% !important;\n  margin-left: -32px !important;\n  margin-top: -32px !important;\n  position: absolute !important;\n  top: 50% !important;\n  width: 64px !important;\n}\n#PureChatWidget.purechat .purechat-progress-spinner * {\n  display: none !important;\n}\n#PureChatWidget.purechat .purechat-progress-spinner.purechat-progress-spinner-compat {\n  background: transparent url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB3aWR0aD0iNjRweCIgaGVpZ2h0PSI2NHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiIGNsYXNzPSJ1aWwtc3BpbiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0iaGVpZ2h0OjY0cHg7d2lkdGg6NjRweDtwZXJzcGVjdGl2ZS1vcmlnaW46MzJweCAzMnB4O3RyYW5zZm9ybS1vcmlnaW46MzJweCAzMnB4OyI+ICAgIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSJub25lIiBjbGFzcz0iYmsiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjBweCAwcHg7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6bm9uZTsiLz4gICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTAgNTApIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDsiPiAgICAgICAgPGcgdHJhbnNmb3JtPSJyb3RhdGUoMCkgdHJhbnNsYXRlKDM0IDApIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDsiPiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjOGM1ZTljIiB0cmFuc2Zvcm09InNjYWxlKDAuOTkxMjAzIDAuOTkxMjAzKSIgc3R5bGU9ImhlaWdodDphdXRvO29wYWNpdHk6MC42MzM2NjY7b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpO3I6OHB4OyI+ICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSIwcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjBzIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICA8L2NpcmNsZT4gICAgICAgIDwvZz4gICAgICAgIDxnIHRyYW5zZm9ybT0icm90YXRlKDQ1KSB0cmFuc2xhdGUoMzQgMCkiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjBweCAwcHg7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4OyI+ICAgICAgICAgICAgPGNpcmNsZSBjeD0iMCIgY3k9IjAiIHI9IjgiIGZpbGw9IiM4YzVlOWMiIHRyYW5zZm9ybT0ic2NhbGUoMS4xNDEyIDEuMTQxMikiIHN0eWxlPSJoZWlnaHQ6YXV0bztvcGFjaXR5OjAuNzQxNjY2O292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46MHB4IDBweDt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTtyOjhweDsiPiAgICAgICAgICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiBmcm9tPSIxIiB0bz0iMC4xIiBiZWdpbj0iOTBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjkwbXMiIGR1cj0iNzUwbXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlO3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpOyIvPiAgICAgICAgICAgIDwvY2lyY2xlPiAgICAgICAgPC9nPiAgICAgICAgPGcgdHJhbnNmb3JtPSJyb3RhdGUoOTApIHRyYW5zbGF0ZSgzNCAwKSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46MHB4IDBweDt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7Ij4gICAgICAgICAgICA8Y2lyY2xlIGN4PSIwIiBjeT0iMCIgcj0iOCIgZmlsbD0iIzhjNWU5YyIgdHJhbnNmb3JtPSJzY2FsZSgxLjI5MTIgMS4yOTEyKSIgc3R5bGU9ImhlaWdodDphdXRvO29wYWNpdHk6MC44NDk2NjY7b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpO3I6OHB4OyI+ICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSIxODBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjE4MG1zIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICA8L2NpcmNsZT4gICAgICAgIDwvZz4gICAgICAgIDxnIHRyYW5zZm9ybT0icm90YXRlKDEzNSkgdHJhbnNsYXRlKDM0IDApIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDsiPiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjOGM1ZTljIiB0cmFuc2Zvcm09InNjYWxlKDEuNDU3ODcgMS40NTc4NykiIHN0eWxlPSJoZWlnaHQ6YXV0bztvcGFjaXR5OjAuOTY5NjY2O292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46MHB4IDBweDt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTtyOjhweDsiPiAgICAgICAgICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiBmcm9tPSIxIiB0bz0iMC4xIiBiZWdpbj0iMjgwbXMiIGR1cj0iNzUwbXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlO3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpOyIvPiAgICAgICAgICAgICAgICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InNjYWxlIiBmcm9tPSIxLjUiIHRvPSIuMjUiIGJlZ2luPSIyODBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgPC9jaXJjbGU+ICAgICAgICA8L2c+ICAgICAgICA8ZyB0cmFuc2Zvcm09InJvdGF0ZSgxODApIHRyYW5zbGF0ZSgzNCAwKSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46MHB4IDBweDt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7Ij4gICAgICAgICAgICA8Y2lyY2xlIGN4PSIwIiBjeT0iMCIgcj0iOCIgZmlsbD0iIzhjNWU5YyIgdHJhbnNmb3JtPSJzY2FsZSgwLjM1Nzg3IDAuMzU3ODcpIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3BhY2l0eTowLjE3NzY2NjtvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjBweCAwcHg7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7cjo4cHg7Ij4gICAgICAgICAgICAgICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgZnJvbT0iMSIgdG89IjAuMSIgYmVnaW49IjM3MG1zIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgZnJvbT0iMS41IiB0bz0iLjI1IiBiZWdpbj0iMzcwbXMiIGR1cj0iNzUwbXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlO3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpOyIvPiAgICAgICAgICAgIDwvY2lyY2xlPiAgICAgICAgPC9nPiAgICAgICAgPGcgdHJhbnNmb3JtPSJyb3RhdGUoMjI1KSB0cmFuc2xhdGUoMzQgMCkiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjBweCAwcHg7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4OyI+ICAgICAgICAgICAgPGNpcmNsZSBjeD0iMCIgY3k9IjAiIHI9IjgiIGZpbGw9IiM4YzVlOWMiIHRyYW5zZm9ybT0ic2NhbGUoMC41MDc4NyAwLjUwNzg3KSIgc3R5bGU9ImhlaWdodDphdXRvO29wYWNpdHk6MC4yODU2NjY7b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpO3I6OHB4OyI+ICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSI0NjBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjQ2MG1zIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICA8L2NpcmNsZT4gICAgICAgIDwvZz4gICAgICAgIDxnIHRyYW5zZm9ybT0icm90YXRlKDI3MCkgdHJhbnNsYXRlKDM0IDApIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDsiPiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjOGM1ZTljIiB0cmFuc2Zvcm09InNjYWxlKDAuNjc0NTM3IDAuNjc0NTM3KSIgc3R5bGU9ImhlaWdodDphdXRvO29wYWNpdHk6MC40MDU2NjY7b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpO3I6OHB4OyI+ICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSI1NjBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjU2MG1zIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICA8L2NpcmNsZT4gICAgICAgIDwvZz4gICAgICAgIDxnIHRyYW5zZm9ybT0icm90YXRlKDMxNSkgdHJhbnNsYXRlKDM0IDApIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDsiPiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjOGM1ZTljIiB0cmFuc2Zvcm09InNjYWxlKDAuODI0NTM3IDAuODI0NTM3KSIgc3R5bGU9ImhlaWdodDphdXRvO29wYWNpdHk6MC41MTM2NjY7b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpO3I6OHB4OyI+ICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSI2NTBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjY1MG1zIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICA8L2NpcmNsZT4gICAgICAgIDwvZz4gICAgPC9nPiAgPC9zdmc+") 50% 50% no-repeat !important;\n  mask: none !important;\n}\n#PureChatWidget.purechat .purechat-progress-spinner-container {\n  position: relative !important;\n  overflow: hidden !important;\n}\n#PureChatWidget.purechat .purechat-progress-spinner-container > * {\n  opacity: 0.5 !important;\n}\n#PureChatWidget.purechat .purechat-progress-spinner-container .purechat-progress-spinner {\n  opacity: 1 !important;\n}\n#PureChatWidget.purechat .purechat-progress-spinner-overlay {\n  height: 100% !important;\n  margin: 0 !important;\n  left: 0 !important;\n  top: 0 !important;\n  width: 100% !important;\n}\n#PureChatWidget.purechat .purechat-progress-spinner-overlay:before {\n  left: 50% !important;\n  position: absolute !important;\n  top: 50% !important;\n}\n#PureChatWidget.purechat .purechat-collapsed-image {\n  background-size: contain !important;\n  background-repeat: no-repeat !important;\n  background-position: center center !important;\n  display: block !important;\n  height: 75px !important;\n  position: absolute !important;\n  width: 75px !important;\n}\n.purechat-assist,\n.purechat-assist body {\n  height: 100% !important;\n  width: 100% !important;\n  position: relative !important;\n  padding: 0 !important;\n  margin: 0 !important;\n}\n#PureChatWidget.purechat {\n  background-color: var(--purechat-p-bg-d) !important;\n  border: 0 !important;\n  border-radius: 13px !important;\n  box-shadow: 1px 1px 4px rgba(0,0,0,0.4) !important;\n  cursor: default !important;\n  position: fixed !important;\n  width: 373px !important;\n  z-index: 2147483646 !important;\n/* Default\n\t   ========================================================================== */\n/* Thumbs\n\t   ========================================================================== */\n/* Forms\n\t   ========================================================================== */\n/* Message Preview\n\t   ========================================================================== */\n/* Collapsed\n\t   ========================================================================== */\n/* Super collapsed\n\t   ========================================================================== */\n/* Expanded\n\t   ========================================================================== */\n/* Direct Access (Hosted)\n\t   ========================================================================== */\n}\n#PureChatWidget.purechat.purechat-style-classic {\n  border: 10px solid var(--purechat-p-bg-d) !important;\n}\n#PureChatWidget.purechat a,\n#PureChatWidget.purechat a:hover {\n  text-decoration: underline !important;\n}\n#PureChatWidget.purechat p {\n  color: var(--purechat-s-fg-d) !important;\n  margin-bottom: 10px !important;\n}\n#PureChatWidget.purechat textarea {\n  overflow: auto !important;\n}\n#PureChatWidget.purechat path {\n  color: currentColor !important;\n  fill: currentColor !important;\n}\n#PureChatWidget.purechat .purechat-display-none,\n#PureChatWidget.purechat.purechat-display-none {\n  display: none !important;\n}\n#PureChatWidget.purechat .purechat-display-block,\n#PureChatWidget.purechat.purechat-display-block {\n  display: block !important;\n}\n#PureChatWidget.purechat .purechat-display-flex,\n#PureChatWidget.purechat.purechat-display-flex {\n  display: flex !important;\n}\n#PureChatWidget.purechat .purechat-display-inline-block,\n#PureChatWidget.purechat.purechat-display-inline-block {\n  display: inline-block !important;\n}\n#PureChatWidget.purechat .purechat-invisible,\n#PureChatWidget.purechat .purechat-invisible *,\n#PureChatWidget.purechat.purechat-invisible,\n#PureChatWidget.purechat.purechat-invisible *,\n#PureChatWidget.purechat .purechat-invisible *:after,\n#PureChatWidget.purechat.purechat-invisible *:after,\n#PureChatWidget.purechat .purechat-invisible *:before,\n#PureChatWidget.purechat.purechat-invisible *:before {\n  visibility: hidden !important;\n}\n#PureChatWidget.purechat.purechat-bottom-left {\n  left: 40px !important;\n  bottom: 10px !important;\n}\n#PureChatWidget.purechat.purechat-bottom-right {\n  right: 60px !important;\n  bottom: 10px !important;\n}\n#PureChatWidget.purechat.purechat-top-left {\n  left: 40px !important;\n  top: 10px !important;\n}\n#PureChatWidget.purechat.purechat-top-right {\n  right: 60px !important;\n  top: 10px !important;\n}\n#PureChatWidget.purechat .purechat-expanded,\n#PureChatWidget.purechat .purechat-collapsed-outer,\n#PureChatWidget.purechat .purechat-widget-inner,\n#PureChatWidget.purechat .purechat-widget-content-wrapper,\n#PureChatWidget.purechat .purechat-content-wrapper,\n#PureChatWidget.purechat .purechat-content,\n#PureChatWidget.purechat .purechat-message-list-view,\n#PureChatWidget.purechat .purechat-messages,\n#PureChatWidget.purechat .purechat-message-display-container,\n#PureChatWidget.purechat .purechat-send-form-container {\n  display: flex !important;\n  flex-direction: column !important;\n}\n#PureChatWidget.purechat .purechat-collapsed-outer {\n  position: relative !important;\n  z-index: 10 !important;\n}\n#PureChatWidget.purechat .purechat-expanded .purechat-display-none,\n#PureChatWidget.purechat .purechat-collapsed .purechat-display-none,\n#PureChatWidget.purechat .purechat-expanded.purechat-display-none,\n#PureChatWidget.purechat .purechat-collapsed.purechat-display-none {\n  display: none !important;\n}\n#PureChatWidget.purechat .purechat-expanded .purechat-display-block,\n#PureChatWidget.purechat .purechat-collapsed .purechat-display-block,\n#PureChatWidget.purechat .purechat-expanded.purechat-display-block,\n#PureChatWidget.purechat .purechat-collapsed.purechat-display-block {\n  display: block !important;\n}\n#PureChatWidget.purechat .purechat-expanded .purechat-display-flex,\n#PureChatWidget.purechat .purechat-collapsed .purechat-display-flex,\n#PureChatWidget.purechat .purechat-expanded.purechat-display-flex,\n#PureChatWidget.purechat .purechat-collapsed.purechat-display-flex {\n  display: flex !important;\n}\n#PureChatWidget.purechat .purechat-expanded .purechat-display-inline-block,\n#PureChatWidget.purechat .purechat-collapsed .purechat-display-inline-block,\n#PureChatWidget.purechat .purechat-expanded.purechat-display-inline-block,\n#PureChatWidget.purechat .purechat-collapsed.purechat-display-inline-block {\n  display: inline-block !important;\n}\n#PureChatWidget.purechat .purechat-expanded .purechat-invisible,\n#PureChatWidget.purechat .purechat-collapsed .purechat-invisible,\n#PureChatWidget.purechat .purechat-expanded .purechat-invisible *,\n#PureChatWidget.purechat .purechat-collapsed .purechat-invisible *,\n#PureChatWidget.purechat .purechat-expanded.purechat-invisible,\n#PureChatWidget.purechat .purechat-collapsed.purechat-invisible,\n#PureChatWidget.purechat .purechat-expanded.purechat-invisible *,\n#PureChatWidget.purechat .purechat-collapsed.purechat-invisible *,\n#PureChatWidget.purechat .purechat-expanded .purechat-invisible *:after,\n#PureChatWidget.purechat .purechat-collapsed .purechat-invisible *:after,\n#PureChatWidget.purechat .purechat-expanded.purechat-invisible *:after,\n#PureChatWidget.purechat .purechat-collapsed.purechat-invisible *:after,\n#PureChatWidget.purechat .purechat-expanded .purechat-invisible *:before,\n#PureChatWidget.purechat .purechat-collapsed .purechat-invisible *:before,\n#PureChatWidget.purechat .purechat-expanded.purechat-invisible *:before,\n#PureChatWidget.purechat .purechat-collapsed.purechat-invisible *:before {\n  visibility: hidden !important;\n}\n#PureChatWidget.purechat .purechat-message-list-view {\n  flex-grow: 1 !important;\n}\n#PureChatWidget.purechat .purechat-send-form-container {\n  flex-shrink: 0 !important;\n}\n#PureChatWidget.purechat .purechat-content-wrapper {\n  background-color: var(--purechat-s-bg) !important;\n  border-bottom-left-radius: 13px !important;\n  border-bottom-right-radius: 13px !important;\n  position: relative !important;\n}\n#PureChatWidget.purechat .purechat-content-wrapper .purechat-user-status,\n#PureChatWidget.purechat .purechat-content-wrapper .purechat-send-form-container {\n  padding-left: 10px !important;\n  padding-right: 10px !important;\n}\n#PureChatWidget.purechat .purechat-content-wrapper strong,\n#PureChatWidget.purechat .purechat-content-wrapper strong > a {\n  font-weight: bold !important;\n}\n#PureChatWidget.purechat .purechat-content-wrapper em,\n#PureChatWidget.purechat .purechat-content-wrapper em > a {\n  font-style: italic !important;\n}\n#PureChatWidget.purechat .purechat-content-wrapper del,\n#PureChatWidget.purechat .purechat-content-wrapper del > a {\n  text-decoration: line-through !important;\n}\n#PureChatWidget.purechat .purechat-content-wrapper [data-resourcekey] p img {\n  max-width: 100% !important;\n}\n#PureChatWidget.purechat .purechat-content-wrapper:before {\n  box-shadow: 0px 0px 10px rgba(0,0,0,0.2) !important;\n  content: \'\' !important;\n  height: 10px !important;\n  left: 0 !important;\n  position: absolute !important;\n  top: -10px !important;\n  width: 100% !important;\n}\n#PureChatWidget.purechat .purechat-content {\n  flex-grow: 1 !important;\n  flex-shrink: 1 !important;\n  flex-basis: auto !important;\n}\n#PureChatWidget.purechat .purechat-message-display-container {\n  height: 370px !important;\n  min-height: 370px !important;\n  position: relative !important;\n}\n#PureChatWidget.purechat .purechat-message-display {\n  padding: 10px !important;\n  margin-bottom: 15px !important;\n  overflow-y: auto !important;\n  overflow-x: hidden !important;\n}\n#PureChatWidget.purechat.purechat-state-inactive.purechat-widget-expanded .purechat-message-display {\n  overflow: hidden !important;\n}\n#PureChatWidget.purechat.purechat-state-closed .purechat-message-display {\n  margin-bottom: 0 !important;\n}\n#PureChatWidget.purechat .purechat-messages {\n  flex-grow: 1 !important;\n  flex-shrink: 1 !important;\n}\n#PureChatWidget.purechat .purechat-disconnect {\n  background: rgba(0,0,0,0.8) !important;\n  border-bottom-left-radius: 8px !important;\n  border-bottom-right-radius: 8px !important;\n  bottom: 0 !important;\n  height: 100% !important;\n  left: 0 !important;\n  position: absolute !important;\n  right: 0 !important;\n  top: 0 !important;\n  width: 100% !important;\n  z-index: 99999 !important;\n}\n#PureChatWidget.purechat .purechat-disconnect svg {\n  animation: purechat-pulsate 3s ease-in-out infinite both !important;\n  color: #fff !important;\n  position: absolute !important;\n  top: calc(50% - 25px) !important;\n  left: calc(50% - 25px) !important;\n  width: 50px !important;\n  height: 50px !important;\n}\n#PureChatWidget.purechat .purechat-user-status {\n  margin-top: -25px !important;\n  position: absolute !important;\n  text-align: center !important;\n  width: 100% !important;\n}\n#PureChatWidget.purechat .purechat-user-status span {\n  background-color: var(--purechat-s-bg) !important;\n  border-top-left-radius: 3px !important;\n  border-top-right-radius: 3px !important;\n  color: var(--purechat-s-fg) !important;\n  display: inline-block !important;\n  font-size: 12px !important;\n  padding: 5px 7px !important;\n  text-align: center !important;\n}\n#PureChatWidget.purechat.purechat-state-unavailable .purechat-closedmessage-container.purechat-no-operators {\n  color: var(--purechat-s-fg) !important;\n  padding: 1rem !important;\n  text-align: center !important;\n}\n#PureChatWidget.purechat .purechat-collapsed-image {\n  cursor: pointer !important;\n}\n#PureChatWidget.purechat .purechat-thumbs-container {\n  text-align: center !important;\n}\n#PureChatWidget.purechat .purechat-thumbs {\n  border: 1px solid rgba(0,0,0,0.2) !important;\n  border-radius: 3px !important;\n  color: var(--purechat-s-fg) !important;\n  box-shadow: 0px 0px 5px rgba(0,0,0,0.2) !important;\n  display: inline-block !important;\n  font-size: 38px !important;\n  margin-bottom: 10px !important;\n  margin-top: 10px !important;\n  padding: 10px !important;\n}\n#PureChatWidget.purechat .purechat-thumbs:hover,\n#PureChatWidget.purechat .purechat-thumbs.purechat-thumbs-selected {\n  border: 1px solid rgba(0,0,0,0.4) !important;\n  box-shadow: 0px 0px 5px rgba(0,0,0,0.5) !important;\n}\n#PureChatWidget.purechat .purechat-thumbs.purechat-thumbs-down {\n  color: #ce8d3a !important;\n  fill: #ce8d3a !important;\n}\n#PureChatWidget.purechat .purechat-thumbs.purechat-thumbs-up {\n  color: #1e7377 !important;\n  fill: #1e7377 !important;\n}\n#PureChatWidget.purechat .purechat-thumbs + .purechat-thumbs {\n  margin-left: 10px !important;\n}\n#PureChatWidget.purechat .purechat-message-note .purechat-poweredby-text,\n#PureChatWidget.purechat .purechat-message-note .purechat-poweredby-link {\n  font-size: 10px !important;\n}\n#PureChatWidget.purechat .purechat-ended-form a:not(.purechat-btn),\n#PureChatWidget.purechat .purechat-download-container a:not(.purechat-btn) {\n  color: var(--purechat-s-fg) !important;\n}\n#PureChatWidget.purechat .purechat-ended-form a:hover,\n#PureChatWidget.purechat .purechat-download-container a:hover {\n  color: var(--purechat-s-fg-d) !important;\n}\n#PureChatWidget.purechat .purechat-email-success {\n  background: var(--purechat-s-bg-l) !important;\n  margin: 10px 10px 0 !important;\n  padding: 10px !important;\n  border-radius: 5px !important;\n  box-shadow: 1px 2px 3px 1px #d9d8d7 !important;\n}\n#PureChatWidget.purechat .purechat-btn {\n  background-color: var(--purechat-btn-bg) !important;\n  border-radius: 5px !important;\n  box-shadow: 2px 2px 3px rgba(0,0,0,0.2) !important;\n  color: var(--purechat-btn-fg) !important;\n}\n#PureChatWidget.purechat a.purechat-btn,\n#PureChatWidget.purechat a.purechat-btn:hover {\n  color: var(--purechat-btn-fg) !important;\n  text-align: center !important;\n  text-decoration: none !important;\n}\n#PureChatWidget.purechat .purechat-btn i {\n  background-color: var(--purechat-btn-bg) !important;\n  color: var(--purechat-btn-fg) !important;\n}\n#PureChatWidget.purechat .purechat-label {\n  color: var(--purechat-s-fg) !important;\n}\n#PureChatWidget.purechat .purechat-message-preview.purechat-message-note {\n  margin-bottom: 10px !important;\n  max-width: calc(100% - 100px) !important;\n  position: absolute !important;\n  padding: 11px 18px !important;\n  background-color: #fff !important;\n}\n#PureChatWidget.purechat.purechat-bottom .purechat-message-preview {\n  bottom: 40px !important;\n}\n#PureChatWidget.purechat.purechat-top .purechat-message-preview {\n  top: 38px !important;\n}\n#PureChatWidget.purechat.purechat-top.purechat-attached .purechat-message-preview {\n  top: 28px !important;\n}\n#PureChatWidget.purechat.purechat-top.purechat-attached .purechat-message-preview {\n  top: 28px !important;\n}\n#PureChatWidget.purechat.purechat-top-left .purechat-message-preview {\n  right: 0 !important;\n}\n#PureChatWidget.purechat.purechat-bottom-left .purechat-message-preview {\n  right: 0 !important;\n}\n#PureChatWidget.purechat.purechat-widget-collapsed {\n  border-radius: 5px !important;\n}\n#PureChatWidget.purechat.purechat-widget-collapsed .purechat-collapsed-image {\n  background-position: center center !important;\n  background-repeat: no-repeat !important;\n  background-size: contain !important;\n  left: 50% !important;\n  position: absolute !important;\n  transform: translateX(-50%) !important;\n}\n#PureChatWidget.purechat.purechat-widget-collapsed.purechat-top .purechat-collapsed-image {\n  bottom: 0 !important;\n}\n#PureChatWidget.purechat.purechat-widget-collapsed.purechat-top .purechat-badge {\n  bottom: -4px !important;\n  top: auto !important;\n}\n#PureChatWidget.purechat.purechat-widget-collapsed .purechat-message-preview.purechat-message-note {\n  margin-left: 0 !important;\n  margin-right: 0 !important;\n}\n#PureChatWidget.purechat.purechat-widget-collapsed.purechat-custom-button.purechat-style-classic {\n  display: none !important;\n}\n#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-bottom-right,\n#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-bottom-left {\n  bottom: -30px !important;\n}\n#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-top-right,\n#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-top-left {\n  top: -30px !important;\n}\n#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-style-classic.purechat-bottom-right,\n#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-style-classic.purechat-bottom-left {\n  bottom: -45px !important;\n}\n#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-style-classic.purechat-top-right,\n#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-style-classic.purechat-top-left {\n  top: -45px !important;\n}\n#PureChatWidget.purechat.purechat-widget-super-collapsed .purechat-btn,\n#PureChatWidget.purechat.purechat-widget-super-collapsed .purechat-widget-title-link {\n  visibility: hidden !important;\n}\n#PureChatWidget.purechat.purechat-widget-super-collapsed .purechat-collapsed-image {\n  display: none !important;\n}\n#PureChatWidget.purechat.purechat-widget-super-collapsed .purechat-btn-collapse {\n  border: none !important;\n  bottom: 25px !important;\n  box-shadow: none !important;\n  display: inline-block !important;\n  margin-left: 5px !important;\n  padding: 8px !important;\n  position: absolute !important;\n  right: 14px !important;\n  visibility: visible !important;\n}\n#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-top-left .purechat-btn-collapse,\n#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-bottom-left .purechat-btn-collapse {\n  left: 24px !important;\n  margin-left: 0 !important;\n  right: auto !important;\n}\n#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-top .purechat-btn-collapse {\n  bottom: -42px !important;\n}\n#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-top .purechat-badge {\n  bottom: -12px !important;\n  top: auto !important;\n}\n#PureChatWidget.purechat.purechat-widget-super-collapsed .purechat-start-chat .purechat-badge {\n  display: none !important;\n}\n#PureChatWidget.purechat.purechat-widget-expanded.purechat-top-left {\n  top: 30px !important;\n}\n#PureChatWidget.purechat.purechat-widget-expanded.purechat-top-right {\n  top: 30px !important;\n}\n#PureChatWidget.purechat.purechat-widget-expanded.purechat-state-inactive .purechat-message-list-view {\n  flex-basis: 100% !important;\n}\n#PureChatWidget.purechat.purechat-hosted-widget {\n  margin: 0 auto !important;\n  position: static !important;\n}\n#PureChatWidget.purechat.purechat-hosted-widget.purechat-style-mobile {\n  width: auto !important;\n}\n@media print {\n  #PureChatWidget.purechat,\n  #PureChatWidget.purechat * {\n    display: none !important;\n  }\n}\n#PureChatWidget.purechat.purechat-attached.purechat-widget-collapsed.purechat-bottom-left .purechat-content-wrapper,\n#PureChatWidget.purechat.purechat-attached.purechat-widget-super-collapsed.purechat-bottom-left .purechat-content-wrapper {\n  border-bottom-left-radius: 0 !important;\n  border-bottom-right-radius: 0 !important;\n}\n#PureChatWidget.purechat.purechat-attached.purechat-widget-collapsed.purechat-bottom-right .purechat-content-wrapper,\n#PureChatWidget.purechat.purechat-attached.purechat-widget-super-collapsed.purechat-bottom-right .purechat-content-wrapper {\n  border-bottom-left-radius: 0 !important;\n  border-bottom-right-radius: 0 !important;\n}\n#PureChatWidget.purechat.purechat-attached.purechat-widget-collapsed.purechat-bottom-left,\n#PureChatWidget.purechat.purechat-attached.purechat-widget-super-collapsed.purechat-bottom-left,\n#PureChatWidget.purechat.purechat-attached.purechat-widget-collapsed.purechat-bottom-right,\n#PureChatWidget.purechat.purechat-attached.purechat-widget-super-collapsed.purechat-bottom-right {\n  border-bottom-left-radius: 0 !important;\n  border-bottom-right-radius: 0 !important;\n}\n#PureChatWidget.purechat.purechat-attached.purechat-widget-collapsed.purechat-top-left,\n#PureChatWidget.purechat.purechat-attached.purechat-widget-super-collapsed.purechat-top-left,\n#PureChatWidget.purechat.purechat-attached.purechat-widget-collapsed.purechat-top-right,\n#PureChatWidget.purechat.purechat-attached.purechat-widget-super-collapsed.purechat-top-right {\n  border-top-left-radius: 0 !important;\n  border-top-right-radius: 0 !important;\n}\n#PureChatWidget.purechat.purechat-attached.purechat-widget-collapsed.purechat-top-left.purechat-style-classic,\n#PureChatWidget.purechat.purechat-attached.purechat-widget-super-collapsed.purechat-top-left.purechat-style-classic,\n#PureChatWidget.purechat.purechat-attached.purechat-widget-collapsed.purechat-top-right.purechat-style-classic,\n#PureChatWidget.purechat.purechat-attached.purechat-widget-super-collapsed.purechat-top-right.purechat-style-classic {\n  border-top: 0 !important;\n}\n#PureChatWidget.purechat.purechat-attached.purechat-widget-collapsed.purechat-bottom {\n  bottom: 0 !important;\n  border-bottom: 0 !important;\n}\n#PureChatWidget.purechat.purechat-attached.purechat-widget-collapsed.purechat-bottom .purechat-widget-header {\n  border-bottom-left-radius: 0 !important;\n  border-bottom-right-radius: 0 !important;\n}\n#PureChatWidget.purechat.purechat-attached.purechat-widget-collapsed.purechat-top {\n  top: 0 !important;\n  border-top: 0 !important;\n}\n#PureChatWidget.purechat.purechat-attached.purechat-widget-expanded.purechat-bottom {\n  bottom: 0 !important;\n  border-bottom-left-radius: 0 !important;\n  border-bottom-right-radius: 0 !important;\n}\n#PureChatWidget.purechat.purechat-attached.purechat-widget-expanded.purechat-bottom .purechat-content-wrapper,\n#PureChatWidget.purechat.purechat-attached.purechat-widget-expanded.purechat-bottom .purechat-widget-header,\n#PureChatWidget.purechat.purechat-attached.purechat-widget-expanded.purechat-bottom .purechat-footer {\n  border-bottom-left-radius: 0 !important;\n  border-bottom-right-radius: 0 !important;\n}\n#PureChatWidget.purechat.purechat-attached.purechat-bottom .purechat-message-preview {\n  bottom: 45px !important;\n  left: -10px !important;\n}\n#PureChatWidget.purechat.purechat-attached.purechat-top .purechat-message-preview {\n  top: 35px !important;\n}\n#PureChatWidget.purechat.purechat-image-only.purechat-top-left .purechat-message-preview,\n#PureChatWidget.purechat.purechat-image-only.purechat-top-right .purechat-message-preview {\n  top: 7px !important;\n}\n#PureChatWidget.purechat.purechat-image-only.purechat-widget-collapsed.purechat-bottom-right .purechat-collapsed-image,\n#PureChatWidget.purechat.purechat-image-only.purechat-widget-collapsed.purechat-top-right .purechat-collapsed-image {\n  left: auto !important;\n  right: -20px !important;\n  transform: none !important;\n}\n#PureChatWidget.purechat.purechat-image-only.purechat-widget-collapsed.purechat-bottom-left .purechat-collapsed-image,\n#PureChatWidget.purechat.purechat-image-only.purechat-widget-collapsed.purechat-top-left .purechat-collapsed-image {\n  left: 0 !important;\n  right: auto !important;\n  transform: none !important;\n}\n#PureChatWidget.purechat.purechat-image-only.purechat-widget-collapsed.purechat-style-classic {\n  border: none 0 !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget {\n  border-radius: 0 !important;\n  bottom: 0 !important;\n  display: flex !important;\n  flex-direction: column !important;\n  height: auto !important;\n  max-height: calc(100% - 24px) !important;\n  width: 100% !important;\n/* Super Collapsed and Collapsed\n\t   ========================================================================== */\n/* Collapsed\n\t   ========================================================================== */\n/* Super Collapsed\n\t   ========================================================================== */\n/* Expanded\n\t   ========================================================================== */\n}\n#PureChatWidget.purechat.purechat-popped-out-widget .purechat-message-display-container {\n  height: auto !important;\n  min-height: initial !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget .purechat-message-preview.purechat-message-note {\n  padding: 20px 18px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget .purechat-question-input {\n  overflow-x: hidden !important;\n  resize: none !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed {\n  border-radius: 8px !important;\n  width: auto !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-bottom,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed.purechat-bottom {\n  bottom: 10px !important;\n  left: 16px !important;\n  right: 16px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-bottom .purechat-collapsed-image,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed.purechat-bottom .purechat-collapsed-image {\n  bottom: 62px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-bottom .purechat-collapsed-image .purechat-missed-message-count,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed.purechat-bottom .purechat-collapsed-image .purechat-missed-message-count {\n  top: 6px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-bottom .purechat-message-preview,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed.purechat-bottom .purechat-message-preview {\n  bottom: 60px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-top,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed.purechat-top {\n  top: 10px !important;\n  left: 16px !important;\n  right: 16px !important;\n  bottom: auto !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-top .purechat-collapsed-image,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed.purechat-top .purechat-collapsed-image {\n  top: 62px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-top .purechat-collapsed-image .purechat-missed-message-count,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed.purechat-top .purechat-collapsed-image .purechat-missed-message-count {\n  bottom: 6px !important;\n  top: auto !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-top .purechat-message-preview,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed.purechat-top .purechat-message-preview {\n  top: 68px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-top-left .purechat-btn-collapse,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed.purechat-top-left .purechat-btn-collapse,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-bottom-left .purechat-btn-collapse,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed.purechat-bottom-left .purechat-btn-collapse {\n  left: 14px !important;\n  margin-left: 0 !important;\n  right: auto !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed .purechat-widget-header,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed .purechat-widget-header {\n  height: auto !important;\n  padding-left: 11px !important;\n  padding-right: 11px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed .purechat-widget-header .purechat-menu.purechat-btn-toolbar,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed .purechat-widget-header .purechat-menu.purechat-btn-toolbar {\n  min-height: 40px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed .purechat-widget-header .purechat-btn,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed .purechat-widget-header .purechat-btn {\n  padding: 7px 7px 6px 7px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed .purechat-widget-header .purechat-widget-title,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed .purechat-widget-header .purechat-widget-title {\n  margin-left: -8px !important;\n  margin-bottom: -8px !important;\n  margin-top: -8px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed .purechat-widget-header .purechat-widget-title-link,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed .purechat-widget-header .purechat-widget-title-link {\n  padding-bottom: 18px !important;\n  padding-left: 17px !important;\n  padding-top: 19px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed.purechat-top .purechat-badge {\n  bottom: -12px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-bottom {\n  bottom: -54px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-bottom .purechat-btn-collapse {\n  bottom: 46px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-top {\n  top: -54px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-top .purechat-btn-collapse {\n  top: 50px !important;\n  bottom: auto !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-invisible .purechat-btn-collapse {\n  display: none !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded {\n  left: 0 !important;\n  right: 0 !important;\n  top: auto !important;\n/* Take up entire window if in the chatting state */\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-style-classic {\n  box-sizing: border-box !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded .purechat-content-wrapper,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded .purechat-footer {\n  border-radius: 0 !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive {\n  bottom: 0 !important;\n  height: calc(100% - 24px) !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-expanded,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-expanded,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-collapsed-outer,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-collapsed-outer,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-widget-inner,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-widget-inner,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-widget-content-wrapper,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-widget-content-wrapper,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-window-content.purechat-content,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-window-content.purechat-content,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-message-list-view,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-message-list-view,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-messages,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-messages,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-message-display-container,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-message-display-container {\n  height: 100% !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-message-display-container,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-message-display-container,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-start-chat-formauto,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-start-chat-formauto,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-start-chat-formauto .purechat-widget-content.purechat-mobile,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-start-chat-formauto .purechat-widget-content.purechat-mobile {\n  display: flex !important;\n  flex-grow: 1 !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-start-chat-formauto .purechat-widget-content.purechat-mobile,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-start-chat-formauto .purechat-widget-content.purechat-mobile {\n  flex-direction: column !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-content-wrapper,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-content-wrapper {\n  height: calc(100% - 35px) !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-message-display-container,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-message-display-container {\n  min-height: auto !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded .purechat-window-content.purechat-content .purechat-widget-content {\n  width: 100% !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget .purechat-card {\n  overflow-y: auto !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image .purechat-message-display-container {\n  height: auto !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image .purechat-collapsed-image {\n  background-size: contain !important;\n  background-repeat: no-repeat !important;\n  background-position: center center !important;\n  display: block !important;\n  height: 75px !important;\n  position: absolute !important;\n  width: 75px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-super-collapsed.purechat-top-right .purechat-collapsed-image,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-collapsed.purechat-top-right .purechat-collapsed-image,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-super-collapsed.purechat-bottom-right .purechat-collapsed-image,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-collapsed.purechat-bottom-right .purechat-collapsed-image {\n  right: 8px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-super-collapsed.purechat-top-left .purechat-collapsed-image,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-collapsed.purechat-top-left .purechat-collapsed-image,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-super-collapsed.purechat-bottom-left .purechat-collapsed-image,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-collapsed.purechat-bottom-left .purechat-collapsed-image {\n  left: 8px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-super-collapsed.purechat-has-image .purechat-btn-collapse,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-collapsed.purechat-has-image .purechat-btn-collapse {\n  display: none !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-super-collapsed.purechat-top .purechat-badge,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-collapsed.purechat-top .purechat-badge {\n  bottom: -12px !important;\n  top: auto !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-collapsed.purechat-bottom {\n  bottom: 10px !important;\n  left: 10px !important;\n  right: 10px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-collapsed .purechat-collapsed-image {\n  display: none !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image .purechat-collapsed-image {\n  bottom: -2px !important;\n  height: 75px !important;\n  left: auto !important;\n  position: absolute !important;\n  transform: none !important;\n  right: 8px !important;\n  width: 75px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image .purechat-collapsed-image .purechat-missed-message-count {\n  top: 0 !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-top .purechat-collapsed-image {\n  bottom: auto !important;\n  top: -2px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-top-left .purechat-collapsed-image,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-bottom-left .purechat-collapsed-image {\n  left: 8px !important;\n  right: auto !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-bottom .purechat-message-preview {\n  bottom: -5px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-top .purechat-message-preview {\n  top: -5px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-super-collapsed.purechat-top .purechat-collapsed-image,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-collapsed.purechat-top .purechat-collapsed-image {\n  top: -2px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-super-collapsed.purechat-top .purechat-badge,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-collapsed.purechat-top .purechat-badge {\n  bottom: 8px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-super-collapsed.purechat-bottom .purechat-collapsed-image,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-collapsed.purechat-bottom .purechat-collapsed-image {\n  bottom: -2px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-super-collapsed .purechat-collapsed-image,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-collapsed .purechat-collapsed-image {\n  display: block !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-super-collapsed .purechat-start-chat .purechat-badge {\n  display: none !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-super-collapsed .purechat-widget-header .purechat-menu.purechat-btn-toolbar {\n  display: none !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-super-collapsed .purechat-widget-header .purechat-widget-title {\n  display: none !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-collapsed.purechat-bottom {\n  bottom: 10px !important;\n  left: 10px !important;\n  right: 10px !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-expanded {\n  left: 0 !important;\n  right: 0 !important;\n  top: auto !important;\n}\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-expanded .purechat-content-wrapper,\n#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-expanded .purechat-footer {\n  border-radius: 0 !important;\n}\n#PureChatWidget.purechat.purechat-button-available,\n#PureChatWidget.purechat.purechat-button-unavailable {\n  padding: 0 !important;\n}\n#PureChatWidget.purechat img.emoji {\n  display: inline-block !important;\n  height: 1em !important;\n  margin: 0 0.05em 0 0.1em !important;\n  vertical-align: -0.1em !important;\n  width: 1em !important;\n}\n#PureChatWidget.purechat .purechat-emoji-button img.emoji {\n  height: 18px !important;\n  width: 18px !important;\n}\n#PureChatWidget.purechat .purechat-message .twitter-tweet {\n  display: none !important;\n}\n#PureChatWidget.purechat .purechat-message .twitter-tweet.twitter-tweet-rendered {\n  display: block !important;\n}\n#PureChatWidget.purechat .purechat-message .twitter-tweet.twitter-tweet-rendered + script + .purechat-loading {\n  display: none !important;\n}\n[dir="rtl"] #PureChatWidget.purechat .purechat-widget-header .purechat-btn {\n  margin-left: 0px !important;\n  margin-right: 9px !important;\n}\n[dir="rtl"] #PureChatWidget.purechat .purechat-collapsed .purechat-widget-header .purechat-btn {\n  margin-right: 5px !important;\n}\n[dir="rtl"] #PureChatWidget.purechat .purechat-widget-title-link {\n  padding-left: 0px !important;\n  padding-right: 7px !important;\n}\n[dir="rtl"] #PureChatWidget.purechat .purechat-poweredby {\n  text-align: left !important;\n}\n[dir="rtl"] #PureChatWidget.purechat .purechat-unfurl-favicon {\n  max-width: 100% !important;\n  margin-left: 6px !important;\n  margin-right: 0 !important;\n}\n[dir="rtl"] #PureChatWidget.purechat .purechat-unfurl-link .purechat-unfurl-link-container {\n  text-align: left !important;\n}\n[dir="rtl"] #PureChatWidget.purechat .purechat-unfurl-link .purechat-unfurl-media {\n  margin-left: 10px !important;\n  margin-right: 0 !important;\n}\n',""])},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot).concat(t," */")}));return[n].concat(o).concat([i]).join("\n")}var a,s,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(n,"}"):n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(var a=0;a<t.length;a++){var s=t[a];null!=s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="(".concat(s[2],") and (").concat(n,")")),e.push(s))}},e}},function(t,e,n){"use strict";var r,i={},o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}();function s(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function c(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=i[r.id],a=0;if(o){for(o.refs++;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(f(r.parts[a],e))}else{for(var s=[];a<r.parts.length;a++)s.push(f(r.parts[a],e));i[r.id]={id:r.id,refs:1,parts:s}}}}function l(t){var e=document.createElement("style");if(void 0===t.attributes.nonce){var r=n.nc;r&&(t.attributes.nonce=r)}if(Object.keys(t.attributes).forEach((function(n){e.setAttribute(n,t.attributes[n])})),"function"==typeof t.insert)t.insert(e);else{var i=a(t.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}return e}var u,p=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function h(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=p(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function d(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i&&t.setAttribute("media",i),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var g=null,m=0;function f(t,e){var n,r,i;if(e.singleton){var o=m++;n=g||(g=l(e)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=l(e),r=d.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o());var n=s(t,e);return c(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var a=n[o],l=i[a.id];l&&(l.refs--,r.push(l))}t&&c(s(t,e),e);for(var u=0;u<r.length;u++){var p=r[u];if(0===p.refs){for(var h=0;h<p.parts.length;h++)p.parts[h]();delete i[p.id]}}}}},function(t,e,n){"use strict";n.r(e);var r=n(6),i=n.n(r),o=n(43),a=n.n(o),s=n(75),c=n.n(s),l=(n(251),n(50)),u=n.n(l),p=n(0),h=n.n(p),d=["purechat-display-inline-block","purechat-display-flex","purechat-display-block","purechat-display-none"];h.a.fn.purechatDisplay=function(t){return this.each((function(e,n){if(n&&(d.forEach((function(t){!function(t,e){if(t.classList&&"svg"!==t.tagName.toLowerCase())t.classList.remove(e);else{var n=(t.getAttribute("class")||"").split(" "),r=n.indexOf(e);r>-1&&(n.splice(r,1),t.setAttribute("class",n.join(" ")))}}(n,t)})),t)){var r="purechat-display-".concat(t);-1!==d.indexOf(r)&&function(t,e){if(t.classList&&"svg"!==t.tagName.toLowerCase())t.classList.add(e);else{var n=(t.getAttribute("class")||"").split(" ");if(n.indexOf(e)>-1)return;n.push(e),t.setAttribute("class",n.join(" "))}}(n,r)}}))},h.a.fn.xshow=function(){this.purechatDisplay.call(this)},h.a.fn.xhide=function(){this.purechatDisplay.call(this,"none")};var g=["animationIterationCount","columnCount","fillOpacity","flexGrow","flexShrink","fontWeight","lineHeight","opacity","order","orphans","widows","zIndex","zoom"],m=h.a.fn.css,f=h.a.fn.height,y=h.a.fn.width;function b(t){return"number"==typeof t&&-1===g.indexOf(t)?"".concat(t,"px"):t}function v(t){return t.replace(/([A-Z])/g,(function(t){return"-".concat(t[0].toLowerCase())}))}h.a.fn.purechatCss=function(t,e){if(1===arguments.length&&"string"==typeof t)return m.apply(this,arguments);var n=this.get(0);if(!n)return this;var r=b(e);if("string"==typeof t)n.style.setProperty(t,r,"important");else if(h.a.isPlainObject(t)){var i=t;Object.keys(i).forEach((function(t){r=["z-index","zIndex"].indexOf(t)<0?b(i[t]):i[t];var e=v(t),o=new RegExp("".concat(escape(e),"\\s*:\\s*").concat(escape(r),"(\\s*;)?"),"gmi"),a="".concat(e,":").concat(r," !important;");n.style.cssText=n.style.cssText.replace(o,""),n.style.cssText+=a}))}return this},h.a.fn.purechatHeight=function(t){return 0===arguments.length||"boolean"==typeof t?f.apply(this,arguments):this.purechatCss("height",t)},h.a.fn.purechatWidth=function(t){return 0===arguments.length||"boolean"==typeof t?y.apply(this,arguments):this.purechatCss("width",t)},h.a.fn.xcss=h.a.fn.purechatCss,h.a.fn.height=h.a.fn.purechatHeight,h.a.fn.width=h.a.fn.purechatWidth;var w=window.location.hostname,_=/purechat\.(com|me)$/.test(w)&&w.indexOf("test.purechat.com")<0,C=(_?window.pc$||window.$:window.pc$,_?i.a:i.a.noConflict()),I=_?a.a:a.a.noConflict(),x=_?c.a:c.a.noConflict();window.JSON3.noConflict();var k=n(112),j=n.n(k),S=.5,A=90,T=90,O=window.CSS&&window.CSS.supports&&window.CSS.supports("(--foo: red)");function P(t,e,n){var r=C.isNumber(e)?e:A,i=C.isNumber(n)?n:T;return t.isDark()?t.lighten(r).desaturate(i):t.darken(r).desaturate(i)}function R(t,e,n){var r=C.isNumber(e)?e:A,i=C.isNumber(n)?n:T;return t.getLuminance()<S?t.lighten(r).desaturate(i):t.darken(r).desaturate(i)}function M(t,e,n){var r=new j.a(0===e.indexOf("#")?e:"#".concat(e)),i={"--purechat-p-bg":r.clone().toString(),"--purechat-p-bg-d":r.clone().darken(5).toString(),"--purechat-p-bg-l":r.clone().lighten(5).toString(),"--purechat-p-fg":R(r.clone()).toString(),"--purechat-p-fg-l":P(r.clone()).lighten(5).toString()};n?(i["--purechat-s-bg"]="#f8f7f5",i["--purechat-s-bg-d"]="#e8e5df",i["--purechat-s-bg-l"]="#ffffff",i["--purechat-s-fg"]="#676a6d",i["--purechat-s-fg-l"]="#3b404c",i["--purechat-s-fg-d"]="#3b404c",i["--purechat-a-d"]="#c11e1f",i["--purechat-a-d-bg"]="#c11e1f",i["--purechat-a-d-fg"]="#ffffff",i["--purechat-btn-bg"]=r.clone().toString(),i["--purechat-btn-fg"]=R(r.clone()).toString(),i["--purechat-btn-b"]="rgba(255,255,255,0.5)",i["--purechat-btn-b-h"]="rgba(255, 255, 255, 1)"):(i["--purechat-s-bg"]=r.clone().toString(),i["--purechat-s-bg-d"]=r.clone().darken(5).toString(),i["--purechat-s-bg-l"]=r.clone().lighten(5).toString(),i["--purechat-s-fg"]=R(r.clone()).toString(),i["--purechat-s-fg-l"]=P(r.clone()).lighten(5).toString(),i["--purechat-s-fg-d"]=R(r.clone()).toString(),i["--purechat-a-d"]=R(r.clone()).toString(),i["--purechat-btn-bg"]=r.clone().darken(5).toString(),i["--purechat-btn-fg"]=R(r.clone()).toString(),i["--purechat-btn-b"]="transparent",i["--purechat-btn-b-h"]="transparent"),O?function(t,e){var n="".concat(t,"_vars"),r=document.getElementById(n);r||((r=document.createElement("style")).id=n,document.head.appendChild(r));var i=Object.keys(e).reduce((function(t,n){return"".concat(t," ").concat(n,": ").concat(e[n],";")}),"");r.innerHTML=":root { ".concat(i," }")}(t,i):function(t,e){var n=document.getElementById(t),r="".concat(t,"_orig"),i=document.getElementById(r);i||((i=document.createElement("template")).id=r,i.innerHTML=n.innerHTML,i.style.display="none",document.head.appendChild(i));var o=Object.keys(e).reduce((function(t,n){var r=new RegExp("var\\(\\s*?".concat(n,"(\\)|,([\\s\\,\\w]*\\)))"),"g");return t.replace(r,e[n])}),i.innerHTML);n.innerHTML=o}(t,i)}var W=n(76),E=n.n(W),N=/(<br>|<br\/>)/gi,D=new E.a.matcher.Url({stripPrefix:!0,stripTrailingSlash:!0,tagBuilder:{},decodePercentEncoding:!0}),U={};U.linkify=function(t){return t?(t=(t=t.replace(/&amp;/gm,"&")).replace(N," <br/> "),E.a.link(t,{stripPrefix:!1,className:"purechat-message-link"})):null},U.getLinks=function(t){var e=t.split(" ").filter((function(t){return t.indexOf("@")<0})).join(" ");return D.parseMatches(e).map((function(t){return t.url}))},U.formatWhitespace=function(t){return t.replace(/\n|\r/gm," <br/> ").replace(/\t/gm," &nbsp; &nbsp; ").replace(/\s\s/g," &nbsp;")},U.GaEvent=function(t,e,n){var r=!1,i=function(){if(window._gaq||window.ga){if(window.ga)try{window.ga("create",t.get("GoogId"),"auto","pcTracker"),window.ga("pcTracker.send","event",t.get("GAEventCategory"),t.get(n))}catch(t){r=!0,console.log("Unable to push event to Google via _gaq")}if(window.ga&&r&&window._gaq||!r&&window._gaq)try{window._gaq.push(["_setAccount",t.get("GoogId")]),window._gaq.push(["_trackEvent",t.get("GAEventCategory"),t.get(n)])}catch(t){console.log("Unable to push event to Google via _gaq")}}};t.get("UsingGa")&&t.get(e)&&t.get(n)&&(window._gaq||window.ga||this.isOperator?this.isOperator||i():function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var e=!1;t.onreadystatechange=t.onload=function(){e||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(window._gaq=window._gaq||[],i(),e=!0)},document.getElementsByTagName("head").item(0).appendChild(t)}())},U.Notifier=function(){this.isTitleModified=!1,this.windowNotifyTimeout=null,this.timeoutId=null,this.active=!1,this.mobileActive=!1,this.mobileAnimationInterval=null},U.Notifier.prototype.notify=function(t,e,n){var r=this;if(r.mouseStopElement=n,!r.active){var i;r.active=!0;var o=document.title;e&&(i=e.text());r.timeoutId=setTimeout((function n(){if(0==r.active)return document.title=o,e&&e.text(i),void(r.isTitleModified=!1);1==r.isTitleModified?(r.isTitleModified=!1,document.title=o,e&&e.text(i)):(r.isTitleModified=!0,document.title=t,e&&e.text(t)),r.timeoutId=setTimeout(n,900)}),900),r.mouseStopElement?r.mouseStopElement.on("mousemove.notifier",(function(){r.stop()})):h()(document).on("mousemove.notifier",(function(){r.stop()}))}},U.Notifier.prototype.stop=function(){this.active=!1,this.mouseStopElement?this.mouseStopElement.off("mousemove.notifier"):h()(document).off("mousemove.notifier")},U.stripDangerousTags=function(t){return t.replace(/<script>.+<\/script>/gim,"")},U.stripOpenCloseTage=function(t){return t.replace(/<.+?>/gim,"")},U.escapeHtml=function(t,e){var n=h()("<div/>").text(t||"").html().replace(/&amp;/gi,"&");return e?n.replace(/"/g,""):n},U.iconRootUrl=function(t){var e=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/);return t||function(){try{return window.self!==window.top}catch(t){return!0}}()||!window.location.search||!e?"":"".concat(window.location.origin).concat(window.location.pathname).concat(window.location.search)},U.svgHrefAttr=function(){var t=navigator.userAgent||navigator.vendor||window.opera,e=/Version\/[\d\.]+.*Safari/.test(t)||t.indexOf("CriOS/")>-1,n=t.indexOf("FBAN")>-1||t.indexOf("FBAV")>-1,r=t.indexOf("Mozilla")>-1&&t.indexOf("Gecko")>-1&&t.indexOf("Mobile")>-1;return e||n||r?"xlink:href":"href"},U.prettyDate=function(t){var e=((new Date).getTime()-t.getTime())/1e3,n=Math.floor(e/86400),r=Math.floor(n/31),i=Math.floor(r/12);return isNaN(n)||n<0?"Just now":0===n&&((e<60?"Just now":e<120&&"1 minute ago")||e<3600&&Math.floor(e/60)+" minutes ago"||e<7200&&"1 hour ago"||e<86400&&Math.floor(e/3600)+" hours ago")||1===n&&"Yesterday"||n<7&&n+" days ago"||n<31&&Math.ceil(n/7)+" weeks ago"||1===r&&"Last month"||r<12&&r+" months ago"||1===i&&"Last year"||i+" years ago"},U.getCookie=function(t){var e=document.cookie,n=e.indexOf(" "+t+"=");if(-1==n&&(n=e.indexOf(t+"=")),-1==n)e=null;else{n=e.indexOf("=",n)+1;var r=e.indexOf(";",n);-1==r&&(r=e.length),e=unescape(e.substring(n,r))}return e},U.toHourMinuteString=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.getHours(),r=t.getMinutes(),i=t.getSeconds();return(0==n?12:n>12?n-12:n)+":"+(r<10?"0"+r:r)+(e?":"+(i<10?"0"+i:i):"")+(n>=12?" PM":" AM")};var B=U;B.setCssVars=M;var Z=B;try{localStorage.setItem("_purechatLocalStorageAccess",!0)}catch(t){throw new Error("Local storage access is not allowed. This is a problem with some browsers running private windows.")}I.View.prototype.getResource=function(t,e){return x.getOption(this,"rm").getResource(t,C.defaults(e||{},{chatUserNames:""}))},x.View.prototype.mixinTemplateHelpers=function(t){var e=this.templateHelpers||{};return t=t||{},C.isFunction(e)&&(e=e.call(this)),t.getResource=C.bind(I.View.prototype.getResource,this),C.extend(t,e,{Utils:Z})};var H=new x.Application;I.Relational.showWarnings=!1,H.events=C.extend({},I.Events);var V=H,z=n(3),L=n.n(z),F=n(17),Y=n(4),G=null,X=function(t){return G=t},J=function(){return G},q=n(11);function $(t){return Object.keys(t).map((function(e){return[e,void 0===t[e]||null===t[e]?"":t[e]].join("=")})).join("&")}var Q=I.Model.extend({defaults:{chatClosed:!1},initialize:function(){var t=this;this.listenTo(this,"change:userId, change:authToken, change:chatClosed",(function(){t.trigger("change:isInChat",t,t.isInChat())}))},persistedKeys:["authToken","chatActiveInOtherWindow","chatClosed","chatId","chatServerUrl","chatServerVersion","disabled","expandSource","hasHadChat","hasHadEmail","lastActivity","roomId","roomType","userId","visitorName"],persistLocalStorage:function(){var t=this;return C.each(this.persistedKeys,(function(e){void 0!==t.get(e)&&window.localStorage.setItem("purechat_".concat(e),t.get(e))})),this},restart:function(){this.set("chatClosed",!0),this.set("lastActivity",null),this.set("authToken",null),this.set("roomId",null),this.set("chatId",null),this.set("chatClosed",null),this.persistLocalStorage()},clearLocalStorage:function(){return this.persistedKeys.forEach((function(t){window.localStorage.removeItem("purechat_".concat(t))})),this.clear(),this},loadFromLocalStorage:function(){var t=this;return this.persistedKeys.forEach((function(e){t.set(e,window.localStorage.getItem("purechat_".concat(e)))})),this},couldHaveContactRecord:function(){return Boolean(this.get("chatId"))||Boolean(this.get("hasHadChat"))||Boolean(this.get("hasHadEmail"))},isInChat:function(){return this.get("userId")&&this.get("authToken")&&(C.isUndefined(this.get("chatClosed"))||"false"===this.get("chatClosed")||!this.get("chatClosed"))},loadChatServerUrl:function(){this.get("chatServerUrl")||this.set("chatServerUrl",localStorage.purechat_chatServerUrl),localStorage.purechat_chatServerUrl=this.get("chatServerUrl")},updateLastActivity:function(){var t=(new Date).getTime();this.set("lastActivity",t),window.localStorage.setItem("purechat_lastActivity",t)},isChatPastGracePeriod:function(){return!!this.get("lastActivity")&&(new Date).getTime()-parseInt(this.get("lastActivity"),10)>72e5}});function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var tt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.sentChatRequest=!1,this.connectionInfo=new Q({},this.options),this.options.connectionInfo&&this.connectionInfo.set(this.options.connectionInfo);var n=this.getWidgetSettings.bind(this);this.getWidgetSettings=function(){var t=h.a.Deferred();return n.apply(void 0,arguments).done((function(e){e.widgetConfig&&e.widgetConfig.AllowWidgetOnMobile&&e.widgetConfig.RequestFromMobileDevice&&(window.localStorage.expanded=!1),t.resolve(e)})),t.promise()}}var e,n,r;return e=t,(n=[{key:"getPreviousChat",value:function(){var t=h.a.Deferred();return t.resolve([]),t.promise()}},{key:"getContactInfo",value:function(){var t=h.a.Deferred(),e=this.getContactId(),n=this.getOption("widgetId"),r=this.connectionInfo.couldHaveContactRecord();return e&&n&&r?h.a.get("".concat(this.getOption("apiServerUrl"),"/api/contact/widget/").concat(n,"/").concat(e)).done((function(e){return t.resolve(e)})).fail((function(){return console.log("Error obtaining contact details")})):setTimeout((function(){return t.resolve()}),0),t}},{key:"unbindHandlerEvents",value:function(){}},{key:"loadWidgetSettings",value:function(){var t=this,e=h.a.Deferred();return this.getWidgetSettings().done((function(n){t.widgetSettings=n,e.resolve()})).fail((function(){return e.reject()})),e}},{key:"getOption",value:function(t){return this.options[t]}}])&&K(e.prototype,n),r&&K(e,r),t}(),et=n(113);function nt(t){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var rt=[].slice,it=/\s+/;function ot(t,e){var n,r=-1,i=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e)}}function at(t,e,n,r){if(!n)return!0;if("object"===nt(n)){for(var i in n)t[e].apply(t,[i,n[i]].concat(r));return!1}if(it.test(n)){for(var o=n.split(it),a=0,s=o.length;a<s;a++)t[e].apply(t,[o[a]].concat(r));return!1}return!0}var st={message:function(t){var e=t.userDisplayName.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n=t.roomDisplayName.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),r=(t.message||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.trigger("message",{id:t.id,userId:t.userId,userDisplayName:e,roomId:t.roomId,roomDisplayName:n,time:t.time,message:r.length>0?r:null,isHistory:t.isHistory,timeElpased:t.timeElapsed,protocolVersion:t.protocolVersion,avatarUrl:t.avatarUrl,fromOperator:t.fromOperator,roomUtcOffset:t.roomUtcOffset,type:t.type,status:t.status})},messageDeleted:function(t){this.trigger("messageDeleted",t)},joined:function(t){var e=t.userDisplayName.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n=t.roomDisplayName.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.trigger("joined",t.userId,e,t.roomId,n,t.time,t.isHistory)},left:function(t){var e=t.userDisplayName.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n=t.roomDisplayName.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.trigger("left",t.userId,e,t.roomId,n,t.time,t.isHistory)},roomdestroyed:function(t){var e=t.roomDisplayName.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.trigger("roomdestroyed",t.roomId,e,t.time,t.reasonCode)},userDestroyed:function(t){this.trigger("userDestroyed",t.userId)},typing:function(t){var e=t.userDisplayName.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.trigger("typing",t.userId,e,t.roomId,t.roomDisplayName,t.isTyping,t.time)},roomchanged:function(t){t&&"closedroom"===t.action&&window.PureChatEvents&&window.PureChatEvents.trigger("roomclosed",t.room.id),this.trigger("roomchanged",t)},default:function(t,e){this.trigger(t,e)}},ct=function(t,e,n,r,i,o,a,s,c,l){var p=this;this.wasForced=!1,this.currentUserId=e,this.currentDomainId=n,this.currentAuthToken=r,this.poppedOut=s,this.emailMD5Hash=c,this.connectionAttempts=0,u.a.transports=["websocket"],this.socket=u.a.connect("".concat(t,"/client"),{reconnectionAttempts:l||1/0}),this.messageQueue=[],this.eventFncMappings={},this.chatServerEvents=["message","messageDeleted","joined","left","roomdestroyed","userDestroyed","typing","reidentify","userdeleted","opInvite","roomchanged","roomclosed","rooms","onlineOperatorStatus","opStatus","serverNotice","roomdetailschanged","userSettings:change","canned-responses:changed","canned-responses:added","canned-responses:deleted","userOnboarding:change","operator:refresh","noOperatorJoined","contact:changed","affiliate:reviewed","clientEvent"],this.chatServerEvents.forEach((function(t){p.eventFncMappings[t]=function(e){st[t]?st[t].call(p,e):st.default.call(p,t,e)},p.socket.on(t,p.eventFncMappings[t])})),this.socket.on("connect",(function(){p.wasForced=!1,p.reconnectCount=0,p.identify(p.currentUserId,p.currentDomainId,p.currentAuthToken,i,p.poppedOut,p.emailMD5Hash),p.trigger("connection:connected:socketio")})),this.socket.on("disconnect",(function(t){console.log("SOCKET.IO -- DISCONNECT EVENT: ".concat(t)),p.wasForced||p.trigger("connection:disconnected:socketio"),"transport close"!==t&&p.trigger("socketDisconnect",{reason:t})})),this.socket.on("error",(function(t){console.log("SOCKET.IO -- ERROR EVENT: ".concat(t))})),this.on("connection:retry:socketio",(function(){return p.socket.connected?p.trigger("connection:connected:socketio"):p.socket.connect()})),o&&this.socket.on("error",o)};ct.prototype.disconnect=function(){this.wasForced=!0,this.socket.disconnect(),this.socket.removeAllListeners()},ct.prototype.identify=function(t,e,n,r,i,o){this.currentUserId=t,this.currentDomainId=e,this.currentAuthToken=n,this.deviceType=q.b.Desktop,this.poppedOut=i,this.protocolVersion="2.0",this.emailMD5Hash=o,this.socket.emit("identify",{userId:this.currentUserId,domainId:this.currentDomainId,authToken:this.currentAuthToken,deviceType:this.deviceType,deviceVersion:ct.deviceVersion,poppedOut:this.poppedOut,protocolVersion:this.protocolVersion,emailMD5Hash:this.emailMD5Hash},(function(){r.apply(this,arguments)}))},ct.prototype.sendmessage=function(t,e,n){this.socket.emit("sendmessage",{message:t,roomId:e,type:q.a.Message})},ct.prototype.deleteMessage=function(t){if(!t.messageId)throw new TypeError("messageId is required");if(!t.roomId)throw new TypeError("roomId is required");this.socket.emit("deletemessage",t)},ct.prototype.upload=function(t,e){if(!i.a.has(t,"roomId"))throw new TypeError("roomId is required");if(!i.a.has(t,"status"))throw new TypeError("status is required");this.socket.emit("upload",t,e)},ct.prototype.sendtyping=function(t,e,n,r){this.socket.emit("sendtyping",{roomId:t,isTyping:n},r)},ct.prototype.destroyself=function(t,e,n,r){this.socket.emit("destroyself",r||{},n)},ct.prototype.join=function(t,e){var n=t.roomId,r=t.invisible,i=t.joinType;this.socket.emit("join",{roomId:n,invisible:r,joinType:i},e)},ct.prototype.leave=function(t,e,n){this.socket.emit("leave",{roomId:t},n)},ct.prototype.closeroom=function(t,e,n){this.socket.emit("closeroom",{roomId:t},n)},ct.prototype.createoperatorroom=function(t,e,n,r,i){this.socket.emit("createoperatorroom",{roomName:t,otherUserIds:e},n,r,i)},ct.prototype.sendcurrentstate=function(t){this.socket.emit("sendcurrentstate",{},t)},ct.prototype.getuser=function(t){this.socket.emit("getuser",t)},ct.prototype.getusers=function(t){this.socket.emit("getusers",t)},ct.prototype.sendroomhistory=function(t,e,n){this.socket.emit("sendroomhistory",{roomId:t},n)},ct.prototype.setavailable=function(t,e,n,r){this.socket.emit("setavailable",{userId:t,connectionId:e,available:n},r)},ct.prototype.setWidgetTypeAvailable=function(t,e,n,r){this.socket.emit("setwidgettypeavailable",{userId:t,widgetType:e,available:n},r)},ct.prototype.forcedisconnect=function(t,e,n){this.socket.emit("forcedisconnect",{userId:t,connectionId:e},n)},ct.prototype.startdemo=function(t,e){this.socket.emit("startdemo",{widgetId:t},e)},ct.prototype.sendInvite=function(t,e,n,r,i){this.socket.emit("opInvite",{userId:t,roomId:e,roomName:n,fromName:r},i)},ct.prototype.setVisitorDetails=function(t,e,n,r){this.socket.emit("setvisitordetails",{roomId:t,details:n},r)},ct.deviceVersion=1,ct.prototype.on=function(t,e,n){return at(this,"on",t,[e,n])&&e?(this._events=this._events||{},(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||this}),this):this},ct.prototype.once=function(t,e,n){var r=arguments,o=this;if(!at(this,"once",t,[e,n])||!e)return this;var a=i.a.once((function(){o.off(t,a),e.apply(o,r)}));return a._callback=e,this.on(t,a,n)},ct.prototype.off=function(t,e,n){var r,o,a;if(!this._events||!at(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events=void 0,this;var s,c,l=t?[t]:i.a.keys(this._events);for(s=0,c=l.length;s<c;s++)if(t=l[s],a=this._events[t]){if(this._events[t]=r=[],e||n){var u,p=void 0;for(p=0,u=a.length;p<u;p++)o=a[p],(e&&e!==o.callback&&e!==o.callback._callback||n&&n!==o.context)&&r.push(o)}r.length||delete this._events[t]}return this},ct.prototype.trigger=function(t){if(!this._events)return this;var e=rt.call(arguments,1);if(!at(this,"trigger",t,e))return this;var n=this._events[t],r=this._events.all;return n&&ot(n,e),r&&ot(r,arguments),this},ct.prototype.stopListening=function(t,e,n){var r=this._listeningTo;if(!r)return this;var o=!e&&!n;for(var a in n||"object"!==nt(e)||(n=this),t&&((r={})[t._listenId]=t),r)(t=r[a]).off(e,n,this),(o||i.a.isEmpty(t._events))&&delete this._listeningTo[a];return this};var lt=ct;function ut(t,e,n){return(ut=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&pt(i,n.prototype),i}).apply(null,arguments)}function pt(t,e){return(pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ht=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return ut(t&&"1.0"!==t?et.a:lt,n)},dt={WidgetType:{Tab:1,Button:2,Image:3,ImageTab:4},BasicWidgetType:1,WidgetStates:{Initializing:"PCStateInitializing",Inactive:"PCStateInactive",Activating:"PCStateActivating",Chatting:"PCStateChatting",Closed:"PCStateClosed",Unavailable:"PCStateUnavailable",Unsupported:"PCStateUnsupported",EmailForm:"PCStateEmailForm"},Features:{VisitorTracking:1},FeatureStatus:{Disabled:0,Enabled:1,Off:-1},MobileDisplayTypes:{Hidden:0,SameAsDesktop:1,MobileOptimized:2},EmailButtonBehaviors:{ShowEmailForm:0,ShowEmailAddress:1},UnavailableBehaviors:{HideWidget:0,ShowMessage:1,ShowEmail:2},WidgetPosition:{BottomLeft:1,BottomRight:2,TopLeft:3,TopRight:4},BackgroundTypes:{Custom:1,Stock:2,color:3},StyleTypes:{Minimal:0,Classic:1,Mobile:2},StyleTypesMappings:["purechat-style-minimal","purechat-style-classic","purechat-style-mobile","purechat-style-mobile"],KeyCodes:{Enter:13,Escape:27,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Tab:9},UploadStatuses:{Start:0,Uploading:1,Unauthorized:2,Error:3,Complete:4},UploadErrorMessages:{default:"File Send Failed",401:"You are not authorized to upload.",413:"This file is too large. 10MB Limit.",415:"This file type is not supported."},MessageTypes:{Message:0,Join:1,Leave:2,Close:3,File:4,Separator:1e3,Note:1001,UnfurlLink:2e3,UnfurlFile:2001,UnfurlImage:2002,UnfurlGiphy:2003,UnfurlTwitter:2004,UnfurlYoutube:2005},ClosedReasonCodes:{ClosedByUser:0,ConnectionTimeout:1,Inactivity:2,ClosedByOperator:3,NoOperatorJoined:4},MessageSortOrders:{Message:0,Closed:1},HubspotCookieName:"hubspotutk",MarkdownFields:["closed_message","emailForm_message","error_noOperators","label_initial","emailForm_success_message"],RoomType:{Account:0,Operator:1,Visitor:2}},gt=dt;function mt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ft=I.RelationalModel.extend({sortOrder:gt.MessageSortOrders.Message,events:{"change:messageResource":function(){}},getTypeString:function(){switch(this.get("type")){case gt.MessageTypes.UnfurlLink:return"unfurl-link";case gt.MessageTypes.UnfurlImage:return"unfurl-image";case gt.MessageTypes.UnfurlGiphy:return"unfurl-giphy";case gt.MessageTypes.UnfurlYoutube:return"unfurl-youtube";case gt.MessageTypes.UnfurlTwitter:return"unfurl-twitter";case gt.MessageTypes.File:return"file";case gt.MessageTypes.Closed:return"closed";case gt.MessageTypes.Note:return"note";case gt.MessageTypes.Separator:return"separator";case gt.MessageTypes.Message:default:return"message"}},parseMessage:function(){var t=this.get("message");if(!t)return{};var e=t.match(/(.*)\((http.*)\)\s(.*)\s•\s(.*)/);if(!e)return{};var n=mt(e||[],5);return{name:n[1],url:n[2],size:n[3],mimeType:n[4]}}});function yt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vt=ft.extend({url:"".concat(L.a.filesRootUrl,"/api/files"),defaults:{type:gt.MessageTypes.File,file:null,myMessage:null,isClosedChat:null},save:function(t,e){var n=this,r=this.get("file");return h.a.ajax(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yt(Object(n),!0).forEach((function(e){bt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({type:"POST",url:this.url,data:JSON.stringify({fileName:encodeURI(r.name),byteCount:r.size,accountId:0,context:this.get("context"),fileType:this.get("fileType"),contentType:r.type}),contentType:"application/json",crossDomain:!0,xhrFields:{withCredentials:!0}},this.get("isOperator")?{}:{headers:{authToken:this.get("authToken")}},{error:function(t){return n.setErrorStatus(t,e)},success:function(i){n.set({fileUsageId:i.fileUsageId,fileUrl:i.uploadUrl,downloadUrl:i.downloadUrl}),h.a.ajax({type:"PUT",url:n.get("fileUrl"),data:n.get("file"),processData:!1,contentType:r.type,xhrFields:{withCredentials:!1},success:function(){return t()},error:function(t){return n.setErrorStatus(t,e)}})}}))},finalize:function(){var t=this;return h.a.ajax({type:"POST",url:"".concat(this.url,"/finalize/").concat(this.get("fileUsageId")),data:JSON.stringify({context:{chatRecordId:this.get("serverId")}}),contentType:"application/json",crossDomain:!0,xhrFields:{withCredentials:!0}}).then((function(){return t.set("status",gt.UploadStatuses.Complete)})).fail((function(e){return t.setErrorStatus(e)}))},updateContext:function(){return h.a.ajax({type:"POST",url:"".concat(this.url,"/context/").concat(this.get("fileUsageId")),data:JSON.stringify({context:{chatRecordId:this.get("serverId")}}),contentType:"application/json",crossDomain:!0,xhrFields:{withCredentials:!0}})},setErrorStatus:function(t,e){var n=this;return J().getWidgetSettings().then((function(r){n.set({message:r.resources.error_fileTransfer||gt.UploadErrorMessages[t.status]||gt.UploadErrorMessages.default,status:401===t.status?gt.UploadStatuses.Unauthorized:gt.UploadStatuses.Error}),e&&e()}))},getSize:function(){var t=this.get("file").size;return t<=1024?"1KB":t<1048576?"".concat(Math.floor(t/1024),"KB"):"".concat(Math.floor(t/1048576),"MB")}});function wt(t){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(n),!0).forEach((function(e){At(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function It(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kt(t,e,n){return(kt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jt(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function jt(t){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function St(t,e){return(St=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function At(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Tt=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=function(t,e){return!e||"object"!==wt(e)&&"function"!=typeof e?xt(t):e}(this,(t=jt(e)).call.apply(t,[this].concat(i))),At(xt(n),"retryInterval",null),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&St(t,e)}(e,t),n=e,(r=[{key:"timeStampUrl",value:function(t){var e=(new Date).getTime();return t.indexOf("?")>-1?"".concat(t,"&t=").concat(e):"".concat(t,"?t=").concat(e)}},{key:"closeChat",value:function(t){return this.chatServerConnection.destroyself(this.connectionInfo.get("roomId"),this.connectionInfo.get("roomType"),t),h.a.Deferred().resolve()}},{key:"leaveChat",value:function(){return this.chatServerConnection.leave(this.connectionInfo.get("roomId"),this.connectionInfo.get("roomType")),h.a.Deferred().resolve()}},{key:"restartChat",value:function(){return this.connectionInfo.restart(),h.a.Deferred().resolve()}},{key:"newMessage",value:function(t){""!==h.a.trim(t)&&(this.connectionInfo.updateLastActivity(),this.chatServerConnection.sendmessage(t,this.connectionInfo.get("roomId"),this.connectionInfo.get("roomType")))}},{key:"deleteMessage",value:function(t){this.chatServerConnection.deleteMessage({roomId:this.connectionInfo.get("roomId"),roomType:this.connectionInfo.get("roomType"),message:t})}},{key:"upload",value:function(t,e,n){var r=this,i=this.connectionInfo.get("authToken"),o=this.getOption("isOperator"),a=new vt({messageId:(new Date).getTime().toString(),date:new Date,myMessage:!0,isClosedChat:!1,file:t,status:gt.UploadStatuses.Start,fileType:0,context:{chatId:this.connectionInfo.get("roomId")},authToken:i,isOperator:o});this.chatServerConnection.upload({roomId:e||this.connectionInfo.get("roomId"),roomType:n||this.connectionInfo.get("roomType"),status:a.get("status"),messageId:a.get("messageId")},(function(i,o,s){if(i)a.set({messageId:o.messageId,status:gt.UploadStatuses.Uploading}),a.save((function(){a.get("status")!==gt.UploadStatuses.Error&&a.get("status")!==gt.UploadStatuses.Unauthorized&&a.finalize().then((function(){var i=a.get("status")===gt.UploadStatuses.Complete?"".concat(t.name,"(").concat(a.get("downloadUrl"),")\n").concat(a.getSize()," • ").concat(t.type):a.get("message");r.chatServerConnection.upload({roomId:e||r.connectionInfo.get("roomId"),roomType:n||r.connectionInfo.get("roomType"),status:a.get("status"),messageId:a.get("messageId"),message:i},(function(t,e){t&&a.get("status")!==gt.UploadStatuses.Error&&a.get("status")!==gt.UploadStatuses.Unauthorized&&(a.set({serverId:e.serverId}),a.updateContext())}))}))}),(function(){r.chatServerConnection.upload({roomId:e||r.connectionInfo.get("roomId"),roomType:n||r.connectionInfo.get("roomType"),status:a.get("status"),messageId:a.get("messageId"),message:a.get("message")})}));else{var c=407===s?gt.UploadStatuses.Unauthorized:gt.UploadStatuses.Error;a.set({status:c,message:gt.UploadErrorMessages[s]||gt.UploadErrorMessages.default})}}))}},{key:"getReasonFromResponse",value:function(t){return{1:"Available",2:"NoOperators",3:"ServerDowntime",4:"AccountActivity",5:"ChatQuotaExceeded",6:"WidgetDisabled",7:"IpIsbanned"}[t]||""}},{key:"checkChatAvailable",value:function(t){var e=this,n=t||this.widgetSettings.accountId;if(!window.purechatCheckChatAvailableDeferred||"resolved"===window.purechatCheckChatAvailableDeferred.state())if(window.purechatCheckChatAvailableDeferred=h.a.Deferred(),this.checkChatAvailableResultCache)window.purechatCheckChatAvailableDeferred.resolve(this.checkChatAvailableResultCache);else{window.purechatCheckChatAvailableDeferred.done((function(t){e.checkChatAvailableResultCache=t,setTimeout((function(){e.checkChatAvailableResultCache=null}),3e3)}));var r=null;this.options.connectionSettings&&(r=this.options.connectionSettings.c||this.options.widgetId||this.options.Id);var i="".concat(L.a.widgetApiRootUrl,"/api/VisitorWidget/ChatAvailable/").concat(n,"/").concat(r,"/?externalRequest=false");h.a.ajax({url:this.timeStampUrl(i),type:"GET",timeout:2e4,error:function(){window.purechatCheckChatAvailableDeferred.resolve({available:!1,reason:0})},success:function(t){window.purechatCheckChatAvailableDeferred.resolve({available:1===t.a,reason:e.getReasonFromResponse(t.r)}),window.purechatCheckChatAvailableDeferred=null}})}return window.purechatCheckChatAvailableDeferred.promise()}},{key:"getDashboardVersion",value:function(){return h.a.ajax({url:"".concat(this.getOption("pureServerUrl"),"/version"),dataType:"jsonp",timeout:2e4,jsonpCallback:"_WidgetJPCB_Version"})}},{key:"getWidgetSettings",value:function(){var t=this,e=h.a.Deferred();return"boolean"==typeof this.getOption("hasAllSettings")&&this.getOption("hasAllSettings")?e.resolve({success:!0,version:this.getOption("Version"),accountId:this.getOption("AccountId"),color:this.getOption("Color"),position:this.getOption("Position"),widgetType:this.getOption("WidgetType"),widgetConfig:this.options,resources:this.getOption("StringResources"),googleAnalytics:this.getOption("GoogleAnalytics"),chatServerUrl:this.getOption("ChatServerUrl"),userWidgetConfig:this.getOption("UserWidgetSettings")}):h.a.when(this.getDashboardVersion(),h.a.ajax({url:"".concat(L.a.widgetApiRootUrl,"/api/VisitorWidget/Widget/").concat(this.getOption("widgetId"),"/").concat((new Date).getTime()),timeout:2e4})).done((function(n,r){var i=n[0].v,o=r[0];if(o.Valid){0===o.UnavailableBehavior&&t.options.isDirectAccess&&(o.UnavailableBehavior=1),o.UserWidgetSettings=new I.Model(o.UserWidgetSettings);var a={success:!0,version:i,accountId:o.AccountId,color:o.Color,position:o.Position,widgetType:o.WidgetType,widgetConfig:o,resources:o.StringResources,googleAnalytics:o.GoogleAnalytics,chatServerUrl:o.ChatServerUrl,userWidgetConfig:o.UserWidgetSettings};e.resolve(a)}})).fail((function(){return e.reject()})),e.promise()}},{key:"submitEmailForm",value:function(t){var e=this,n=h.a.Deferred(),r=null,i=null;try{r=this.cleanNulls(window.localStorage.getItem("i")),this.isActiveSession()&&(i=this.cleanNulls(window.localStorage.getItem(this.getSessionItemName())))}catch(t){}return h.a.ajax({url:"".concat(this.getOption("apiServerUrl"),"/api/VisitorWidget/SendEmail"),type:"POST",data:Ct({},t,{widgetId:this.getOption("widgetId"),startPage:t.origin||window.location.toString()||"unknown",acquisitionSource:window.localStorage.acquisitionSource||"Direct",pccId:r,pccsId:i})}).done((function(t){try{t.customerId&&window.localStorage.setItem("i",t.customerId),e.connectionInfo.set("hasHadEmail",!0),e.connectionInfo.persistLocalStorage(),Z.GaEvent(new I.Model(e.widgetSettings.widgetConfig),"GaTrackingEmail","GAEmailEvent")}catch(t){return n.reject(t)}return n.resolve(t)})).fail((function(){return n.reject()})),n.promise()}},{key:"cleanNulls",value:function(t){if("null"!==t&&null!==t)return t}},{key:"getSessionItemName",value:function(){return"s_".concat(this.widgetSettings.accountId)}},{key:"getLastCheckinItemName",value:function(){return"lastCheckin_".concat(this.widgetSettings.accountId)}},{key:"isActiveSession",value:function(){var t=Date.now(),e=this.getLastCheckinItemName(),n=this.cleanNulls(window.localStorage.getItem(e));return!(n&&t-n>=this.sessionTimeout)}},{key:"getContactId",value:function(){try{return this.cleanNulls(window.localStorage.getItem("i"))}catch(t){return null}}},{key:"getSessionId",value:function(){var t=null;try{this.isActiveSession()&&(t=this.cleanNulls(window.localStorage.getItem(this.getSessionItemName())))}catch(t){}return t}},{key:"startChat",value:function(t){var e=this,n=h.a.Deferred(),r=this.getContactId(),i=this.getSessionId(),o=$(Ct({visitorName:encodeURIComponent(t.visitorName||""),visitorFirstName:encodeURIComponent(t.visitorFirstName||""),visitorLastName:encodeURIComponent(t.visitorLastName||""),visitorCompany:encodeURIComponent(t.visitorCompany||""),origin:encodeURIComponent(t.origin||window.location.toString()||"unknown"),expandSource:window.localStorage.getItem("expandSource")||"",acquisitionSource:window.localStorage.acquisitionSource||"Direct",operatorJoinIds:encodeURIComponent((t.operatorJoinIds||[]).join(",")),initiator:encodeURIComponent(t.initiator||""),startedByOperator:(t.startedByOperator||!1).toString(),pccid:r,pccsid:i,hubspotUtk:Z.getCookie(gt.HubspotCookieName),sentChatRequest:(this.sentChatRequest||!1).toString()},t.visitorEmail?{visitorEmail:encodeURIComponent(t.visitorEmail)}:{},{},t.visitorPhoneNumber?{visitorPhoneNumber:encodeURIComponent(t.visitorPhoneNumber)}:{},{},t.visitorQuestion&&1!==t.initiator?{visitorQuestion:encodeURIComponent(t.visitorQuestion)}:{}));this.sentChatRequest||(this.sentChatRequest=!0);var a=this.getOption("widgetId"),s=this.getOption("AccountId"),c="".concat(this.getOption("apiServerUrl"),"/VisitorWidget/Chat/").concat(a,"?").concat(o);return h.a.ajax({url:c,dataType:"jsonp",timeout:2e4,success:function(t){if(t.user&&t.room){var r=t.room.id;Y.a.log(Y.a.LEVELS.DEBUG,"Start chat success, WidgetId: ".concat(a,", ChatId: ").concat(r,", AccountId: ").concat(s),"",!1,t.server.url,"");try{t.customerId&&window.localStorage.setItem("i",t.customerId)}catch(t){}e.connectionInfo.set({userId:t.user.id,authToken:t.user.authToken,roomId:t.room.id,roomType:q.c.Visitor,chatId:t.chat.id,chatClosed:!1,chatServerUrl:t.server.url,chatServerVersion:t.server.version,hasHadChat:!0}),n.resolve(e.connectionInfo)}else n.reject(t.message);n.resolve()},error:function(t,e,r){n.reject("".concat(e,", ").concat(r)),Y.a.log(Y.a.LEVELS.ERROR,"Start chat failed: Account: ".concat(s," -- Widget: ").concat(a," -- ").concat(e," -- ").concat(r))},complete:function(){setTimeout((function(){e.sentChatRequest=!1}),0)}}),n}},{key:"connectToChatServer",value:function(t){var e=this,n=h.a.Deferred(),r=this.widgetSettings.accountId,i=this.options.widgetId,o=this.connectionInfo.get("roomId"),a=!1,s=this.connectionInfo.get("chatServerUrl");function c(t,c,l,u){a=!0,t?(Y.a.log(Y.a.LEVELS.DEBUG,"Successfully identified with chat server, WidgetId: ".concat(i,", ChatId: ").concat(o,", AccountId: ").concat(r,", Version: ").concat(11126),"",!1,s,""),n.resolve()):(e.chatServerConnection&&e.chatServerConnection.disconnect(),Y.a.log(Y.a.LEVELS.ERROR,"Failed to identify with chat server, WidgetId: ".concat(i,", ChatId: ").concat(o,", AccountId: ").concat(r,", Version: ").concat(11126,", Error Code: ").concat(l,", ErrorMsg: ").concat(u),"",!1,s,""),n.reject({response:c,errorCode:l,errorMessage:u}))}return!this.chatServerConnection||this.chatServerConnection.socket.disconnected?(!this.options.isOperator&&this.chatServerConnection&&this.chatServerConnection.clearConnectTestInterval&&this.chatServerConnection.clearConnectTestInterval(),this.chatServerConnection=ht(this.connectionInfo.get("chatServerVersion"),s,this.connectionInfo.get("userId"),r,this.connectionInfo.get("authToken"),c,(function(t){a||n.reject(t)}),null,"boolean"==typeof this.options.connectionSettings.poppedOut&&this.options.connectionSettings.poppedOut,this.options.isOperator),t&&this.bindEvents(t)):(!this.options.isOperator&&this.chatServerConnection&&this.chatServerConnection.clearConnectTestInterval&&this.chatServerConnection.clearConnectTestInterval(),this.chatServerConnection.identify(this.connectionInfo.get("userId"),r,this.connectionInfo.get("authToken"),c,"boolean"==typeof this.options.connectionSettings.poppedOut&&this.options.connectionSettings.poppedOut),t&&this.bindEvents(t)),n}},{key:"setTypingIndicator",value:function(t){this.chatServerConnection.sendtyping(this.connectionInfo.get("roomId"),this.connectionInfo.get("roomType"),t)}},{key:"rateChat",value:function(t){return h.a.ajax({url:"".concat(this.getOption("apiServerUrl"),"/api/VisitorWidget/Rate"),method:"POST",data:{chatId:this.connectionInfo.get("chatId"),rating:t,authToken:this.connectionInfo.get("authToken")}})}},{key:"checkInRoom",value:function(){return this.connectionInfo.isInChat()||this.connectionInfo.loadFromLocalStorage().isInChat()}},{key:"setCurrentPage",value:function(t){this.chatServerConnection.setVisitorDetails(this.connectionInfo.get("roomId"),this.connectionInfo.get("roomType"),{visitorReferer:t})}},{key:"sendRoomHistory",value:function(){this.chatServerConnection.sendroomhistory(this.connectionInfo.get("roomId"),this.connectionInfo.get("roomType"))}},{key:"unbindHandlerEvents",value:function(){kt(jt(e.prototype),"unbindHandlerEvents",this).call(this),this.unbindHandlerEventsImpl&&this.unbindHandlerEventsImpl()}},{key:"bindEvents",value:function(t){var e=this,n=this;n.handler=t;var r=function(t,e){return(t||"").toString()===(e||"").toString()},i={message:function(e){r(n.connectionInfo.get("roomId"),e.roomId)&&t.onMessage.apply(t,arguments)},messageDeleted:function(e){r(n.connectionInfo.get("roomId"),e.roomId)&&t.onDeleteMessage.apply(t,arguments)},joined:function(e,i,o){r(n.connectionInfo.get("roomId"),o)&&t.onJoined.apply(t,arguments)},left:function(e,i,o){r(n.connectionInfo.get("roomId"),o)&&t.onLeft.apply(t,arguments)},roomdestroyed:function(e){r(n.connectionInfo.get("roomId"),e)&&t.onRoomDestroyed.apply(t,arguments)},typing:function(e,i,o){r(n.connectionInfo.get("userId"),e)||r(n.connectionInfo.get("roomId"),o)&&t.onTyping.apply(t,arguments)},userDestroyed:function(e){r(n.connectionInfo.get("userId"),e)&&t.onRoomDestroyed.apply(t)},roomdetailschanged:function(e){r(n.connectionInfo.get("roomId"),e.id)&&t.onRoomDetailsChanged.apply(t,arguments)},roomchanged:function(e){r(n.connectionInfo.get("roomId"),e.room.id)&&t.onRoomChanged.apply(t,arguments)},noOperatorJoined:function(e){r(n.connectionInfo.get("roomId"),e.roomId)&&t.onNoOperatorJoined.apply(t,arguments)},socketDisconnect:function(e){var r=e.reason;if(!n.getOption("isOperator")){var i=n.connectionInfo.get("roomId");t.onRoomDestroyed.apply(t,[i,"",new Date,r])}},"connection:disconnected:socketio":function(){t.onDisconnected.bind(t),window.clearInterval(e.retryInterval),e.retryInterval=window.setInterval((function(){e.chatServerConnection.trigger("connection:retry:socketio")}),5e3)},"connection:connected:socketio":function(){t.onConnected.bind(t),window.clearInterval(e.retryInterval),e.retryInterval=null}};this.unbindHandlerEventsImpl=function(){e.chatServerConnection.off(i),e.handler=null},this.chatServerConnection.on(i)}},{key:"sessionTimeout",get:function(){return 12e5}}])&&It(n.prototype,r),i&&It(n,i),e}(tt),Ot=n(51),Pt=n.n(Ot);function Rt(t){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wt(t,e){return!e||"object"!==Rt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Et(t){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nt(t,e){return(Nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Dt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Wt(this,Et(e).call(this,t))).chatAvailable="function"!=typeof n.setDemoUnavailable||!n.setDemoUnavailable(),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nt(t,e)}(e,t),n=e,(r=[{key:"startChat",value:function(){return this.connectionInfo.set("userId",1),this.connectionInfo.set("authToken","adsfasfdsdf"),this.connectionInfo.set("roomId",1),h.a.Deferred().resolve(this.connectionInfo)}},{key:"closeChat",value:function(){return h.a.Deferred().resolve()}},{key:"getContactInfo",value:function(){var t=h.a.Deferred();return setTimeout((function(){return t.resolve({firstName:"",lastName:"",company:"",email:"",phone:""})}),0),t}},{key:"restartChat",value:function(){return h.a.Deferred().resolve()}},{key:"connectToChatServer",value:function(t){var e=h.a.Deferred();return this.handler=t,setTimeout((function(){return e.resolve()}),0),e}},{key:"sendRoomHistory",value:function(){}},{key:"checkInRoom",value:function(){return!1}},{key:"newMessage",value:function(t){var e=new Date,n=e.getHours(),r=e.getMinutes(),i=e.getSeconds(),o=n>=12;n=n<10?n:12===n?n:n%12,r=r<10?"0".concat(r):r,i=i<10?"0".concat(i):i,this.getOption("chatModel").get("messages").add({userId:e.getTime(),type:gt.MessageTypes.Message,message:t,myMessage:!0,userName:"Aaron",time:"".concat(n,":").concat(r," ").concat(i).concat(o?"PM":"AM"),date:e,avatarUrl:Pt.a})}},{key:"checkChatAvailable",value:function(){var t=this,e=h.a.Deferred();return setTimeout((function(){return e.resolve({available:t.chatAvailable})}),1),e}},{key:"getWidgetSettings",value:function(){return h.a.Deferred().resolve({Version:27288,WidgetWording:{Id:721,AccountId:0,Title:"Chat with us test."},AccountId:1,Color:"000000",Position:2,WidgetType:1,UnavailableBehavior:2,AskForRating:!0,AskForFirstName:!0,AskForLastName:!0,AskForEmail:!1,AskForCompany:!0,AskForQuestion:!0,ForcePopout:!1,StringResources:{chat_identifyFailed:"Failed to connect to PureChat!",greeting:"Hello",closed_message:"Thanks for chatting. Please rate how you feel about the chat session:",closed_opMessage:"This chat has ended.<br/>What would you like to do?",chat_joinMessage:"{displayName} has joined the chat!",placeholder_email:"Email",chat_connecting:"Connecting you to the chat now...",chat_nowChattingWith:"Chatting with {chatUserNames}.",label_pressToBegin:"Press the button below to begin!",error_enterEmail:"Please enter an email address.",closed_downloadTrans:"Download chat transcript",title_noOperators:"No Operators Available",error_enterQuestion:"Please enter a question",noOperators_email_message:"There are currently no operators available, but feel free to send us an email!",poweredby:"Powered by",chat_noOperatorMessage:"An operator has not yet connected. Don't worry, an operator will be by shortly! When they connect, they'll see all the messages you've sent so far.",chat_typing:"{displayName} is typing",title_chatClosed:"Chat Closed",closed_ratingThanks:"Thanks for your rating!",placeholder_name:"Name",placeholder_firstName:"First Name",placeholder_lastName:"Last Name",placeholder_comapny:"Company",title_initial:"Chat with us test.",title_unavailable_initial:"Contact Us",placeholder_question:"Enter your Question",label_initial_label:"Introductory Text",title_initial_label:"Widget Title",error_noOperators:"Sorry, no operators are currently available",label_initial:"Enter your info below to begin.",error_noOperators_label:"No Operators Available",button_startChat:"Send Chat Request",label_initial_helptext:"This is the introductory text that will be displayed after the user clicks on the PureChat widget.",button_sendEmail:"Send Email",chat_startedMessage:"An operator will be right with you! Feel free to hide this box and navigate around the site.",chat_leftMessage:"{displayName} has left the chat!",button_startNewChat:"Start a new chat",error_noOperators_helptext:"This is the message that will be displayed when Hide Widget When Unavailable is unchecked, and there are no operators available.",error_enterName:"Please enter a name.",mobile_title_initial:"Chat",mobile_title_unavailable_initial:"Contact"},GoogId:"UA-XXXX-Y",GaTrackingTab:!1,GaTrackingChat:!1,GaTrackingThumbs:!1,GATabEvent:"Tab Opened",GAChatEvent:"Chat Started",GAUpThumbEvent:"Thumbs Up",GADownThumbEvent:"Thumbs Down",GAEventCategory:"PureChat widget",UsingGa:!1,ChatServerUrl:"http://chad.purechat.com:8000",DisplayWidgetAnimation:"bounceInDown",CollapsedWidgetImageUrl:"http://chad.purechat.com/Content/images/widgetSamples/operator1.png"})}},{key:"rateChat",value:function(){return h.a.Deferred().resolve()}},{key:"setTypingIndicator",value:function(){}},{key:"bindEvents",value:function(t){this.handler=t}}])&&Mt(n.prototype,r),i&&Mt(n,i),e}(tt);function Ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bt(){return window.CSS&&C.isFunction(window.CSS.supports)&&window.CSS.supports("mask","none")}function Zt(){var t={}.toString;return!!document.createElementNS&&/SVGAnimate/.test(t.call(document.createElementNS("http://www.w3.org/2000/svg","animate")))}var Ht=x.ItemView.extend({template:C.template(""),className:"purechat-progress-spinner",onRender:function(){(this.getOption("overlay")||!0)&&this.$el.addClass("purechat-progress-spinner-overlay")}}),Vt=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"show",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!h()(t).length)throw new Error("No jquery element provided when creating a circle spinner!");var n=e.preventInteraction,r=void 0===n||n;if(!t.data("progress-spinner")){var i=new Ht({overlay:r});i.render(),Bt()||i.$el.addClass("purechat-progress-spinner-compat"),Zt()||i.$el.addClass("purechat-animate-spin"),i.$el.appendTo(t),t.addClass("purechat-progress-spinner-container").data("progress-spinner",i),r&&h()(t).on("keydown.circle-spinner",(function(){return!1})).on("click.circle-spinner",(function(){return!1}))}}},{key:"hide",value:function(t){if(!t||!h()(t).length)throw new Error("No jquery element provided when creating a circle spinner!");var e=t.data("progress-spinner");e&&(e.destroy(),t.removeData("progress-spinner").removeClass("purechat-progress-spinner-container"),t.off(".circle-spinner"))}}])&&Ut(e.prototype,n),r&&Ut(e,r),t}()),zt={getInstance:function(){return Vt},show:Vt.show.bind(Vt),hide:Vt.hide.bind(Vt)},Lt=n(77),Ft=n.n(Lt),Yt=n(78),Gt=n.n(Yt),Xt=n(116),Jt=n.n(Xt),qt=n(117),$t=n.n(qt),Qt=n(118),Kt=n.n(Qt),te=x.ItemView.extend({template:C.template('\n        <% if (obj.ShowGoogleMap) { %>\n        <iframe src="<%= obj.getEmbedUrl() %>"></iframe>\n        <% } %>\n        <a href="<%= obj.getMapsUrl() %>" target="_blank"><%= obj.sanitizeAddress() %></a>\n    '),className:"purechat-flyout-address",templateHelpers:function(){var t=this;return{sanitizeAddress:function(){return(t.model.get("Address")||"").replace(/(\r\n|\n)/g,"<br/>")},getMapsUrl:function(){return"https://maps.google.com/?q=".concat(window.encodeURIComponent(t.model.get("Address")))},getEmbedUrl:function(){var e="https://www.google.com/maps/embed/v1/place?key=".concat(L.a.googleEmbedApiKey);return"".concat(e,"&q=").concat(window.encodeURIComponent(t.model.get("Address")))}}}}),ee=x.ItemView.extend({template:C.template("<%= obj.getText() %>"),className:"purechat-truncate",templateHelpers:function(){var t=this;return{getText:function(){var e=t.getOption("text"),n=t.getOption("substitution");if(!e)return"";if(n){var r=new RegExp("{([^}]*)}","g");return e.replace(r,n)}return e}}}}),ne=x.ItemView.extend({template:C.template('\n        <div class="purechat-flyout-twitter-feed">\n            <a class="twitter-timeline" data-height="312" href="https://twitter.com/<%= obj.TwitterHandle %>" data-chrome="nofooter">Tweets by <%= obj.TwitterHandle %></a>\n        </div>\n        <div class="purechat-flyout-twitter-buttons">\n            <div><a href="https://twitter.com/intent/tweet?screen_name=<%= obj.TwitterHandle %>" class="twitter-mention-button" data-related="<%= obj.TwitterHandle %>" data-size="small">Tweet to @<%= obj.TwitterHandle %></a></div>\n            <div><a href="https://twitter.com/<%= obj.TwitterHandle %>" class="twitter-follow-button" data-show-count="false" data-size="small">Follow @<%= obj.TwitterHandle %></a></div>\n        </div>\n    '),className:"purechat-flyout-twitter",loadScript:function(){var t,e,n,r,i,o,a=this,s=h.a.Deferred(),c=h.a.Deferred();return this.scriptReady||!this.model.get("TwitterHandle")?s.resolve():(window.twttr=(t=document,e="script",n="purechat-twitter-wjs",i=t.getElementsByTagName(e)[0],o=window.twttr||{},t.getElementById(n)?o:((r=t.createElement(e)).id=n,r.src="https://platform.twitter.com/widgets.js",r.onload=r.onreadystatechange=function(){c.resolve()},i.parentNode.insertBefore(r,i),o._e=[],o.ready=function(t){o._e.push(t)},o)),c.done((function(){var t=C.after(3,(function(){a.scriptReady=!0,s.resolve()})),e=function(e){e.events.bind("rendered",(function(e){a.$el.has(e.target).length>0&&setTimeout((function(){var n=e.target.getAttribute("style").replace(/;/g," !important;");e.target.setAttribute("style",n),t()}),1)})),e.widgets.load(a.$el.get(0))};window.twttr&&window.twttr.widgets&&window.twttr.widgets.load?e(window.twttr):window.twttr.ready(e)})),s.promise())},onDestroy:function(){var t=document.getElementById("purechat-twitter-wjs");t&&t.parentNode.removeChild(t)}}),re=n(119),ie=n.n(re),oe=x.ItemView.extend({template:ie.a,className:"purechat-email-form purechat-card",ui:{form:".purechat-form",userDisplayName:".purechat-name-input",userDisplayFirstName:".purechat-firstname-input",userDisplayLastName:".purechat-lastname-input",userDisplayCompany:".purechat-company-input",email:".purechat-email-input",question:".purechat-question-input",userDisplayNameError:".please-entername",emailError:".please-enteremail",questionError:".please-enterquestion",phoneNumber:".purechat-phonenumber-input",unavailablePhoneNumber:".purechat-unavailablephone-input",phoneNumberError:".please-enterphonenumber",unavailablePhoneError:".please-enterunavailablephone",userDisplayFirstNameError:".please-enterfirstname",userDisplayLastNameError:".please-enterlastname",userDisplayCompanyError:".please-entercompany",error:".purechat-email-error"},templateHelpers:function(){var t=this;return C.extend({getMessage:function(){return h()("<div/>").html(t.model.get("InitialVisitorQuestion")).text().replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")}},this.options.settings)},events:{"submit form":"submitEmailForm","change @ui.userDisplayFirstName":"triggerFirstNameChange","change @ui.userDisplayLastName":"triggerLastNameChange","change @ui.userCompany":"triggerCompanyChange","change @ui.email":"triggerEmailChange","change @ui.question":"triggerQuestionChange","change @ui.phoneNumber":"triggerPhoneNumberChange"},modelEvents:{change:"render"},error:function(){this.ui.error.purechatDisplay()},triggerFirstNameChange:function(){var t=h.a.trim(this.ui.userDisplayFirstName.val());this.options.viewController.getChatModel().set("visitorFirstName",t,{silent:!0})},triggerLastNameChange:function(){var t=h.a.trim(this.ui.userDisplayLastName.val());this.options.viewController.getChatModel().set("visitorLastName",t,{silent:!0})},triggerCompanyChange:function(){var t=h.a.trim(this.ui.userDisplayCompany.val());this.options.viewController.getChatModel().set("visitorCompany",t,{silent:!0})},triggerEmailChange:function(){var t=h.a.trim(this.ui.email.val());this.options.viewController.getChatModel().set("visitorEmail",t,{silent:!0})},triggerPhoneNumberChange:function(){var t=h.a.trim(this.ui.phoneNumber.val());this.options.viewController.getChatModel().set("visitorPhoneNumber",t,{silent:!0})},triggerQuestionChange:function(){var t=this.ui.question.val();this.options.viewController.getChatModel().set("visitorQuestion",t,{silent:!0})},submitEmailForm:function(t){var e=this;if(t.preventDefault(),this.submitDelay)return!1;this.submitDelay=!0,setTimeout((function(){delete e.submitDelay}),500);var n=this.options.settings.get("EmailFormAskForFirstName"),r=this.options.settings.get("EmailFormAskForLastName"),i=this.options.settings.get("EmailFormAskForPhoneNumber"),o=this.options.settings.get("EmailFormAskForCompany"),a=null,s=n?h.a.trim(this.ui.userDisplayFirstName.val()):null,c=r?h.a.trim(this.ui.userDisplayLastName.val()):null,l=o?h.a.trim(this.ui.userDisplayCompany.val()):null,u=this.ui.email.val(),p=this.ui.question.val();if(this.ui.form.find('[class*="please"]').purechatDisplay("none"),"string"==typeof s&&0===s.length&&this.options.settings.get("RequireFirstName"))return this.ui.userDisplayFirstNameError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;if("string"==typeof c&&0===c.length&&this.options.settings.get("RequireLastName"))return this.ui.userDisplayLastNameError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;if("string"==typeof u&&0===u.length)return this.ui.emailError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;if("string"==typeof l&&0===l.length&&this.options.settings.get("RequireCompany"))return this.ui.userDisplayCompanyError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;var d=this.ui.phoneNumber.val();if(i){if(0===d.length&&this.options.settings.get("RequirePhoneNumber"))return this.ui.phoneNumberError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;this.ui.phoneNumberError.purechatDisplay("none"),this.options.viewController.triggerResizedEvent(),this.ui.phoneNumber.val(d)}return null===p||""===h.a.trim(p)?(this.ui.questionError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1):(s=s||this.options.viewController.getPublicApi().get("visitor_firstName")||this.model.get("InitialVisitorFirstName")||"Visitor",c=c||this.options.viewController.getPublicApi().get("visitor_lastName")||this.model.get("InitialVisitorLastName"),l=l||this.options.viewController.getPublicApi().get("visitor_company")||this.model.get("InitialVisitorCompany"),u=u||this.options.viewController.getPublicApi().get("visitor_email")||this.model.get("InitialVisitorEmail"),p=p||this.options.viewController.getPublicApi().get("visitor_question")||this.model.get("InitialVisitorQuestion"),d=d||this.options.viewController.getPublicApi().get("visitor_phonenumber")||this.model.get("InitialVisitorPhoneNumber"),s?(a=s,c&&(a+=c)):c?a=c:(a="Visitor",s="Visitor"),this.model.set({Name:a,FirstName:s,LastName:c,Company:l,Email:u,Question:p,PhoneNumber:d}),this.model.trigger("formSubmit",{visitorName:Z.escapeHtml(Z.stripDangerousTags(a||""),!0),visitorFirstName:Z.escapeHtml(Z.stripDangerousTags(s||""),!0),visitorLastName:Z.escapeHtml(Z.stripDangerousTags(c||""),!0),visitorCompany:Z.escapeHtml(Z.stripDangerousTags(l||""),!0),visitorEmail:Z.escapeHtml(Z.stripDangerousTags(u||""),!0),visitorQuestion:Z.escapeHtml(Z.stripDangerousTags(p||""),!1),visitorPhoneNumber:Z.escapeHtml(Z.stripDangerousTags(d||""),!0)}),!1)}}),ae=n(120),se=n.n(ae),ce=x.ItemView.extend({template:se.a,templateHelpers:function(){var t=this;return{getResource:function(e){return t.getOption("rm").getResource(e)}}}}),le="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",ue=x.LayoutView.extend({currentViewId:null,template:C.template('\n        <div class="purechat-flyout-content">\n            <div class="purechat-flyout-email-view"></div>\n            <div class="purechat-flyout-phone-view"></div>\n            <div class="purechat-flyout-twitter-view"></div>\n            <div class="purechat-flyout-address-view"></div>\n            <div class="purechat-flyout-arrow"></div>\n        </div>\n    '),className:"purechat-flyout purechat-animate purechat-animate-fast purechat-flyout-hide purechat-display-none",ui:{arrow:".purechat-flyout-arrow"},regions:{email:".purechat-flyout-email-view",phone:".purechat-flyout-phone-view",twitter:".purechat-flyout-twitter-view",address:".purechat-flyout-address-view"},onRender:function(){this.model.get("ShowEmailButton")&&this.showChildView("email",this.getView("email")),this.model.get("ShowPhoneButton")&&this.showChildView("phone",this.getView("phone")),this.model.get("ShowTwitterButton")&&this.showChildView("twitter",this.getView("twitter")),this.model.get("ShowAddressButton")&&this.showChildView("address",this.getView("address")),this.getOption("isTop")?this.ui.arrow.addClass("purechat-flyout-arrow-top"):this.ui.arrow.addClass("purechat-flyout-arrow-bottom")},showEmailView:function(t,e){var n=this;this.showChildView("email",t),this.showView("email",e),t.model.on("formSubmit",(function(r){t.options.dataController.submitEmailForm(r).done((function(i){i.success?(n.showChildView("email",new ce({model:t.model,rm:n.model})),n.reposition(e),t.options.viewController.trigger("email:send",r)):t.error()}))}))},showView:function(t,e){var n=this;if(this.currentViewId===t){this.$el.on(le,(function(){n.$el.off(le),n.$el.removeClass("purechat-animation-bounceUpSmall purechat-animation-bounceDownSmall")}));var r=this.getOption("isTop")?"purechat-animation-bounceDownSmall":"purechat-animation-bounceUpSmall";this.$el.addClass(r)}else this.hide().then((function(){n.regionManager.forEach((function(t){return t.$el.purechatDisplay("none")})),n.regionManager.get(t).$el.purechatDisplay(),n.ui.arrow.purechatCss("left","50%"),n.currentViewId=t,n.$el.purechatDisplay(),n.reposition(e),n.$el.hasClass("purechat-flyout-hide")&&(n.$el.on(le,(function(){n.$el.off(le),n.$el.removeClass("purechat-flyout-show")})),n.$el.removeClass("purechat-flyout-hide").addClass("purechat-flyout-show"))}))},getView:function(t){var e="".concat(t,"View");return this[e]?this[e]:(this[e]=this.createView(t),this[e])},createView:function(t){return{email:this.isEmailForm()?new oe({model:new I.Model,settings:this.model}):new ee({text:this.model.get("EmailAddress"),substitution:'<a href="mailto:$1">$1</a>'}),phone:new ee({text:this.model.get("PhoneNumber"),substitution:'<a href="tel:$1">$1</a>'}),twitter:new ne({model:this.model}),address:new te({model:this.model})}[t]},hide:function(t){var e=this,n=h.a.Deferred();return this.currentViewId=null,this.$el.hasClass("purechat-display-none")?n.resolve():(t?(this.$el.addClass("purechat-flyout-hide").purechatDisplay("none"),n.resolve()):(this.$el.on(le,(function(){e.$el.off(le),e.$el.purechatCss({left:"auto",right:"auto"}),e.$el.purechatDisplay("none"),n.resolve()})),this.$el.addClass("purechat-flyout-hide")),n)},setInitialPosition:function(){var t=this.getOption("widgetElement"),e=t.innerHeight(),n=e+.5*(t.outerHeight()-e);this.getOption("isTop")?this.$el.purechatCss("top",n+20):this.$el.purechatCss("bottom",n+20)},reposition:function(t){this.reset(),this.setInitialPosition();var e=this.model.useMobile()&&!this.model.isDesktopDimension(),n=this.getOption("widgetElement"),r=n.hasClass("purechat-bottom-right")||n.hasClass("purechat-top-right"),i=t.position().left+.5*t.outerWidth()-.5*this.$el.outerWidth(),o=i+this.$el.outerWidth(),a=["address","twitter","email"].indexOf(this.currentViewId)>-1,s="email"===this.currentViewId&&!this.isEmailForm();e&&a&&!s?this.$el.addClass("purechat-flyout-wide"):r&&o>n.outerWidth()?this.$el.purechatCss({right:0,left:"auto"}):!r&&i<n.position().left?this.$el.purechatCss({right:"auto",left:0}):this.$el.purechatCss({left:"".concat(i+5,"px")}),this.repositionArrow(t)},repositionArrow:function(t){var e=t.offset().left+.5*t.outerWidth()-this.ui.arrow.offset().left-11,n=this.ui.arrow.position().left;this.ui.arrow.purechatCss("left",n+e)},reset:function(){this.$el.purechatCss("left",""),this.$el.purechatCss("right",""),this.$el.removeClass("purechat-flyout-wide")},isEmailForm:function(){return this.model.get("EmailButtonBehavior")===gt.EmailButtonBehaviors.ShowEmailForm}}),pe="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",he=new Z.Notifier,de=x.LayoutView.extend({template:null,id:"PureChatWidget",className:"purechat purechat-display-none",optionsStepShown:!1,maxWidth:700,missedMessageCount:0,_audioNotificationLocalStorageKey:"_purechatVisitorWidgetPlaySound",regions:{content:".purechat-content",closedMessage:".purechat-closed-content",flyout:".purechat-flyout-container"},events:{"click [data-trigger]":"executeCommand",mouseenter:"peekWidget",mouseleave:"unpeekWidget","click .purechat-toggle-audio-notifications":"updatePlayAudioLocalStorage","click @ui.flyout":function(t){return t.stopPropagation()},"dragover @ui.contentWrapper":"showFileTransferOverlay","dragenter @ui.contentWrapper":"showFileTransferOverlay","dragleave @ui.fileOverlay":"hideFileTransferOverlay","dragend @ui.fileOverlay":"hideFileTransferOverlay","drop @ui.fileOverlay":"fileDropped"},childEvents:{roomHostChanged:function(t,e){this.showRoomHostAvatar(e.get("roomHostAvatarUrl"),e.get("expanded"))}},modelEvents:{"change:operatorsAvailable":"operatorsAvailableChanged","api:change":"apiRoomDetailsChanged"},ui:{contentWrapper:".purechat-content-wrapper",fileOverlay:".purechat-file-overlay",content:".purechat-content",purechatCollapsed:".purechat-collapsed",collapsedTabWrapper:".purechat-collapsed .purechat-collapsed-outer",title:".purechat-expanded .purechat-widget-title-link",collapsedTitle:".purechat-collapsed .purechat-widget-title-link",popoutButton:'[data-trigger="popOutChat"]',closeButton:'[data-trigger="closeChat"]',removeWidgetButton:'[data-trigger="removeWidget"]',restartButton:'[data-trigger="restartChat"]',requeueButton:'[data-trigger="requeueChat"]',leaveButton:'[data-trigger="leaveChat"]',widgetCollapsed:".purechat-collapsed",widgetExpanded:".purechat-expanded",collapseImage:".purechat-collapsed-image",expandMobileButton:".purechat-expand-mobile-button",roomAvatarUrl:".purechat-widget-room-avatar",purechatTitleImage:".purechat-title-image",superMinimizeButton:".purechat-super-minimize-link-button",missedMessageCount:".purechat-missed-message-count",footer:".purechat-footer",flyout:".purechat-flyout",messagePreview:".purechat-collapsed .purechat-message-preview",messagePreviewText:".purechat-collapsed .purechat-message-preview-text",emailFlyoutButton:'[data-trigger="showEmail"]',phoneFlyoutButton:'[data-trigger="showPhoneNumber"]',twitterFlyoutButton:'[data-trigger="showTwitter"]',addressFlyoutButton:'[data-trigger="showAddress"]',disconnect:".purechat-disconnect"},templateHelpers:function(){var t=this,e=this;return h.a.extend({isDesktopDimension:function(){return e.options.viewController.isDesktopDimension()},MobileDisplayTypes:gt.MobileDisplayTypes,localCssName:function(t){return(x.getOption(this,"cssModules")||{})[t]||t},icons:Kt()(),showChatButton:function(){return t.getOperatorsAvailable()},isMobile:this.isMobile.bind(this),collapsedIconClass:function(){return t.isMobile()?"pc-svgicon-lg":"pc-svgicon-md"},arrowClass:function(){return t.isTop()?"#pc-svgicon-arrow-up":"#pc-svgicon-arrow-down"},superMinimizeArrowClass:function(){return t.isTop()?"#pc-svgicon-arrow-down":"#pc-svgicon-arrow-up"},iconRootUrl:function(){return Z.iconRootUrl(t.settings.get("isDemo"))},svgHrefAttr:function(){return Z.svgHrefAttr()}},this.settings)},setWidgetShown:function(){window.sessionStorage.setItem("purechat_widgetShown",!0)},widgetShown:function(){return"true"===window.sessionStorage.getItem("purechat_widgetShown")},apiRoomDetailsChanged:function(t,e,n){this.options.viewController.apiRoomDetailsChanged(t,e,n)},updatePlayAudioLocalStorage:function(t){var e=h()(t.currentTarget).find(".pc-svgicon use"),n=Z.svgHrefAttr();return e.attr(n).indexOf("#pc-svgicon-sound")>-1?(window.localStorage[this._audioNotificationLocalStorageKey]=!1,e.attr(n,"".concat(window.location,"#pc-svgicon-no-sound"))):(window.localStorage[this._audioNotificationLocalStorageKey]=!0,e.attr(n,"".concat(window.location,"#pc-svgicon-sound"))),!1},clearRoomHostAvatar:function(){this.ui.roomAvatarUrl.removeClass("purechat-has-room-avatar").removeAttr("style")},showRoomHostAvatar:function(t){t&&this.ui.roomAvatarUrl.purechatCss({"background-image":"url("+t+")"}).addClass("purechat-has-room-avatar")},toggleFooter:function(){this.settings.get("RemoveBranding")||this.settings.get("isOperator")?this.ui.footer.purechatDisplay("none"):this.ui.footer.purechatDisplay("flex")},hideFooter:function(){this.settings.get("isOperator")||this.ui.footer.purechatDisplay("none")},showFooter:function(){this.settings.get("isOperator")||this.ui.footer.purechatDisplay("flex")},showSpinner:function(){zt.show(this.ui.content)},hideSpinner:function(){zt.hide(this.ui.content)},bindAppCommands:function(){try{V.events.off("footer:hide"),V.events.off("footer:toggle"),V.events.off("widget:spinner:show"),V.events.off("widget:spinner:hide")}catch(t){}finally{V.events.on("footer:show",this.showFooter,this),V.events.on("footer:hide",this.hideFooter,this),V.events.on("footer:toggle",this.toggleFooter,this),V.events.on("widget:spinner:show",this.showSpinner,this),V.events.on("widget:spinner:hide",this.hideSpinner,this)}},repositionWidget:function(){var t={1:"purechat-bottom purechat-bottom-left",2:"purechat-bottom purechat-bottom-right",3:"purechat-top purechat-top-left",4:"purechat-top purechat-top-right",9999:"purechat-widget-button"};for(var e in t)this.$el.removeClass(e);this.isMobile()?this.$el.addClass(t[this.settings.get("MobilePosition")]):this.isPoppedOut()||this.settings.get("isDirectAccess")||(this.settings.get("WidgetType")===gt.WidgetType.Button?this.$el.addClass(t[9999]):this.$el.addClass(t[this.settings.get("Position")]))},chooseWidgetTemplate:function(){var t=this.settings.useMobile();this.settings.get("isDirectAccess")&&t?(this.template=Gt.a,this.$el.addClass("purechat-widget purechat-popped-out-widget")):this.settings.get("isDirectAccess")?(this.template=Gt.a,this.$el.addClass("purechat-widget purechat-hosted-widget")):this.settings.get("isOperator")?(this.template=Jt.a,this.$el.addClass("purechat-operator")):this.settings.get("poppedOut")?(this.template=$t.a,this.$el.addClass("purechat-window purechat-popped-out-widget")):t&&!this.settings.isDesktopDimension()?(this.template=Ft.a,this.$el.addClass("purechat-window purechat-popped-out-widget purechat-not-clickable purechat-display-none")):(this.template=Ft.a,this.$el.addClass("purechat-widget purechat-display-none")),this.settings.get("CollapsedStyle")===gt.WidgetType.Button&&this.$el.addClass("purechat-custom-button")},bindWidgetSettingsChanges:function(){this.listenTo(this.settings,"change",C.bind(this.updateImageTransform,this)),this.listenTo(this.settings,"change:AvailableImageXOffset",C.bind(this.updateImageTransform,this)),this.listenTo(this.settings,"change:AvailableImageYOffset",C.bind(this.updateImageTransform,this)),this.listenTo(this.settings,"change:UnavailableImageXOffset",C.bind(this.updateImageTransform,this)),this.listenTo(this.settings,"change:UnavailableImageYOffset",C.bind(this.updateImageTransform,this)),this.listenTo(this.settings,"change:Width",this.setCollapsedWidth.bind(this)),this.listenTo(this.settings,"change:visibleFlyoutId",this.toggleFlyoutPreview.bind(this)),this.listenTo(this.settings,"change:visible",this.toggleVisibility.bind(this))},getOperatorsAvailable:function(){return void 0===this.model.get("operatorsAvailable")||this.model.get("operatorsAvailable")},updateCollapsedStyle:function(){var t=this.settings.useMobile()&&!this.settings.isDesktopDimension(),e=this.getOperatorsAvailable(),n=this.options.widgetSettings.get(t?"MobileUseAvailableImageForBoth":"UseAvailableImageForBoth"),r=this.isInChat()||e||n,i=t?this.settings.mobileAbsoluteCollapsedImageUrl(r):this.settings.absoluteCollapsedImageUrl(r);this.setCollapsedImage(r),i?(this.$el.addClass("purechat-has-image"),this.ui.collapseImage.purechatDisplay()):(this.ui.collapseImage.purechatDisplay("none"),this.$el.removeClass("purechat-has-image")),this.showTab()?this.ui.collapsedTabWrapper.purechatDisplay("block"):this.ui.collapsedTabWrapper.purechatDisplay("none"),this.settings.get("CollapsedStyle")===gt.WidgetType.Button&&(h()(".purechat-button-expand").purechatCss("visibility","visible"),this.ui.collapseImage.purechatDisplay("none")),this.isInChat()||e?this.$el.find(".purechat-start-chat").purechatDisplay():this.$el.find(".purechat-start-chat").purechatDisplay("none"),this.isHiddenMobile()&&!this.settings.anyButtonEnabled()&&this.$el.purechatDisplay("none")},initialize:function(){var t=this;x.LayoutView.prototype.initialize.call(this),this.settings=x.getOption(this,"widgetSettings"),this.cssModules=x.getOption(this,"cssModules");var e=this.settings.get("isDemo"),n=this.settings.get("isOperator"),r=this.settings.get("forceMobileSuperMinimize");if(this.preventExternalEventPropagation(),this.registerMobileInputFocusHandler(),this.isImageOnly()&&this.$el.addClass("purechat-image-only"),this.autoSuperMinimize(),e&&!r?(this.model.set("superMinimize",!1),window.localStorage.superMinimize=!1):this.model.set("superMinimize",this.isSuperMinimized()),this.chooseWidgetTemplate(),this.repositionWidget(),this.bindWidgetSettingsChanges(),this.bindAppCommands(),this.settings.showPlaySoundCheckbox=function(){return!n&&!t.settings.useMobile()},this.settings.playSoundOnNewMessage=function(){return"true"===(window.localStorage[t._audioNotificationLocalStorageKey]||"false").toLowerCase()},n){var i=document.getElementById("pcwidget-styles");i&&i.parentNode.removeChild(i)}},preventExternalEventPropagation:function(){var t=this;if(!this.model.get("isOperator")){var e=["blur","change","click","dblclick","focus","focusin","focusout","hover","keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","resize","scroll","select","submit","drag","dragstart","dragend","dragover","dragenter","dragleave","drop","touchstart"].join(" ");this.$el.on(e,(function(e){e.stopPropagation(),"click"===e.type&&t.getOption("viewController").trigger("widget:click",e)}))}},registerMobileInputFocusHandler:function(){var t=this;this.isMobile()&&h()(window).on("resize",(function(){var e=document.activeElement,n="INPUT"===e.tagName||"TEXTAREA"===e.tagName,r=t.$(e).length>0;n&&r&&C.defer((function(){return document.activeElement.scrollIntoView()}))}))},registerFlyoutCloseClickHandler:function(){var t=this;h()(window).on("mouseup.purechat-flyout",(function(){var e=t.getRegion("flyout").currentView;if(e){e.hide();var n=t.$el.find(".purechat-collapsed .purechat-widget-header");t.resetIcons(n)}}))},stringToBoolean:function(t){return!!t&&("string"==typeof t?"true"===t.toLowerCase():t)},isSuperMinimized:function(){return!this.isImageOnly()&&!this.settings.get("isDemo")&&this.stringToBoolean(window.localStorage.superMinimize)},setTitle:function(t,e){this.setCollapsedTitle(t,e),this.setExpandedTitle(t,e)},setCollapsedTitle:C.debounce((function(t,e){this.ui.collapsedTitle.html(t).attr("data-resourcekey",e)}),50),setExpandedTitle:function(t,e){this.ui.title.text(t).attr("data-resourcekey",e),this.isPoppedOut()&&(window.document.title=t)},setMessagePreview:C.debounce((function(t){var e=this;this.ui.messagePreviewText.html(t).attr("title",t),this.ui.messagePreview.removeClass("purechat-animation-toastUpDown purechat-animation-toastDownUp"),this.forceStopAnimation(this.ui.messagePreview.get(0));var n=this.isTop()?"purechat-animation-toastDownUp":"purechat-animation-toastUpDown";this.ui.messagePreview.on(pe,(function(){e.ui.messagePreview.off(pe),e.ui.messagePreview.removeClass("purechat-animate purechat-animation-toastUpDown purechat-animation-toastDownUp").purechatDisplay("none")})).purechatDisplay().addClass(n)}),50),updateImageTransform:function(){var t=this.getOperatorsAvailable()||this.options.widgetSettings.get("UseAvailableImageForBoth");this.options.widgetSettings.set("AvailableImageScale",Math.min(100,this.options.widgetSettings.get("AvailableImageScale")),{silent:!0}),this.options.widgetSettings.set("UnavailableImageScale",Math.min(100,this.options.widgetSettings.get("UnavailableImageScale")),{silent:!0}),this.ui.collapseImage&&this.ui.collapseImage.attr&&this.setCollapsedImage(t)},hideAdditionalDetails:function(){this.$el.find(".purechat-widget-sliding-panel").removeClass("expanded").addClass("collapsed"),this.$el.find(".additional-details").purechatDisplay(),this.$el.find(".purechat-widget-inner").removeClass("expanded"),this.$el.purechatCss({width:this.maxWidth-200})},showAdditionalDetails:function(){var t=this.$el.find(".purechat-widget-sliding-panel"),e=t.find(".spinner"),n=this.$el.find(".purechat-widget-inner .purechat-widget-header").outerHeight();e.purechatDisplay(),this.$el.find(".purechat-widget-inner").addClass("expanded"),t.find(".purechat-widget-header").purechatCss({height:n,lineHeight:"".concat(n,"px")}),t.find(".purechat-additional-content").purechatCss({top:n}),t.removeClass("collapsed").addClass("expanded"),e.purechatDisplay("none")},executeCommand:function(t){if(t.preventDefault(),t.stopPropagation(),this.settings.get("isInEditorMode"))return null;var e=h()(t.currentTarget),n=e.data("trigger"),r=e.data("trigger-params");return this.minimizeOnLoadTimeout&&(this.minimizeOnLoadTimeout=clearTimeout(this.minimizeOnLoadTimeout)),this.cancelAutoSuperMinimize(),this.triggerMethod(n,r,t)},setAutoExpandTimeout:function(){var t=this,e=1e3*this.settings.get("ExpandWidgetTimeout"),n=setTimeout((function(){t.expand(),clearTimeout(n)}),e)},enablePurechatAssist:function(){h()("html").addClass("purechat-assist")},disablePurechatAssist:function(){h()("html").removeClass("purechat-assist")},setSuperMinimizeClasses:function(){this.$el.removeClass("purechat-widget-expanded purechat-widget-collapsed"),this.$el.addClass("purechat-widget-super-collapsed"),this.removeAnimationClasses(),this.$el.addClass("purechat-animation-fadeInDownSmall purechat-animate purechat-animate-fast")},onSuperMinimize:function(t,e){if(this.isPoppedOut())return!1;e&&e.stopPropagation(),this.model.get("expanded")&&this.onCollapse();var n=this.getRegion("flyout").currentView;return n&&n.hide(!0),this.setSuperMinimizeClasses(),this.model.set("superMinimize",!0),window.localStorage.superMinimize=!0,this.disablePurechatAssist(),this.trigger("minimized"),!1},getRequiredSetting:function(t){var e=this.options.model.get(t);return void 0===e||Boolean(e)},onShowEmail:function(t,e){if(this.settings.get("EmailButtonBehavior")===gt.EmailButtonBehaviors.ShowEmailForm){var n=new I.Model({EmailForm:!0,InitialVisitorName:this.options.model.get("visitorName")||"",InitialVisitorFirstName:this.options.model.get("visitorFirstName")||"",InitialVisitorLastName:this.options.model.get("visitorLastName")||"",InitialVisitorCompany:this.options.model.get("visitorCompany")||"",InitialVisitorEmail:this.options.model.get("visitorEmail")||"",InitialVisitorQuestion:this.options.model.get("visitorQuestion")||"",InitialVisitorPhoneNumber:this.options.model.get("visitorPhoneNumber")||"",RequireFirstName:this.getRequiredSetting("RequireFirstName"),RequireLastName:this.getRequiredSetting("RequireLastName"),RequireCompany:this.getRequiredSetting("RequireCompany"),RequirePhoneNumber:this.getRequiredSetting("RequirePhoneNumber"),RequireEmail:this.getRequiredSetting("RequireEmail"),RequireQuestion:this.getRequiredSetting("RequireQuestion")}),r=this.options.viewController,i=this.options.viewController.getDataController(),o=new oe({dataController:i,viewController:r,rm:this.options.rm,settings:this.settings,chatModel:r.chatModel,model:n});this.showFlyout("email",h()(e.currentTarget),o)}else this.showFlyout("email",h()(e.currentTarget))},onShowPhoneNumber:function(t,e){this.showFlyout("phone",h()(e.currentTarget))},onShowTwitter:function(t,e){this.showFlyout("twitter",h()(e.currentTarget))},onShowAddress:function(t,e){this.showFlyout("address",h()(e.currentTarget))},showFlyout:function(t,e,n){var r=this.getRegion("flyout").currentView,i=this.$el.find(".purechat-collapsed .purechat-widget-header");this.isButtonActive(e)?(r&&r.hide(),this.deactivateButton(e),this.resetIcons(e)):(this.resetIcons(i),this.resetActiveButtons(i),this.activateButton(e),this.swapCloseIcon(e),r&&("email"===t&&n?r.showEmailView(n,e):"twitter"===t?(e.find(".pc-svgicon").purechatDisplay("none"),e.find(".purechat-loading").purechatDisplay("inline-block"),r.getView(t).loadScript().then((function(){r.showView(t,e),e.find(".pc-svgicon").purechatDisplay("inline-block"),e.find(".purechat-loading").purechatDisplay("none")}))):r.showView(t,e)))},resetIcons:function(t){t.find("use").each((function(t,e){var n=h()(e);n.data("activeFlyoutIcon")&&n.attr(Z.svgHrefAttr(),n.data("activeFlyoutIcon"))}))},swapCloseIcon:function(t){var e=t.find("use");e.data("activeFlyoutIcon",e.attr(Z.svgHrefAttr())),e.attr(Z.svgHrefAttr(),"".concat(window.location,"#pc-svgicon-close"))},resetActiveButtons:function(t){t.find(".purechat-btn").removeClass("purechat-btn-active")},deactivateButton:function(t){t.removeClass("purechat-btn-active")},activateButton:function(t){t.addClass("purechat-btn-active")},isButtonActive:function(t){return t.hasClass("purechat-btn-active")},onCollapsedClick:function(){this.isSuperMinimized()?this.onCollapse.apply(this,arguments):this.isExpanded()||this.isSuperMinimized()||this.onExpand.apply(this,arguments)},operatorsAvailableChanged:function(){if(this.settings.get("isWidget")){if(this.model.get("operatorsAvailable"))this.$el.addClass("purechat-button-available"),this.$el.removeClass("purechat-button-unavailable"),this.$el.removeAttr("disabled","disabled"),this.$el.find(".purechat-start-chat").purechatDisplay();else{this.$el.removeClass("purechat-button-available"),this.$el.addClass("purechat-button-unavailable");var t=this.options.widgetSettings.get("UnavailableBehavior")===gt.UnavailableBehaviors.HideWidget;t&&!this.options.widgetSettings.anyButtonEnabled()?(this.$el.addClass("purechat-invisible").purechatDisplay("none"),this.$el.attr("disabled","disabled")):t&&this.onCollapse()}this.updateCollapsedStyle()}},onExpand:function(t,e){var n=this,r=e.collapse,i=e.superMinimize,o=this.options.widgetSettings.get("poppedOut")||this.options.widgetSettings.get("isDirectAccess"),a=this.settings.useMobile()&&!this.settings.isDesktopDimension(),s=this.settings.get("UnavailableBehavior")===gt.UnavailableBehaviors.HideWidget;if(!(!this.settings.get("isDemo")&&(!this.settings.get("isDirectAccess")&&this.settings.get("ForcePopout")&&!this.isPoppedOut()||this.settings.get("usePrototypeFallback")))||o||this.options.widgetSettings.get("widgetWasPoppedOut"))this.options.widgetSettings.get("dataController").checkChatAvailable().done((function(t){n.model.set("operatorsAvailable",t.available),!t.available&&s&&n.options.widgetSettings.anyButtonEnabled()||r||i||(n.$el.addClass("purechat-clickable").removeClass("purechat-not-clickable"),n.expand())}));else{var c=function(){var t=n.options.viewController,e=n.options.viewController.getDataController();t.popoutChatOnExpand(e,e.options,t.chatModel,t.state,a),n.options.widgetSettings.set("widgetWasPoppedOut",!0)};s?this.options.widgetSettings.get("dataController").checkChatAvailable().done((function(t){n.model.set("operatorsAvailable",t.available),t.available&&c()})):c()}this.resetMissedMessageCount(),this.cancelAutoSuperMinimize()},mobileResize:function(){this.collapseMobile()},expandMobile:function(t,e){h()(window).off("resize.RepositionWidget"),this.enablePurechatAssist(),this.ui.expandMobileButton.purechatDisplay("none"),this.$el.addClass("purechat-clickable").removeClass("purechat-not-clickable");var n=this.getRegion("flyout").currentView;n&&n.hide(!0),(e||h.a.noop).call(this)},setExpandedClasses:function(){this.$el.removeClass("purechat-widget-super-collapse"),this.$el.removeClass("purechat-widget-super-collapsed"),this.$el.find(".purechat-btn-toolbar .purechat-btn-expand").purechatDisplay("none"),this.$el.find(".purechat-btn-toolbar .purechat-btn-collapse").purechatDisplay("inline-block"),this.$el.find(".purechat-widget-content").purechatDisplay("flex"),this.$el.find(".purechat-widget-content").parent().find("div:last").purechatDisplay("block"),this.ui.widgetCollapsed.purechatDisplay("none"),this.ui.widgetExpanded.purechatDisplay("flex"),this.$el.removeClass("purechat-widget-collapsed"),this.$el.addClass("purechat-widget-expanded")},expand:function(t,e,n){var r=this;this.setExpandedClasses();var i=function(){r.setExpandedClasses(),r.showRoomHostAvatar(r.options.model.get("roomHostAvatarUrl")),r.model.set({expanded:!0}),n&&n.expandSource&&(localStorage.expandSource=n.expandSource),r.setAttachedClass(),r.trigger("expanded"),r.triggerResizedEvent()};if(this.model.set("superMinimize",!1),window.localStorage.superMinimize=!1,this.settings.get("isDemo")||(localStorage.expanded=!0),this.cancelAutoSuperMinimize(),!this.settings.useMobile()||this.settings.isDesktopDimension()||this.settings.get("isDirectAccess")){var o=this.getRegion("flyout").currentView;o&&o.hide(!0),this.isHostedMobile()||this.isPoppedOut()||this.model.get("isOperator")||this.$el.purechatCss({width:"373px"}),i()}else this.expandMobile(t,i),t&&(i(),this.$el.off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"))},autoSuperMinimize:function(){var t=this,e=this.settings.get("isDemo"),n=this.settings.get("isDirectAccess"),r=this.isMobile(),i=this.settings.get("forceMobileSuperMinimize");n||r&&(this.isExpanded()||this.isImageOnly()||e&&!i||(this.cancelAutoSuperMinimize(),this.superMinimizeTimeoutId=setTimeout((function(){t.onSuperMinimize(null,null,!0),t.superMinimizeTimeoutId=null}),6e3)))},cancelAutoSuperMinimize:function(){this.superMinimizeTimeoutId&&(clearTimeout(this.superMinimizeTimeoutId),this.superMinimizeTimeoutId=null)},collapseMobile:function(t,e){var n=this.settings.get("isDirectAccess"),r=this.options.widgetSettings.get("killForPreview"),i=this.settings.isMobileRequest(),o=this.options.widgetSettings.isAllowedOnMobile();this.disablePurechatAssist(),n||this.isPoppedOut()||(t||this.ui.expandMobileButton.purechatDisplay("block"),r||i||o||this.ui.expandMobileButton.removeAttr("style"),this.$el.addClass("purechat-not-clickable").removeClass("purechat-clickable"),this.widgetShown()?this.ui.collapsedTitle.removeClass("purechat-animate purechat-animation-toast-x purechat-clickable"):this.ui.collapsedTitle.addClass("purechat-clickable"),(e||h.a.noop).call(this),this.autoSuperMinimize(),this.updateCollapsedStyle())},removeAnimationClasses:function(){var t=this.$el.get(0),e=t.className.split(" ").filter((function(t){return 0!==t.lastIndexOf("purechat-animat",0)}));t.className=e.join(" ").trim(),this.forceStopAnimation(t)},forceStopAnimation:function(t){t.offsetWidth},collapse:function(){var t=this;this.isInChat()&&this.settings.get("Type")===gt.WidgetType.Button?(this.ui.widgetCollapsed.purechatDisplay("none"),this.ui.widgetExpanded.purechatDisplay("flex"),this.settings.useMobile()&&!this.settings.isDesktopDimension()&&(this.$el.find(".purechat-expanded .purechat-menu .purechat-btn-expand").purechatDisplay("none"),this.ui.widgetExpanded.off("click.ExpandWidgetForMobile").on("click.ExpandWidgetForMobile",(function(){t.ui.widgetExpanded.off("click.ExpandWidgetForMobile"),t.expand()})))):(this.ui.widgetCollapsed.purechatDisplay("block"),this.ui.widgetExpanded.purechatDisplay("none")),this.updateCollapsedStyle()},setCollapsedClasses:function(){this.$el.removeClass("purechat-widget-expanded purechat-widget-super-collapsed"),this.$el.addClass("purechat-widget-collapsed"),this.$el.find(".purechat-btn-toolbar .purechat-btn-expand").purechatDisplay("block"),this.$el.find(".purechat-btn-toolbar .purechat-btn-collapse, .purechat-widget-content").purechatDisplay("none"),this.$el.find(".purechat-widget-content").parent().find("div:last").purechatDisplay("none")},setFirstLoadCollapsedAnimationClass:function(){var t=this;this.removeAnimationClasses();var e=this.settings.get("PageLoadAnimation")||this.settings.get("DisplayWidgetAnimation"),n=this.options.viewController.getDataController().checkInRoom(),r=this.settings.get("isDemo");!e||this.isExpanded()||!r&&(r||n)||this.$el.addClass("purechat-animation-".concat(e," purechat-animate")).on(pe,(function(){t.$el.off(pe),t.settings.get("visibleFlyoutId")&&t.toggleFlyoutPreview(t.settings,t.settings.get("visibleFlyoutId"))}))},setCollapsedAnimationClass:function(){this.removeAnimationClasses(),this.$el.addClass("purechat-animate purechat-animate-fast purechat-animation-fadeInDownSmall")},onCollapse:function(t){var e=this;window.localStorage.removeItem("expandSource"),this.settings.get("isDemo")||(window.localStorage.expanded=!1,window.localStorage.superMinimize=!1),this.setCollapsedClasses(),t?this.setFirstLoadCollapsedAnimationClass():this.setCollapsedAnimationClass();var n=this.$el.find(".purechat-collapsed .purechat-widget-header");this.resetIcons(n),this.resetActiveButtons(n),this.isInChat()&&this.settings.get("Type")===gt.WidgetType.Button?(this.ui.widgetCollapsed.purechatDisplay("none"),this.ui.widgetExpanded.purechatDisplay("flex"),this.settings.useMobile()&&!this.settings.isDesktopDimension()&&(this.$el.find(".purechat-expanded .purechat-menu .purechat-btn-expand").purechatDisplay("none"),this.ui.widgetExpanded.off("click.ExpandWidgetForMobile").on("click.ExpandWidgetForMobile",(function(){e.ui.widgetExpanded.off("click.ExpandWidgetForMobile"),e.expand()})))):(this.ui.widgetCollapsed.purechatDisplay("block"),this.ui.widgetExpanded.purechatDisplay("none")),this.model.set("superMinimize",!1),this.model.set("expanded",!1),this.trigger("collapsed"),this.triggerResizedEvent(),!this.settings.useMobile()||this.settings.isDesktopDimension()||t?this.setCollapsedWidth():this.collapseMobile(t),this.setUnavailableBehaviorClass()},onShow:function(){this.setCollapsedMinWidth(),this.triggerResizedEvent()},triggerResizedEvent:function(){this.options.viewController.triggerResizedEvent()},flashNotification:function(t){he.notify(t,this.ui.title,this.$el),this.setMessagePreview(t)},incrementMissedMessageCount:function(){this.missedMessageCount+=1,this.ui.missedMessageCount.text(this.missedMessageCount),this.ui.missedMessageCount.purechatDisplay("block")},resetMissedMessageCount:function(){this.ui.missedMessageCount.purechatDisplay("none"),this.ui.missedMessageCount.text(""),this.missedMessageCount=0},onRender:function(){this.updateCollapsedStyle(),this.ui.expandMobileButton.purechatDisplay("none"),this.settings.get("isWidget")?this.ui.content.addClass("purechat-widget-content"):(this.$el.addClass("purechat-window"),this.ui.content.addClass("purechat-window-content")),this.operatorsAvailableChanged(),this.setExpandedTitle(this.settings.get("title")||"");var t=null!==this.settings.get("dataController").checkInRoom()&&void 0!==this.settings.get("dataController").checkInRoom();if(this.settings.get("isDemo")||"true"!==window.localStorage.expanded||this.settings.get("ForcePopout")||this.settings.get("usePrototypeFallback")||!t&&(this.settings.get("StartChatImmediately")||this.settings.get("UnavailableBehavior")===gt.UnavailableBehaviors.HideWidget)?this.model.get("superMinimize")?(this.onSuperMinimize(null,null,!0),this.collapse()):(this.settings.get("isDemo")||this.settings.get("poppedOut"))&&this.isExpanded()?this.expand():this.onCollapse(!0):this.expand(!0,t),this.$el.hasClass("purechat-top")&&this.$el.find(".pc-icon-caret-down").removeClass("pc-icon-caret-down").addClass("pc-icon-caret-up"),!this.model.get("isOperator")&&this.showTab()){var e=this.$el.hasClass("purechat-top-left")||this.$el.hasClass("purechat-top-right");this.showChildView("flyout",new ue({model:this.settings,isTop:e,widgetElement:this.$el})),this.settings.get("isDemo")||this.registerFlyoutCloseClickHandler()}this.setAttachedClass(),this.setCollapsedWidth(),this.setUnavailableBehaviorClass()},onDestroy:function(){h()(window).off(".purechat-flyout")},onAfterInsertion:function(){this.model.get("isOperator")||this.isMobile()&&(this.$el.hasClass("purechat-widget-expanded")?this.expandMobile():this.collapseMobile(!0))},setAttachedClass:function(){this.settings.get("AnchorToEdge")&&!this.isMobile()&&this.$el.addClass("purechat-attached")},setCollapsedWidth:function(){this.settings.get("Width")&&(this.isExpanded()||this.settings.get("isOperator")||this.settings.useMobile()||this.$el.purechatCss({width:this.settings.get("Width")}))},setCollapsedMinWidth:function(){if(!this.isExpanded()&&!this.settings.get("isOperator")){var t=0,e=this.$el.find(".purechat-collapsed .purechat-widget-header"),n=e.outerWidth()-e.width(),r=0;if(this.settings.get("ShowEmailButton")&&(r+=1),this.settings.get("ShowPhoneButton")&&(r+=1),this.settings.get("ShowTwitterButton")&&(r+=1),this.settings.get("ShowAddressButton")&&(r+=1),this.settings.get("ShowMinimizeWidgetButton")&&(r+=1),this.getOperatorsAvailable()&&(r+=1),0===r)t=e.find(".purechat-widget-title-link").outerWidth()+n;else t=e.find(".purechat-menu").outerWidth(!0)+(e.outerWidth()-e.width());this.$el.purechatCss({minWidth:t})}},setCollapsedImage:function(t){this.isMobile()?this.mobileCollapsedImageCss(t):this.collapsedImageCss(t)},setUnavailableBehaviorClass:function(){var t=this.settings.get("UnavailableBehavior")===gt.UnavailableBehaviors.HideWidget;!this.model.get("operatorsAvailable")&&t?this.$el.addClass("purechat-unavailable-behavior-hide"):this.$el.removeClass("purechat-unavailable-behavior-hide")},collapsedImageCss:function(t){var e=(t?this.settings.get("AvailableImageScale"):this.settings.get("UnavailableImageScale"))/100,n=this.settings.absoluteCollapsedImageUrl(t),r=(t?this.settings.get("AvailableImageWidth"):this.settings.get("UnavailableImageWidth"))*e,i=(t?this.settings.get("AvailableImageHeight"):this.settings.get("UnavailableImageHeight"))*e,o=t?this.settings.get("AvailableImageXOffset"):this.settings.get("UnavailableImageXOffset"),a=t?this.settings.get("AvailableImageYOffset"):this.settings.get("UnavailableImageYOffset"),s=t?this.settings.get("AvailableImageTop"):this.settings.get("UnavailableImageTop"),c="minimal"===(this.settings.get("StyleName")||"").toString().toLowerCase(),l="classic"===(this.settings.get("StyleName")||"").toString().toLowerCase();if(n){var u=this.options.widgetSettings.get("UnavailableBehavior")===gt.UnavailableBehaviors.HideWidget;if(this.getOperatorsAvailable()||!u||this.options.widgetSettings.anyButtonEnabled()){var p={backgroundImage:"url(".concat(n,")"),height:"".concat(i,"px"),width:"".concat(r,"px"),zIndex:s?9:-9},h=i+a,d=o;(this.isImageOnly()&&c||!this.isImageOnly()&&l)&&(h+=10),this.isImageOnly()||l||(d+=10),this.isTop()?(this.isImageOnly()||(h+=24),p.marginBottom="-".concat(h,"px")):p.marginTop="-".concat(h,"px"),this.isLeft()||!this.isImageOnly()?p.marginLeft="".concat(d,"px"):p.marginRight="".concat(-1*d,"px"),this.ui.collapseImage.purechatCss(p)}}},mobileCollapsedImageCss:function(t){var e=this.settings.mobileAbsoluteCollapsedImageUrl(t);if(e){var n=this.options.widgetSettings.get("UnavailableBehavior")===gt.UnavailableBehaviors.HideWidget;(this.getOperatorsAvailable()||!n||this.options.widgetSettings.anyButtonEnabled())&&this.ui.collapseImage.purechatCss("background-image","url(".concat(e,")"))}},toggleFlyoutPreview:function(t,e){switch(e){case"email":return this.ui.emailFlyoutButton.click();case"phone":return this.ui.phoneFlyoutButton.click();case"twitter":return this.ui.twitterFlyoutButton.click();case"address":return this.ui.addressFlyoutButton.click()}var n=this.$el.find(".purechat-collapsed .purechat-widget-header"),r=this.getRegion("flyout").currentView;return r&&r.$el.purechatDisplay("none"),this.resetIcons(n),this.resetActiveButtons(n),null},showFileTransferOverlay:function(t){if(this.isInChat()&&this.settings.isFileTransferEnabled()&&(!this.settings.get("isOperator")||!this.settings.get("isInvisible"))){if(this.stopPropagation(t),t&&t.originalEvent){var e=t.originalEvent.dataTransfer;if(e.dropEffect="copy",e.effectAllowed="copy",!e.types||e.types.every((function(t){return"Files"!==t})))return}if(0===this.ui.fileOverlay.find(".purechat-file-overlay-instructions img").length){var n="".concat(this.model.get("cdnServerUrl"),"/assets/files.png"),r=document.createElement("img");r.setAttribute("src",n),r.setAttribute("alt","Upload File"),this.ui.fileOverlay.find(".purechat-file-overlay-instructions").append(r)}this.ui.fileOverlay.purechatDisplay("block")}},hideFileTransferOverlay:function(t){this.isInChat()&&this.settings.isFileTransferEnabled()&&(t&&h.a.contains(this.ui.fileOverlay,t.currentTarget)||(this.stopPropagation(t),this.ui.fileOverlay.purechatDisplay("none")))},fileDropped:function(t){if(this.isInChat()&&this.settings.isFileTransferEnabled()){this.stopPropagation(t),this.hideFileTransferOverlay();var e=this.getOption("viewController").getDataController(),n=t.dataTransfer||t.originalEvent.dataTransfer,r=this.getOption("rm").get("room")||{};Array.prototype.forEach.call(n.files,(function(t){e.upload(t,r.id)}))}},stopPropagation:function(t){t&&(t.preventDefault(),t.stopPropagation())},isExpanded:function(){return!!this.model.get("expanded")},isMobile:function(){return this.settings.get("RequestFromMobileDevice")&&this.settings.get("MobileDisplayType")!==gt.MobileDisplayTypes.SameAsDesktop&&!this.settings.isDesktopDimension()},isHiddenMobile:function(){return this.settings.get("RequestFromMobileDevice")&&this.settings.get("MobileDisplayType")===gt.MobileDisplayTypes.Hidden&&!this.settings.isDesktopDimension()},isTop:function(){var t=this.isMobile()?this.settings.get("MobilePosition"):this.settings.get("Position");return t===gt.WidgetPosition.TopLeft||t===gt.WidgetPosition.TopRight},isLeft:function(){return this.settings.get("Position")===gt.WidgetPosition.BottomLeft||this.settings.get("Position")===gt.WidgetPosition.TopLeft},isImageOnly:function(){return this.options.widgetSettings.get("CollapsedStyle")===gt.WidgetType.Image},isInChat:function(){return this.settings.get("dataController").checkInRoom()},isHostedMobile:function(){return this.isMobile()&&this.settings.get("isDirectAccess")},isPoppedOut:function(){return this.model.get("poppedOut")||this.model.get("isPoppedOut")},showTab:function(){return this.settings.get("CollapsedStyle")===gt.WidgetType.Tab||this.settings.get("CollapsedStyle")===gt.WidgetType.ImageTab},toggleVisibility:function(){this.options.widgetSettings.get("visible")?(this.$el.removeClass("purechat-invisible").purechatDisplay("block"),this.$el.attr("disabled",null)):(this.$el.addClass("purechat-invisible").purechatDisplay("none"),this.$el.attr("disabled","disabled"))},showDisconnect:function(){this.ui.disconnect.purechatDisplay("block")},hideDisconnect:function(){this.ui.disconnect.purechatDisplay("none")}});function ge(t){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function me(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ye=I.Model.extend({viewController:null,widgetSettings:function(){return this.viewController?this.viewController.options:null},chatModel:function(){return this.viewController?this.viewController.getChatModel():null},dataController:function(){return this.viewController?this.viewController.getDataController():null},setWidgetSetting:function(t,e){this.widgetSettings().set(t,e)},setWidgetResource:function(t,e){var n=this.viewController.options.get("StringResources");this.widgetSettings().set("StringResources",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?me(Object(n),!0).forEach((function(e){fe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},n,fe({},t,e)))},getWidgetSetting:function(t){this.widgetSettings().get(t)},getChatModel:function(t){this.chatModel().get(t)},regexs:{propAccess:{chatBox:/^chatbox\./i,strings:/^string\./i,visitor:/^visitor\./i},events:{chatBox:/^chatbox:/i,chatBoxPropChange:/^chatbox\.\w(\w|\d)*:/i,chat:/^chat:/i,email:/^email:/i,visitor:/^visitor\.\w(\w|\d)*/i}},mappings:{chatBox:{keys:{available:"available",position:"Position",layoutType:"CollapsedStyle",unavailableBehavior:"UnavailableBehavior",askForRating:"AskForRating",askForFirstName:"AskForFirstName",askForLastName:"AskForLastName",askForEmail:"AskForEmail",askForCompany:"AskForCompany",askForQuestion:"AskForQuestion",askForPhoneNumber:"AskForPhoneNumber",enableTranscriptDownload:"DownloadTranscript",forcePopout:"ForcePopout",enableGoogleAnalytics:"UsingGa",loadingAnimation:"DisplayWidgetAnimation",availableImageXOffset:"AvailableImageXOffset",availableImageYOffset:"AvailableImageYOffset",availableImageScale:"AvailableImageScale",availableImageOnTop:"AvailableImageTop",availableCollapsedImageUrl:"AvailableCollapsedWidgetImageUrl",availableImageHeight:"AvailableImageHeight",availableImageWidth:"AvailableImageWidth",useAvailableImageForBoth:"chat_startedMessageeForBoth",unavailableImageXOffset:"UnavailableImageXOffset",unavailableImageYOffset:"UnavailableImageYOffset",unavailableImageScale:"UnavailableImageScale",unavailableImageOnTop:"UnavailableImageTop",unavailableCollapsedImageUrl:"UnavailableCollapsedWidgetImageUrl",unavailableImageHeight:"UnavailableImageHeight",unavailableImageWidth:"UnavailableImageWidth",showMinimizeButton:"ShowMinimizeWidgetButton",expanded:{propertyName:"expanded",setter:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e?this.viewController.widgetLayout.expand(!1,!1,{expandSource:n.expandSource}):this.viewController.widgetLayout.onCollapse(!1)}},initialState:"initialState",currentState:"state",enableAvailabilityPolling:"enableAvailabilityPolling",visible:"visible"},resourceKeys:{firstMessage:"chat_startedMessage"},values:{position:{bottomLeft:1,bottomRight:2,topLeft:3,topRight:4},layoutType:{tab:1,button:2,image:3,tabWithImage:4},unavailableBehavior:{hide:0,message:1,email:2},loadingAnimation:{none:"none",flipInX:"flipInX",flipInY:"flipInY",fadeIn:"fadeIn",fadeInUp:"fadeInUp",fadeInDown:"fadeInDown",fadeInLeft:"fadeInLeft",fadeInRight:"fadeInRight",fadeInUpBig:"fadeInUpBig",fadeInDownBig:"fadeInDownBig",fadeInLeftBig:"fadeInLeftBig",fadeInRightBig:"fadeInRightBig",slideInUp:"slideInUp",slideInDown:"slideInDown",slideInLeft:"slideInLeft",slideInRight:"slideInRight",bounceIn:"bounceIn",bounceInUp:"bounceInUp",bounceInDown:"bounceInDown",bounceInLeft:"bounceInLeft",bounceInRight:"bounceInRight",rotateIn:"rotateIn",rotateInDownLeft:"rotateInDownLeft",rotateInDownRight:"rotateInDownRight",rotateInUpLeft:"rotateInUpLeft",rotateInUpRight:"rotateInUpRight"}}},visitor:{keys:{firstName:"visitorFirstName",lastName:"visitorLastName",email:"visitorEmail",avatarUrl:"visitorAvatarUrl",phoneNumber:"visitorPhoneNumber",question:"visitorQuestion",company:"visitorCompany",name:function(t){var e,n,r=t.value.indexOf(" ");r>0?(e=t.value.substring(0,r),n=t.value.substring(r+1)):e=t.value,this.chatModel().set("visitorFirstName",e),this.chatModel().set("visitorLastName",n)}},values:{}}},reverseMapVisitorDetails:function(t){var e={};for(var n in this.mappings.visitor.keys)e[n]=t[this.mappings.visitor.keys[n]];return e},getMappedWidgetValue:function(t,e){if("string"==typeof e&&this.mappings.chatBox.values[t])for(var n in this.mappings.chatBox.values[t])if(n.toLowerCase()==e.toLowerCase())return this.mappings.chatBox.values[t][n];return e},getMappedWidgetResourceValue:function(t,e){if("string"==typeof e&&this.mappings.chatBox.values[t])for(var n in this.mappings.chatBox.values[t])if(n.toLowerCase()==e.toLowerCase())return this.mappings.chatBox.values[t][n];return e},canSetChatBoxProp:function(t){switch(t){case"available":case"currentState":return!1;default:return!0}},set:function(t,e){var n;if(I.Model.prototype.set.apply(this,arguments),"object"===ge(t))for(var r in t)this.set(r,t[r]);else if(this.regexs.propAccess.chatBox.test(t)){n=(n=t.split(this.regexs.propAccess.chatBox)).length>1?n[1]:null;var i=this.mappings.chatBox.keys,o=this.mappings.chatBox.resourceKeys;if(n&&i[n]){var a=this.setWidgetSetting,s=i[n];C.isObject(s)&&(a=s.setter||a,s=s.propertyName),e=this.getMappedWidgetValue(n,e),a.call(this,i[n],e),this.widgetSettings().trigger("api:change",this.widgetSettings,i[n],e)}else if(n&&o[n]){var c=this.setWidgetResource,l=o[n];C.isObject(l)&&(c=l.setter||c,l=l.propertyName),e=this.getMappedWidgetResourceValue(n,e),c.call(this,o[n],e),this.widgetSettings().trigger("api:change",this.widgetSettings,i[n],e)}}else if(this.regexs.propAccess.visitor.test(t)){n=(n=t.split(this.regexs.propAccess.visitor)).length>1?n[1]:null;var u=this.mappings.visitor.keys[n];if(n&&this.mappings.visitor.keys[n]){var p=this.chatModel().get("roomId")||this.viewController.getDataController().checkInRoom();(this.mappings.visitor.keys.question==u&&!p||this.mappings.visitor.keys.question!=u)&&("function"==typeof u?u.call(this,{value:e}):(this.chatModel().set(u,e,{silent:!1}),this.chatModel().trigger("api:change",this.chatModel(),this.mappings.visitor.keys[n],e)))}}},getRequestedPropName:function(t,e){var n=t.split(e);return n.length>1?n[1]:null},get:function(t){var e=null;if(this.regexs.propAccess.chatBox.test(t)){if((e=this.getRequestedPropName(t,this.regexs.propAccess.chatBox))&&this.mappings.chatBox.keys[e])switch(e){case"available":return this.chatModel()?this.chatModel().get("operatorsAvailable"):null;case"currentState":if(!this.chatModel())return null;switch(this.chatModel().get("state")){case"PCStateChatting":case"PCStateInitializing":case"PCStateActivating":return"inChat";case"PCStateClosed":return"postChat";default:return"preChat"}default:return this.widgetSettings()?this.widgetSettings().get(this.mappings.chatBox.keys[e]):null}}else if(this.regexs.propAccess.visitor.test(t)&&(e=this.getRequestedPropName(t,this.regexs.propAccess.visitor))&&this.mappings.visitor.keys[e]&&this.chatModel)return this.chatModel().get(this.mappings.visitor.keys[e]);return null},on:function(t){var e=this.regexs.events.chat.test(t)||this.regexs.events.chatBox.test(t)||this.regexs.events.email.test(t)||this.regexs.events.visitor.test(t)||this.regexs.events.chatBoxPropChange.test(t);if(!e)throw new Error('"'.concat(t,'" is not a valid purechatApi event'));I.Model.prototype.on.apply(this,arguments)},off:function(t){(this.regexs.events.chat.test(t)||this.regexs.events.chatBox.test(t))&&I.Model.prototype.off.apply(this,arguments)},clearViewController:function(){this.viewController=null},setViewController:function(t){this.viewController=t},clearWidgetSettings:function(){this.widgetSettings=null},setWidgetSettings:function(t){this.widgetSettings=t},clearChatModel:function(){this.chatModel=null},setChatModel:function(t){this.chatModel=t},unbindEvents:function(){for(var t in this.events)I.Model.prototype.off.apply(this,t,this.events[t])},bindEvents:function(){for(var t in this.events)I.Model.prototype.on.apply(this,t,this.events[t])},initialize:function(){this.bindEvents()},onDestroy:function(){this.unbindEvents(),I.Model.prototype.off.apply(this)}});function be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ve=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this._publicApi=null,this.changeableRoomDetails=["visitorName","visitorFirstName","visitorLastName","visitorEmail","visitorReferer","visitorPhoneNumber","additionalDetails"],C.extend(this,I.Events)}var e,n,r;return e=t,(n=[{key:"getPublicApi",value:function(){return this._publicApi}},{key:"getBaseApiEventObject",value:function(){return{chatboxId:this.options.get("Id")}}},{key:"extendBaseApiEventObject",value:function(t){return h.a.extend(this.getBaseApiEventObject(),t||{})}},{key:"bindWidgetLayoutPublicApiEvents",value:function(){var t=this;this.widgetLayout&&(this.widgetLayout.on("widget:resized",(function(e){t.getPublicApi().trigger("resized",{widgetId:t.getChatModel().id}),t.getPublicApi().trigger("chatbox:resize",t.extendBaseApiEventObject({width:e.width,height:e.height}))})),this.widgetLayout.on("expanded",(function(){t.getPublicApi().trigger("chatbox:expand",t.extendBaseApiEventObject())})),this.widgetLayout.on("collapsed",(function(){t.getPublicApi().trigger("chatbox:collapse",t.extendBaseApiEventObject())})),this.widgetLayout.on("minimized",(function(){t.getPublicApi().trigger("chatbox:minimize",t.extendBaseApiEventObject())})))}},{key:"bindOptionsPublicApiEvents",value:function(){var t=this;this.options.on("change:Position",(function(){return t.widgetLayout.repositionWidget()}))}},{key:"bindChatModelPublicApiEvents",value:function(){var t=this;this.getChatModel().on("widget:available widget:unavailable",(function(){t.getPublicApi().trigger("chatbox.available:change",t.extendBaseApiEventObject({available:t.getChatModel().get("operatorsAvailable")}))})),this.getChatModel().on("operator:join",(function(e){t.getPublicApi().trigger("chat:operatorJoin",t.extendBaseApiEventObject({operatorName:e.get("userDisplayName")}))})),this.getChatModel().on("operator:leave",(function(e){t.getPublicApi().trigger("chat:operatorLeave",t.extendBaseApiEventObject({operatorName:e.get("userDisplayName")}))})),this.getChatModel().on("change:visitorName",(function(t,e){})),this.getChatModel().on("change:visitorFirstName",(function(e,n){t.getPublicApi().trigger("visitor.firstName:change",t.extendBaseApiEventObject({firstName:n})),t.getPublicApi().trigger("visitor.name:change",t.extendBaseApiEventObject({name:e.getFullName()}))})),this.getChatModel().on("change:visitorLastName",(function(e,n){t.getPublicApi().trigger("visitor.lastName:change",t.extendBaseApiEventObject({lastName:n})),t.getPublicApi().trigger("visitor.name:change",t.extendBaseApiEventObject({name:e.getFullName()}))})),this.getChatModel().on("change:visitorCompany",(function(e,n){t.getPublicApi().trigger("visitor.company:change",t.extendBaseApiEventObject({company:n}))})),this.getChatModel().on("change:visitorEmail",(function(e,n){t.getPublicApi().trigger("visitor.email:change",t.extendBaseApiEventObject({email:n}))})),this.getChatModel().on("change:visitorPhoneNumber",(function(e,n){t.getPublicApi().trigger("visitor.phoneNumber:change",t.extendBaseApiEventObject({phoneNumber:n}))})),this.getChatModel().on("change:visitorQuestion",(function(e,n){t.getPublicApi().trigger("visitor.question:change",t.extendBaseApiEventObject({question:n}))})),this.getChatModel().on("chat:restart",(function(){t.getPublicApi().trigger("chatbox:restart",t.extendBaseApiEventObject())}))}},{key:"bindViewControllerPublicApiEvents",value:function(){var t=this;this.listenTo(this,"chat:start",(function(e){t.getPublicApi().trigger("chat:start",t.extendBaseApiEventObject(t.getPublicApi().reverseMapVisitorDetails(e)))})),this.listenTo(this,"chat:end",(function(e){t.getPublicApi().trigger("chat:end",t.extendBaseApiEventObject(t.getPublicApi().reverseMapVisitorDetails(e)))})),this.listenTo(this,"chat:rate",(function(e){t.getPublicApi().trigger("chat:rate",t.extendBaseApiEventObject(e))})),this.listenTo(this,"widget:poppedOut",(function(){t.getPublicApi().trigger("chatbox:poppedOut",t.extendBaseApiEventObject())})),this.listenTo(this,"email:send",(function(e){t.getPublicApi().trigger("email:send",t.extendBaseApiEventObject(t.getPublicApi().reverseMapVisitorDetails(e)))}))}},{key:"registerPublicApiEvents",value:function(){var t=this;this._publicApi||(this._publicApi=new ye,this._publicApi.setViewController(this)),this.listenTo(this,"state:changed",(function(e){var n={widgetId:t.getChatModel().id,state:e.newState.name};e.oldState&&(n.previousState=e.oldState.name),t.getPublicApi().trigger("widget:state-changed",t.extendBaseApiEventObject(n)),t.getPublicApi().trigger("chatbox:state-changed",t.extendBaseApiEventObject(n))})),this.listenTo(this,"widget:ready",(function(){t.bindWidgetLayoutPublicApiEvents(),t.bindOptionsPublicApiEvents(),t.bindChatModelPublicApiEvents();try{t.getPublicApi().trigger("ready",t.extendBaseApiEventObject())}catch(t){console.error(t)}try{t.getPublicApi().trigger("chatbox:ready",t.extendBaseApiEventObject())}catch(t){console.error(t)}})),this.bindViewControllerPublicApiEvents()}},{key:"apiRoomDetailsChanged",value:function(t){this.getDataController().chatServerConnection&&this.getDataController().chatServerConnection.setVisitorDetails(this.getDataController().connectionInfo.get("chatId"),this.getDataController().connectionInfo.get("roomType"),t.pick(this.changeableRoomDetails))}},{key:"triggerRoomChangedForApi",value:function(){this.getPublicApi().trigger("chat:change",this.extendBaseApiEventObject(this.getPublicApi().reverseMapVisitorDetails(this.getChatModel().pick(this.changeableRoomDetails))))}},{key:"destroy",value:function(){this.stopListening(this)}}])&&be(e.prototype,n),r&&be(e,r),t}(),we=I.RelationalModel.extend({idAttribute:"userId"}),_e=I.Collection.extend({model:we,getOperatorTypingText:function(t,e){var n=this.where({isTyping:!0});if(!n||0===n.length)return e?"":"<span>".concat(t.getResource("chat_idleText"),"</span>");var r=n.map((function(e){var n,r=e.get("displayName").trim(),i=C.escape(t.getResource("chat_typing",{displayName:r}));return n=i,h()("<div/>").html(n).text()})).join(", ");return'<span data-resourcekey="chat_typing">'.concat(r,"...</span>")}}),Ce=I.RelationalModel.extend({defaults:function(){return{participants:new _e}},relations:[{type:I.HasMany,key:"messages",relatedModel:"Message",collectionType:"MessageCollection",reverseRelation:{key:"chat"}},{type:I.HasMany,key:"operators",relatedModel:"Operator",collectionType:"OperatorCollection",reverseRelation:{key:"chat"}},{type:I.HasMany,key:"participants",relatedModel:"ChatParticipant",collectionType:"ChatParticipantCollection",reverseRelation:{key:"chat"}}],getFullName:function(){var t="Visitor",e=this.get("visitorFirstName"),n=this.get("visitorLastName");return e?(t=e,n&&(t+=" "+n)):n&&(t=n),t},restartChat:function(){this.set("visitorQuestion",null),this.get("operators").reset(),this.get("messages").reset(),this.set("state",gt.WidgetStates.Inactive),this.trigger("chat:restart")},chatUserNames:function(){return this.get("operators").map((function(t){return t.get("userDisplayName")})).join(", ")},isInChat:function(){return this.get("userId")&&this.get("chatId")&&this.get("authToken")},initialize:function(){var t=this;this.get("operators").on("add",(function(e){t.trigger("operator:join",e)})).on("remove",(function(e){t.trigger("operator:leave",e)}))}}),Ie=I.Collection.extend({model:ft,add:function(t){if(t){var e=C.isArray(t)?t:[t];e.forEach((function(t){t.timeAdded=(new Date).getTime()}))}return I.Collection.prototype.add.apply(this,arguments)},comparator:function(t,e){if(t.sortOrder!==e.sortOrder)return t.sortOrder<e.sortOrder?-1:1;var n=t.get("date").getTime()-e.get("date").getTime();return 0===n?t.cid<e.cid?-1:1:n}}),xe=I.RelationalModel.extend({idAttribute:"userId"}),ke=I.Collection.extend({model:xe});function je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Se={MILLISECONDS_IN_SECOND:1e3,SECONDS_IN_MINUTE:60,MINUTES_IN_HOUR:60,HOURS_IN_DAY:24};Se.MILLISECONDS_IN_DAY=Se.HOURS_IN_DAY*Se.MINUTES_IN_HOUR*Se.SECONDS_IN_MINUTE*Se.MILLISECONDS_IN_SECOND,Se.DISMISS_DELAYS_DAYS=[0,1,3,7,30,365],Se.CHECKIN_INTERVAL_SECONDS=5,Se.MAX_CHECKIN_INTERVAL_SECOND=60;var Ae=I.Model.extend({storageKeys:["_purechatSessionStart","_purechatLastCheckin","_purechatDismissTime","_pureChatTimeSettingsVersion","_purechatDismissCount"],defaults:{_purechatSessionStart:new Date,_purechatPageStart:new Date,_purechatLastCheckin:new Date,_purechatDismissCount:0},fetchDate:function(t){var e=window.localStorage.getItem(this.formatPropName(t));C.isUndefined(e)||C.isNaN(e)||C.isNull(e)||this.set(t,new Date(window.localStorage.getItem(this.formatPropName(t))))},fetchInt:function(t){var e=window.localStorage.getItem(this.formatPropName(t));C.isUndefined(e)||C.isNaN(e)||C.isNull(e)||this.set(t,parseInt(window.localStorage.getItem(this.formatPropName(t)),10))},formatPropName:function(t){return"".concat(this.widgetId,"_").concat(t)},fetch:function(){this.fetchDate("_purechatSessionStart"),this.fetchDate("_purechatLastCheckin"),this.fetchDate("_purechatDismissTime"),this.fetchInt("_pureChatTimeSettingsVersion"),this.fetchInt("_purechatDismissCount")},save:function(){var t=this;this.storageKeys.forEach((function(e){var n=t.get(e);C.isUndefined(n)||C.isNaN(n)||C.isNull(n)?window.localStorage.removeItem(t.formatPropName(e)):window.localStorage.setItem(t.formatPropName(e),t.get(e))}))},resetTimeCounters:function(){this.set({_purechatDismissTime:null})},updateEventLoop:function(){this.set("_purechatLastCheckin",new Date),window.localStorage.setItem(this.formatPropName("_purechatLastCheckin"),this.get("_purechatLastCheckin"))},initialize:function(){C.bindAll(this,"updateEventLoop"),setInterval(this.updateEventLoop,Se.CHECKIN_INTERVAL_SECONDS*Se.MILLISECONDS_IN_SECOND)}}),Te=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.purechatController=e,this.widgetSettings=e.options,this.enabled=this.widgetSettings.get(this.enabledWidgetSettingKey)&&!this.isPoppedOut()&&!this.isHosted()&&!this.isDemoChat()&&!this.isMobile()&&!this.popOutAutomatically(),this.enabled){C.bindAll(this,"onCollapse"),t.dismissSettings||(t.dismissSettings=new Ae,t.dismissSettings.widgetId=this.widgetSettings.get("Id"),t.dismissSettings.fetch());var n=t.dismissSettings.get("_pureChatTimeSettingsVersion"),r=this.widgetSettings.get("WidgetSettingsVersion");n&&n.toString()===r.toString()||(t.dismissSettings.resetTimeCounters(),t.dismissSettings.set("_pureChatTimeSettingsVersion",r)),this.isNewSession()&&t.dismissSettings.set("_purechatSessionStart",new Date),this.purechatController.getPublicApi().on("chatbox:collapse",this.onCollapse),this.startTesting(),t.dismissSettings.save()}}var e,n,r;return e=t,(n=[{key:"isPoppedOut",value:function(){return this.widgetSettings.get("isPoppedOut")}},{key:"isHosted",value:function(){return this.widgetSettings.get("isDirectAccess")}},{key:"isDemoChat",value:function(){return this.widgetSettings.get("isDemo")}},{key:"isMobile",value:function(){return this.widgetSettings.get("RequestFromMobileDevice")}},{key:"isWidgetAvailable",value:function(){return this.purechatController.chatModel.get("operatorsAvailable")}},{key:"popOutAutomatically",value:function(){return this.widgetSettings.get("ForcePopout")||!1}},{key:"onCollapse",value:function(){t.dismissSettings.set("_purechatDismissCount",t.dismissSettings.get("_purechatDismissCount")+1),this.stopTesting(),t.dismissSettings.set("_purechatDismissTime",new Date),t.dismissSettings.save(),this.purechatController.getPublicApi().off("chatbox:collapse",this.onCollapse)}},{key:"getDismissDelay",value:function(){return Se.DISMISS_DELAYS_DAYS[Math.min(t.dismissSettings.get("_purechatDismissCount"),Se.DISMISS_DELAYS_DAYS.length-1)]*Se.MILLISECONDS_IN_DAY}},{key:"isNewSession",value:function(){return new Date-t.dismissSettings.get("_purechatLastCheckin")>Se.MAX_CHECKIN_INTERVAL_SECOND*Se.MILLISECONDS_IN_SECOND}},{key:"startTesting",value:function(){var e=t.dismissSettings.get("_purechatDismissTime"),n=this.getDismissDelay();(!e||new Date-e>n)&&(t.dismissSettings.on("change:_purechatLastCheckin",this.eventCheckChange),this.onStart&&this.onStart())}},{key:"removeEventListeners",value:function(){t.dismissSettings.off("change:_purechatLastCheckin",this.eventCheckChange)}},{key:"stopTesting",value:function(){this.removeEventListeners(),t.dismissSettings.resetTimeCounters(),t.dismissSettings.set("_purechatDismissTime",new Date),t.dismissSettings.save(),this.onStop&&this.onStop()}},{key:"triggerEvent",value:function(t){var e=this;this.purechatController.getDataController().checkChatAvailable().done((function(n){n.available&&(e.removeEventListeners(),setTimeout((function(){e.purechatController.chatModel.get("expanded")||(e.stopTesting(),e.purechatController.getPublicApi().set("chatbox.expanded",!0,{expandSource:x.getOption(e,"expandSource")}))}),t||1e3))}))}}])&&je(e.prototype,n),r&&je(e,r),t}();Se.BaseControllerSettings=Te;var Oe=Se;function Pe(t){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Me(t,e){return!e||"object"!==Pe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function We(t){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ee(t,e){return(Ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ne=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Me(this,We(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ee(t,e)}(e,t),n=e,(r=[{key:"onStart",value:function(){var t=this,e=1===this.widgetSettings.get("ExpandWidgetTimeoutType")?"_purechatSessionStart":"_purechatPageStart",n=new Date-Oe.BaseControllerSettings.dismissSettings.get(e),r=this.widgetSettings.get("ExpandWidgetTimeout")*Oe.MILLISECONDS_IN_SECOND-n;this.timeout=setTimeout((function(){return t.triggerEvent()}),r)}},{key:"onStop",value:function(){clearTimeout(this.timeout),this.timeout=void 0}},{key:"expandSource",get:function(){return"time-trigger"}},{key:"enabledWidgetSettingKey",get:function(){return"ExpandWidgetTimeoutEnabled"}}])&&Re(n.prototype,r),i&&Re(n,i),e}(Oe.BaseControllerSettings);function De(t){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Be(t,e){return!e||"object"!==De(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ze(t){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function He(t,e){return(He=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ve=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Be(this,Ze(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&He(t,e)}(e,t),n=e,(r=[{key:"onStart",value:function(){var t=this,e=this.widgetSettings.get("TriggerUrls"),n=this.widgetSettings.get("TriggerPageExpandTimeout"),r=window.location.href.replace("http://","").replace("https://","");e.filter((function(e){return t.testUrl(r,e)})).forEach((function(){return t.triggerEvent(n*Oe.MILLISECONDS_IN_SECOND)}))}},{key:"testUrl",value:function(t,e){return t.toLowerCase().indexOf(e.Url.toLowerCase())>=0}},{key:"expandSource",get:function(){return"url-trigger"}},{key:"enabledWidgetSettingKey",get:function(){return"EnableTriggerPageSpecific"}}])&&Ue(n.prototype,r),i&&Ue(n,i),e}(Oe.BaseControllerSettings);function ze(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Le(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Fe={popoutButton:!1,closeButton:!1,restartButton:!1,removeWidgetButton:!1,requeueButton:!1,leaveButton:!1,cannedResponsesButton:!1},Ye=["purechat-state-activating","purechat-state-chatting","purechat-state-closed","purechat-state-email-form","purechat-state-inactive","purechat-state-initializing","purechat-state-unavaiable","purechat-state-unsupported"].join(" "),Ge=/(^|:)(\w)/gi;function Xe(t,e,n){return n.toUpperCase()}var Je=[],qe=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,C.extend(this,I.Events)}var e,n,r;return e=t,(n=[{key:"setChatModel",value:function(t){this.chatModel=t}},{key:"getChatModel",value:function(){return this.chatModel}},{key:"setWidgetView",value:function(t){this.widgetView=t,this.listenTo(this.widgetView,"all")}},{key:"getWidgetView",value:function(){return this.widgetView}},{key:"setWidgetSettings",value:function(t){this.settings=t}},{key:"getWidgetSettings",value:function(){return this.settings}},{key:"setResources",value:function(t){this.resources=t}},{key:"getResources",value:function(){return this.resources}},{key:"setDataController",value:function(t){this.dc=t}},{key:"getDataController",value:function(){return this.dc}},{key:"setViewController",value:function(t){this.vc=t}},{key:"getViewController",value:function(){return this.vc}},{key:"getResource",value:function(t,e){return this.resources.getResource(t,e)}},{key:"disable",value:function(){this.getDataController().connectionInfo.set("disabled",!0),this.getDataController().connectionInfo.set("chatActiveInOtherWindow",!0),this.getWidgetView().$el.purechatDisplay("none")}},{key:"enable",value:function(){this.getDataController().connectionInfo.set("disabled",!1),this.getDataController().connectionInfo.set("chatActiveInOtherWindow",!1),this.getWidgetView().$el.purechatDisplay("block")}},{key:"syncWithContact",value:function(){var t=this,e=h.a.Deferred();return this.getDataController().getContactInfo().done((function(n){if(!n)return e.resolve();var r=t.getChatModel();return r.get("visitorFirstName")||r.set("visitorFirstName",n.firstName),r.get("visitorLastName")||r.set("visitorLastName",n.lastName),r.get("visitorCompany")||r.set("visitorCompany",n.company),r.get("visitorEmail")||r.set("visitorEmail",n.email),r.get("visitorPhoneNumber")||r.set("visitorPhoneNumber",n.phone),e.resolve()})),e.promise()}},{key:"onEnter",value:function(){var t=this;if(this.getWidgetView().$el.removeClass(Ye).addClass("purechat-state-".concat(this.name)),this.listenTo(this.getWidgetView(),"all",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.triggerMethod.apply(t,n)})),this.stateSettings){if(this.stateSettings.UiVisiblity){var e=this.getWidgetView();C.chain(this.stateSettings.UiVisiblity).defaults(Fe).pairs().filter((function(t){var n=ze(t,1)[0];return e.ui[n]})).each((function(t){var n=ze(t,2),r=n[0],i=n[1];e.ui[r].purechatDisplay(i?void 0:"none")}))}var n=this.getDataController().connectionInfo,r=this.stateSettings.shouldBeInRoom;this.chatModel.get("isOperator")||C.isUndefined(r)||(r?this.listenTo(n,"change:isInChat",(function(e,n){n||t.chatModel.set("state",gt.WidgetStates.Closed)})):this.listenTo(n,"change:isInChat",(function(e,n){if(n){var r=t.getWidgetSettings();r.useMobile()&&!r.isDesktopDimension()||t.widgetView.expand(),t.getChatModel().set("state",gt.WidgetStates.Chatting)}})))}this.listenTo(this.options,"change:enableAvailabilityPolling",(function(e,n){n?"inactive"===t.name&&t.startAvailabilityPolling(!0):!t.getChatModel().get("expanded")&&t.TestingStartedFromApi&&t.stopAvailabilityPolling()})),V.events.trigger("footer:show")}},{key:"onExit",value:function(){this.stopListening(this.widgetView,"all"),this.stopAvailabilityPolling(!0)}},{key:"clearPolling",value:function(){Je.forEach((function(t){return clearInterval(t)})),Je=[]}},{key:"testAvailability",value:function(){var t=this;this.getViewController().pageActivity||this.lastCheck&&new Date-this.lastCheck>12e4?(this.lastCheck=new Date,this.getDataController().checkChatAvailable().done((function(e){t.clearPolling(),t.checkAvailTimeout=e.available?2e4:6e5,e.available||"AccountActivity"!==e.reason?Je.push(setTimeout((function(){return t.testAvailability()}),t.checkAvailTimeout)):t.stopAvailabilityPolling(),t.getChatModel().set("operatorsAvailable",e.available)}))):(this.checkAvailTimeout=2e4,this.clearPolling(),Je.push(setTimeout((function(){return t.testAvailability()}),1500)))}},{key:"startAvailabilityPolling",value:function(t){var e=this;this.clearPolling(),this.checkAvailTimeout=2e4,this.testAvailability(),this.TestingStatus||Je.push(setTimeout((function(){return e.testAvailability()}),this.checkAvailTimeout)),this.TestingStatus=!0,this.TestingStartedFromApi=t||!1}},{key:"stopAvailabilityPolling",value:function(t){this.options.get("enableAvailabilityPolling")&&"chatting"!==this.name&&"activating"!==this.name&&!t||(this.TestingStatus=!1,this.clearPolling())}},{key:"onPopOutChat",value:function(){var t=this.getWidgetSettings(),e=this.getChatModel(),n=this.getDataController();this.getChatModel().set("poppedOut",!0),this.disable(),n.connectionInfo.persistLocalStorage();var r=h.a.param({widgetId:t.get("widgetId"),userId:n.connectionInfo.get("userId"),displayName:n.connectionInfo.get("visitorName"),authToken:n.connectionInfo.get("authToken"),roomId:n.connectionInfo.get("roomId"),roomType:n.connectionInfo.get("roomType"),chatId:n.connectionInfo.get("chatId"),contactId:window.localStorage.getItem("i"),origin:encodeURIComponent(e.get("origin"))}),i="".concat(this.settings.get("pureServerUrl")||L.a.dashboardRootUrl,"/visitorwidget/chatwindow?").concat(r);window.openedWindow=window.open(i,"purechatwindow","menubar=no, location=no, resizable=yes, scrollbars=no, status=no, width=480, height=640"),this.getViewController().trigger("widget:poppedOut")}},{key:"getOperatorsAvailable",value:function(){var t=this.getChatModel();return void 0===t.get("operatorsAvailable")||t.get("operatorsAvailable")}},{key:"getInitialTitleResourceKey",value:function(){var t=this.getWidgetSettings(),e=t.useMobile()&&!t.isDesktopDimension(),n=this.getOperatorsAvailable();return e&&n?"mobile_title_initial":e&&!n?"mobile_title_unavailable_initial":!e&&n?"title_initial":"title_unavailable_initial"}},{key:"destroy",value:function(){var t=this.getDataController().connectionInfo;this.stopListening(this.options),this.stopListening(this.widgetView),this.stopListening(t),this.stopListening(this)}},{key:"triggerMethod",value:function(){return this.triggerMethodInternal(this,arguments)}},{key:"triggerMethodInternal",value:function(t,e,n){var r=arguments.length<3;r&&(e=(n=e)[0]);var i,o="on"+e.replace(Ge,Xe),a=this[o];return C.isFunction(a)&&(i=a.apply(this,r?C.rest(n):n)),C.isFunction(this.trigger)&&(r+n.length>1?this.trigger.apply(this,r?n:[e].concat(C.drop(n,0))):this.trigger(e)),i}}])&&Le(e.prototype,n),r&&Le(e,r),t}();function $e(t){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ke(t,e){return!e||"object"!==$e(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tn(t){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function en(t,e){return(en=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var nn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ke(this,tn(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&en(t,e)}(e,t),n=e,(r=[{key:"onEnter",value:function(){qe.prototype.onEnter.apply(this,arguments),this.getChatModel().set("state",gt.WidgetStates.Chatting)}},{key:"name",get:function(){return"activating"}},{key:"stateSettings",get:function(){return{UiVisiblity:{}}}}])&&Qe(n.prototype,r),i&&Qe(n,i),e}(qe),rn=x.ItemView.extend({template:C.template("<%= obj.emoji %>"),tagName:"button",className:"purechat-emoji-button",attributes:function(){return{type:"button",title:this.model.get("description")}},events:{click:"selectEmoji",mouseover:"hoverEmoji"},modelEvents:{change:"render"},onRender:function(){this.$el.purechatDisplay(this.model.get("filtered")?"none":"block"),this.$el.toggleClass("purechat-emoji-button-active",this.model.get("selected"))},selectEmoji:function(){this.triggerMethod("emojiSelected",this.model)},hoverEmoji:function(){this.triggerMethod("emojiHovered",this.model)}}),on=x.CollectionView.extend({childView:rn,className:"purechat-emoji-container",reorderOnSort:!0,childEvents:{}}),an=I.Model.extend({idAttribute:"emoji",defaults:function(){return{clicked:0,modified:new Date,selected:!1}},sync:function(){this.collection&&this.collection.sync.apply(this.collection,arguments)}}),sn=I.Collection.extend({model:an,getSelectedIndex:function(){return this.findIndex((function(t){return t.get("selected")}))},selectNext:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.getSelectedIndex();if(!(e<0)){var n=this.at(e+t);n&&(this.at(e).set("selected",!1),n.set("selected",!0))}},selectPrev:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.getSelectedIndex();if(!(e<0||e-t<0)){var n=this.at(e-t);n&&(this.at(e).set("selected",!1),n.set("selected",!0))}}}),cn=n(30),ln=sn.extend({addSelected:function(t){var e=this.findWhere({emoji:t.get("emoji")});e?this.moveModel(e):this.insertModel(t)},moveModel:function(t){for(var e=(t.get("clicked")||0)+1,n=this.indexOf(t)-1;n>-1;){if(this.at(n).get("clicked")>e)break;this.remove(t),this.add(t,{at:n}),n-=1}t.save({clicked:e})},insertModel:function(t){for(var e=t.clone(),n=0,r=this.length,i=(t.get("clicked")||0)+1;n<r&&!(i>=this.at(n).get("clicked"));n+=1);e.set({clicked:i}),this.add(e,{at:n}),e.save(),this.last().destroy()},sync:function(t,e,n){var r,i=new Array(10).map((function(){return null})),o=h.a.Deferred();try{var a=(window.localStorage.getItem("purechat_emojis")||"👍,👎,🙂,😄,😂,🎉,❤️,👏,✅,💥").split(",");switch(t){case"read":!function(){for(var t=0,e=0,n=cn.length;e<n;e+=1){var r=cn[e],o=a.indexOf(r.emoji);if(o>-1&&(i[o]=r,t+=1),10===t)break}}();break;case"delete":a.splice(a.indexOf(e.get("emoji")),1),window.localStorage.setItem("purechat_emojis",a.join(","));break;case"update":window.localStorage.setItem("purechat_emojis",this.map((function(t){return t.get("emoji")})).join(","))}}catch(t){r=t.message}return i?(n.success&&n.success.call(e,i,n),o.resolve(i)):(r=r||"Record Not Found",n.error&&n.error.call(e,r,n),o.reject(r)),n.complete&&n.complete.call(e,i),o.promise()},save:function(){return this.sync("create",this,{})}}),un=n(121),pn=n.n(un),hn=x.LayoutView.extend({template:pn.a,className:"purechat-emoji-picker purechat-card purechat-card-flex purechat-display-none",ui:{searchInput:"input"},events:{"keyup @ui.searchInput":"search",click:function(t){t.preventDefault(),t.stopPropagation()}},regions:{curatedList:".purechat-curated-emojis",fullList:".purechat-all-emojis"},childEvents:{emojiSelected:function(t,e){this.triggerMethod("emojiSelected",e),this.mostUsedCollection.addSelected(e)}},initialize:function(){this.mostUsedCollection=new ln,this.fullListCollection=new sn(cn),this.mostUsedCollection.fetch()},onBeforeShow:function(){this.showChildView("curatedList",new on({collection:this.mostUsedCollection})),this.showChildView("fullList",new on({collection:this.fullListCollection}))},open:function(){this.$el.purechatDisplay("flex"),this.ui.searchInput.focus(),this.registerEmojiCloseClickHandler()},close:function(){this.$el.purechatDisplay("none"),this.ui.searchInput.val(""),this.search(),h()(window).off(".purechat-emojis")},search:function(){var t=this.ui.searchInput.val();this.fullListCollection.each((function(e){if(""===t)e.set("filtered",!1);else{var n=e.get("names").some((function(e){return e.indexOf(t)>-1})),r=e.get("tags").some((function(e){return e.indexOf(t)>-1}));e.set("filtered",!(n||r))}}))},registerEmojiCloseClickHandler:function(){var t=this;this.getOption("registerClose")&&h()(window).on("click.purechat-emojis",(function(){t.close()}))}}),dn=n(122),gn=n.n(dn);function mn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yn=x.LayoutView.extend({template:gn.a,className:"purechat-card purechat-card-flex purechat-card-bordered",regions:{filteredList:".purechat-filtered-emojis"},childEvents:{emojiSelected:"emojiSelected",emojiHovered:"emojiHovered"},ui:{footer:".purechat-card-footer"},onRender:function(){this.updateList(this.getOption("filter"))},emojiHovered:function(t,e){this.collection.each((function(t){return t.set("selected",!1)})),e.set("selected",!0)},emojiSelected:function(t,e){this.triggerMethod("emojiSelected",e)},selectNext:function(){this.collection.selectNext()},selectPrev:function(){this.collection.selectPrev()},selectUp:function(){this.collection.selectPrev(10)},selectDown:function(){this.collection.selectNext(10)},getSelected:function(){return this.collection.findWhere({selected:!0})},updateList:function(t){this.collection&&this.stopListening(this.collection),this.collection=this.createFilteredCollection(t),this.listenTo(this.collection,"change",this.updateFooterText.bind(this)),this.collection.length>0&&this.collection.first().set("selected",!0);var e=new on({collection:this.collection});this.showChildView("filteredList",e)},createFilteredCollection:function(t){var e=C.take(cn.filter((function(e){return e.names.some((function(e){return e.indexOf(t)>-1}))||e.tags.some((function(e){return e.indexOf(t)>-1}))})).map((function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mn(Object(n),!0).forEach((function(e){fn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{selected:!1})})),30);return new sn(e)},updateFooterText:function(){var t=this.collection.findWhere({selected:!0});if(t){var e="".concat(t.get("emoji"),"&nbsp;:").concat(t.get("names")[0],":");this.ui.footer.html(e)}},isEmpty:function(){return 0===this.collection.length}}),bn=I.Model.extend({url:function(){if(!this.get("link"))throw new Error("LinkModel.link is required");return"".concat(L.a.apiUrl,"/api/unfurl?url=").concat(encodeURIComponent(this.get("link")))}}),vn=n(123),wn=n.n(vn),_n=2*Math.pow(10,6),Cn=x.ItemView.extend({template:wn.a,className:function(){var t=this.model.get("myMessage")?"purechat-message-right":"purechat-message-left";return this.isOtherOperatorMessage()&&(t+=" purechat-message-break"),this.extendedClassName&&(t+=" ".concat(this.extendedClassName)),this.hasMultipleOperators()&&(t+=" purechat-message-multiple-operators"),"purechat-message-wrapper purechat-clearfix ".concat(t," purechat-animate purechat-animate-somewhat-fast purechat-animation-fadeInDownSmall")},ui:{timestamp:".purechat-time"},events:{"click a.purechat-message-link":function(t){t.preventDefault();var e=t.target.getAttribute("href");return window.open(e),!1}},templateHelpers:function(){var t=this;return{prettyDate:this.prettyDate.bind(this),enhance:function(t){var e=Z.formatWhitespace(t);return Z.linkify(e)},iconRootUrl:function(){return Z.iconRootUrl(t.getOption("settings").get("isDemo"))},svgHrefAttr:function(){return Z.svgHrefAttr()},isNote:function(){return t.model.get("type")===gt.MessageTypes.Note},isSeparator:function(){return t.model.get("type")===gt.MessageTypes.Separator},isMessage:function(){return t.model.get("type")===gt.MessageTypes.Message},hasMultipleOperators:this.hasMultipleOperators.bind(this)}},onRender:function(){this.$el.attr({"data-userid":this.model.get("userId")});var t=this.model.getTypeString();this.$el.addClass(this.model.get("type")!==gt.MessageTypes.Message?"purechat-".concat(t):""),this.$el.addClass(this.model.get("isClosedChat")?"closed":"")},isOtherOperatorMessage:function(){var t=this;if(this.model.get("type")===gt.MessageTypes.Separator||this.model.get("type")===gt.MessageTypes.Note)return!0;var e=this.getOption("messages");if(e.length<2)return!0;var n=e[C.findIndex(e,(function(e){return e.id&&e.id===t.model.get("id")||e.timeAdded===t.model.get("timeAdded")}))-1];return!n||!this.model.get("myMessage")&&this.model.get("userId")!==n.userId},updateTimestamp:function(){this.model.get("time")&&this.ui.timestamp&&!C.isString(this.ui.timestamp)&&this.ui.timestamp.text(this.prettyDate())},isInViewport:function(t,e){var n=this.$el.offset().top,r=n+this.$el.outerHeight();return n>=t&&n<=e||r>=t&&r<=e},unfurlLinks:function(t,e){var n=this,r=this.getOption("settings").get("isOperator");if((r||this.getOption("settings").get("LinkSummariesEnabled"))&&(!r||this.getOption("rm").get("LinkSummariesEnabled"))&&!this.model.get("unfurled")&&this.model.get("type")===gt.MessageTypes.Message&&(void 0===t||void 0===e||this.isInViewport(t,e))){var i=Z.getLinks(this.model.get("message"));if(this.model.set("unfurled",!0),0!==i.length)i.map((function(t){var e=t;return t.indexOf("http")<0&&(e="http://".concat(e)),new bn({link:e})})).forEach((function(t){t.fetch().then((function(e,r){if("nocontent"!==r&&!(t.get("size")>_n)){var i=C.extend(n.model.toJSON(),t.toJSON(),{parent:n.model,date:new Date(n.model.get("date").getTime()+1)});delete i.id;var o=new ft(i);n.model.collection.add(o)}}))}))}},prettyDate:function(){var t=this.getOption("settings"),e=t.get("ShowFullMessageTimestamp");return t.get("isDemo")?e?Z.toHourMinuteString(new Date,!1):"Just now":e||t.get("isOperator")?Z.toHourMinuteString(this.model.get("date"),!1):Z.prettyDate(this.model.get("date"))},hasMultipleOperators:function(){if(this.getOption("settings").get("isOperator"))return!1;if(this.model.get("type")!==gt.MessageTypes.Message)return!1;if(this.model.get("myMessage"))return!1;var t=J();return x.getOption(t,"chatModel").get("operators").length>1}}),In=n(124),xn=n.n(In),kn=x.ItemView.extend({template:xn.a,className:"purechat-message-note purechat-message-note-closed",attributes:{width:"100%"},ui:{ratingThanks:".purechat-rating-thanks",displayContainer:".purechat-message-display-container",ratingPrompt:'[data-resourcekey="closed_askForRating"]',thumbsUp:".purechat-thumbs-up",thumbsDown:".purechat-thumbs-down"},templateHelpers:function(){var t=this.options.settings.toJSON();return t.showPoweredBy=!t.isOperator&&!t.RemoveBranding,t.poweredByUrl=this.options.settings.poweredByUrl(),t.ctaUrl=function(){var t=this.getResource("button_cta_url"),e=new RegExp("(https|http)://");return 0!==t.search(e)?"http://"+t:t},t.iconRootUrl=function(){return Z.iconRootUrl(t.isDemo)},t.svgHrefAttr=function(){return Z.svgHrefAttr()},t.apiUrl=L.a.apiUrl,t},events:{"click @ui.thumbsUp":"handleThumbsUp","click @ui.thumbsDown":"handleThumbsDown","click .purechat-download-container a":"handleDownload"},handleThumbsUp:function(){this.options.settings.get("isInEditorMode")||(this.ui.thumbsUp.addClass("purechat-thumbs-selected"),this.rateChat(!0))},handleThumbsDown:function(){this.options.settings.get("isInEditorMode")||(this.ui.thumbsDown.addClass("purechat-thumbs-selected"),this.rateChat(!1))},handleDownload:function(){return!this.options.settings.get("isInEditorMode")},rateChat:function(t){this.rating||(this.rating=t?1:0,this.trigger("chat:rated",this.rating)),this.$el.find(".purechat-thumbs-selectable:not(.purechat-thumbs-selected)").remove(),this.ui.ratingThanks.text(this.getResource("closed_ratingThanks")),this.ui.ratingThanks.attr("data-resourcekey","closed_ratingThanks"),this.ui.ratingPrompt.length>0&&this.ui.ratingPrompt.purechatDisplay("none")}}),jn=x.ItemView.extend({template:C.template(""),className:"empty-item"}),Sn=n(125),An=n.n(Sn),Tn=Cn.extend({template:An.a,extendedClassName:"purechat-unfurl-link",templateHelpers:function(){return C.extend({truncate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:34;return t.substring(0,e)}},Cn.prototype.templateHelpers.apply(this,arguments))}}),On=n(52),Pn=n.n(On),Rn=Cn.extend({template:Pn.a,extendedClassName:"purechat-unfurl-image"}),Mn=Cn.extend({template:Pn.a,extendedClassName:"purechat-unfurl-giphy"}),Wn=n(126),En=n.n(Wn),Nn=Cn.extend({template:En.a,extendedClassName:"purechat-unfurl-youtube",ui:C.extend({playButton:".purechat-unfurl-play",image:".purechat-unfurl-media"},Cn.prototype.ui),events:C.extend({"click @ui.playButton":"playVideo","click @ui.image":"playVideo"},Cn.prototype.events),playVideo:function(){var t=h()("<iframe></iframe>").attr({src:"".concat(this.model.get("media"),"?autoplay=1"),width:"100%",class:"purechat-unfurl-iframe",frameborder:"0",webkitallowfullscreen:"webkitallowfullscreen",mozallowfullscreen:"mozallowfullscreen",allowfullscreen:"allowfullscreen"});this.ui.image.after(t).purechatDisplay("none"),this.ui.playButton.purechatDisplay("none")}}),Dn=n(127),Un=n.n(Dn),Bn=Cn.extend({template:Un.a,extendedClassName:"purechat-unfurl-twitter"}),Zn=n(128),Hn=n.n(Zn),Vn=x.ItemView.extend({template:Hn.a,id:"PureChatWidgetImagePreview",templateHelpers:function(){return{imageUrl:this.getOption("image")}},events:{click:"destroy"},onRender:function(){h()("body").on("keydown.purechat-files",this.onKeyDown.bind(this))},onDestroy:function(){h()("body").off("keydown.purechat-files")},onKeyDown:function(t){27===(t.which||t.keyCode)&&this.destroy()}}),zn=n(129),Ln=n.n(zn),Fn=Cn.extend({template:Ln.a,extendedClassName:"purechat-file",templateHelpers:function(){var t=this;return C.extend({isError:this.isError.bind(this),isUploading:this.isUploading.bind(this),getMessageDescription:this.getMessageDescription.bind(this),transferStateClass:function(){return t.isUploading()?"purechat-file-status-uploading":t.isError()?"purechat-file-status-error":t.isComplete()?"purechat-file-status-complete":""},isOperator:function(){return t.getOption("settings").get("isOperator")},isImage:this.isImage.bind(this),getGeneralError:function(){return t.getOption("settings").getResource("error_fileTransfer")||gt.UploadErrorMessages.default},parsed:this.model.parseMessage()},Cn.prototype.templateHelpers.apply(this,arguments))},ui:{fileActions:".purechat-file-actions",fileImage:".purechat-file-image img",fileImageSpinner:".purechat-file-image .purechat-loading"},events:C.extend({"click .purechat-file-delete":"deleteFile","click @ui.fileImage":"imageClicked"},Cn.prototype.events),modelEvents:C.extend({change:"render"},Cn.prototype.modelEvents),onRender:function(){this.ui.fileImage.on("load.purechat-file",this.fileImageLoaded.bind(this)),this.$el.addClass(this.model.get("isClosedChat")?"closed":"")},onDestroy:function(){this.ui.fileImage.off(".purechat-file")},fileImageLoaded:function(){this.ui.fileImageSpinner.purechatDisplay("none"),this.ui.fileImage.purechatDisplay("inline").addClass("purechat-animate purechat-animate-somewhat-fast purechat-animation-fadeIn"),this.trigger("file:image-loaded",{fromFileImage:!0})},imageClicked:function(){var t=this.getOption("settings"),e=t.isMobileRequest()&&!t.isDesktopDimension();if(this.isImage())if(e)this.$(".purechat-file-image").toggleClass("purechat-file-image-active");else{var n=this.model.parseMessage(),r=new Vn({image:n.url});r.on("destroy",(function(){r.$el.remove(),r.off("destroy")})),r.render(),r.$el.appendTo("body")}},deleteFile:function(){this.trigger("file:delete",this.model.toJSON())},isImage:function(){return 0===(this.model.parseMessage().mimeType||"").indexOf("image/")},isStatus:function(t){return this.model.get("status")===t},isError:function(){return this.isStatus(gt.UploadStatuses.Error)||this.isStatus(gt.UploadStatuses.Unauthorized)},isUploading:function(){return this.isStatus(gt.UploadStatuses.Start)||this.isStatus(gt.UploadStatuses.Uploading)||this.isStatus(gt.UploadStatuses.Unfinalized)},isComplete:function(){return this.isStatus(null)||this.isStatus(void 0)||this.isStatus(gt.UploadStatuses.Complete)},getMessageDescription:function(){if(this.isUploading())return this.model.get("myMessage")?"Uploading...":"Receiving...";if(this.isComplete()){var t=this.model.parseMessage();return"".concat(t.name,"<br/><small>").concat(t.size," • ").concat(t.mimeType,"</small>")}return""}}),Yn=n(130),Gn=n.n(Yn),Xn=x.CompositeView.extend({template:Gn.a,id:"purechat-message-display-container",className:"purechat-message-display-container",ui:{messageListContainer:".purechat-message-display",showPrevious:".purechat-showPrevious"},events:{"click .purechat-showPrevious":"showPrevious"},modelEvents:{"change:HasMoreTransactions":"updatePreviousVisibility","change:expanded":"checkForMobileExpand"},collectionEvents:{add:"listChanged"},childEvents:{"chat:rated":function(t,e){this.trigger("chat:rated",e)},"file:image-loaded":"listScrolled","file:delete":"deleteFile"},triggers:{showPrevious:"showPrevious"},onAddChild:function(){var t=this;this.newMessageAddedTimerId&&clearTimeout(this.newMessageAddedTimerId),this.newMessageAddedTimerId=setTimeout((function(){t.unfurlChildren(),clearTimeout(t.newMessageAddedTimerId)}),100)},getChildView:function(t){switch(t.get("type")){case gt.MessageTypes.UnfurlLink:return Tn;case gt.MessageTypes.UnfurlImage:return Rn;case gt.MessageTypes.UnfurlGiphy:return Mn;case gt.MessageTypes.UnfurlYoutube:return Nn;case gt.MessageTypes.UnfurlTwitter:return Bn;case gt.MessageTypes.File:return Fn;case gt.MessageTypes.Closed:return kn;case gt.MessageTypes.Message:default:return Cn}},childViewOptions:function(){return{rm:x.getOption(this,"rm"),settings:x.getOption(this,"settings"),messages:this.collection.toJSON()}},childViewContainer:".purechat-message-display",emptyView:jn,onDestroy:function(){clearInterval(this.lastMessageTimeHandler),this.ui.messageListContainer.off(".purechat-messages")},onRender:function(){this.ui.messageListContainer.on("scroll.purechat-messages",this.listScrolled.bind(this)),this.updatePreviousVisibility()},initialize:function(){var t=this;this.chatModel=x.getOption(this,"chatModel"),this.unfurled=this.model.get("type")!==gt.MessageTypes.Message,this.chatModel.get("scrollBottom")||this.chatModel.set("scrollBottom",0),this.lastMessageTimeHandler=setInterval((function(){var e=t.children.last();e&&e.updateTimestamp&&e.updateTimestamp()}),6e4)},getScrollBottom:function(){return this.chatModel.get("scrollBottom")},setScrollBottom:function(t){this.chatModel.set("scrollBottom",t)},listScrolled:C.debounce((function(t,e){if(this.ui.messageListContainer&&!C.isString(this.ui.messageListContainer)){var n=this.getOption("viewController"),r=this.ui.messageListContainer,i=this.ui.messageListContainer.get(0).scrollHeight-r.height()-r.scrollTop(),o=this.getScrollBottom();e&&e.fromFileImage&&o<=50?(this.setScrollBottom(0),this.updateScroll(),n.scrolledToBottom&&n.scrolledToBottom()):(this.setScrollBottom(i),i<=50&&n.scrolledToBottom&&n.scrolledToBottom()),this.unfurlChildren()}}),250),unfurlChildren:function(){var t=this.$el.offset().top,e=t+this.$el.innerHeight();this.children.forEach((function(n){n.unfurlLinks&&"function"==typeof n.unfurlLinks&&n.unfurlLinks(t,e)}))},listChanged:function(t){var e=this;if(!([gt.MessageTypes.UnfurlLink,gt.MessageTypes.UnfurlImage,gt.MessageTypes.UnfurlGiphy,gt.MessageTypes.UnfurlYoutube,gt.MessageTypes.UnfurlTwitter].indexOf(t.get("type"))>-1&&this.getScrollBottom()>50)){if(t.get("type")!==gt.MessageTypes.Closed){var n=this.collection.where({type:gt.MessageTypes.Closed});this.collection.remove(n)}t.get("isClosedChat")||0===this.getScrollBottom()||0!==this.ui.messageListContainer.scrollTop()||this.setScrollBottom(this.ui.messageListContainer[0].scrollHeight-this.ui.messageListContainer.height()),t.get("isClosedChat")||this.model.get("userId")!==t.get("userId")||this.setScrollBottom(0),this.getScrollBottom()<=50&&this.setScrollBottom(0),(0===this.getScrollBottom()||t.get("isClosedChat"))&&(this.scrollTimeout&&(clearTimeout(this.scrollTimeout),this.scrollTimeout=null),this.scrollTimeout=setTimeout((function(){e.scrollTimeout=null,t.get("isClosedChat")&&e.setScrollBottom(0),e.updateScroll()}),0))}},updateScroll:function(){C.isString(this.ui.messageListContainer)||this.ui.messageListContainer.scrollTop(this.ui.messageListContainer[0].scrollHeight-this.ui.messageListContainer.height()-this.getScrollBottom())},showPrevious:function(){this.triggerMethod("showPrevious")},updatePreviousVisibility:function(){this.model.get("HasMoreTransactions")?this.ui.showPrevious.purechatDisplay("block"):this.ui.showPrevious.purechatDisplay("none")},checkForMobileExpand:function(t,e){var n=this.getOption("settings"),r=n.useMobile()&&!n.isDesktopDimension();e&&r&&(this.setScrollBottom(0),this.updateScroll())},deleteFile:function(t,e){this.getOption("viewController").getDataController().deleteMessage(e)}}),Jn=38,qn=40,$n=13,Qn=27,Kn=x.ItemView.extend({tagName:"li",template:C.template("<%= obj.name %>"),events:{click:"select",mouseover:"highlight"},highlight:function(){this.getOption("parent").highlight(this.$el)},select:function(){var t=this.getOption("parent");return t.select(this.model),t.hide(),!1}}),tr=x.ItemView.extend({tagName:"ul",className:"text-small",template:!1,wait:100,currentPhrase:null,minLength:1,isVisible:!1,views:[],initialize:function(t){C.extend(this,t),this.filterCollection=C.throttle(this.filterCollection,this.wait)},onRender:function(){this.input.attr("autocomplete","off"),this.input.on("keyup.purechat-autocomplete",this.keyup.bind(this)).on("keydown.purechat-autocomplete",this.keydown.bind(this)),h()(document).on("click.purechat-autocomplete",this.onWindowClick.bind(this))},onDestroy:function(){this.input.off(".purechat-autocomplete"),h()(document).off(".purechat-autocomplete")},keyup:function(){var t=this.input.val();this.isChanged(t)&&(this.isValid(t)?this.filterCollection(t):this.hide(),this.currentPhrase=t)},keydown:function(t){return this.isVisible?t.keyCode===Jn?this.move(-1):t.keyCode===qn?this.move(1):t.keyCode!==$n||t.shiftKey?t.keyCode===Qn?this.hide():null:this.onEnter():null},onEnter:function(){return this.$el.children(".purechat-highlight").click(),this.input.parents("form").trigger("submit"),!1},onWindowClick:function(t){h.a.contains(this.$el.get(0),t.target)||this.hide()},filterCollection:function(t){var e=this,n=window.CurrentUser.get("cannedResponseSettings").get("MatchStartOfCannedResponse"),r="".concat(n?"^":"").concat(String(t).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),i=new RegExp(r,"im"),o=this.collection.toArray().filter((function(t){return!(t.get("widgetId")&&t.get("widgetId")!==e.getOption("widgetId"))&&(i.test(t.get("title"))||i.test(t.label()))}));this.loadResult(o)},loadResult:function(t){this.show().reset(),t.length?(t.forEach(this.addItem.bind(this)),this.show()):this.hide()},addItem:function(t){var e=new Kn({model:t,parent:this});this.$el.append(e.render().$el),this.views.push(e)},move:function(t){var e=this.$el.children(".purechat-highlight"),n=this.$el.children(),r=e.index()+t;-1===t&&0===e.length&&(r=n.length-1),r===n.length&&(r=0);var i=n.eq(r);return i.length>0&&(e.removeClass("purechat-highlight"),n.eq(r).addClass("purechat-highlight"),this.scrollIntoView(i)),!1},highlight:function(t){this.$el.children(".purechat-highlight").removeClass("purechat-highlight"),t.addClass("purechat-highlight")},isChanged:function(t){return this.currentPhrase!==t},isValid:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.length>this.minLength},select:function(t){var e=t.label();this.input.focus(),this.input.val(""),this.input.val(e.trim()),this.currentPhrase=e,this.onSelect(t)},reset:function(){this.views.forEach((function(t){return t.destroy()})),this.$el.empty(),this.views=[]},hide:function(){return this.triggerMethod("hideAutocomplete"),this.isVisible=!1,this},show:function(){return this.triggerMethod("showAutocomplete"),this.isVisible=!0,this},scrollIntoView:function(t){var e=this.getOption("parent").height(),n=t.position().top,r=n+t.outerHeight();if(n>=0&&r<=e)return null;var i=t.get(0);return n<0&&r<=e?i.scrollIntoView(!0):n>=0&&r>e?i.scrollIntoView(!1):null},onSelect:function(){},onClose:function(){}}),er=n(131),nr=n(132),rr=n.n(nr),ir=new RegExp("([\\s.]|&nbsp;|^)(:[a-z_]{2,})(?=[\\s.]|&nbsp;|$)","gim"),or=new RegExp("(^:|:$)","gim"),ar=[38,38,40,40,37,39,37,39],sr=I.Collection.extend({model:I.Model.extend({label:function(){return this.get("name")}})}),cr=x.LayoutView.extend({template:rr.a,className:"purechat-message-list-view",cannedResponseCollection:null,regions:{messages:".purechat-messages",autocomplete:".purechat-autocomplete",emojis:".purechat-emojis",emojiAutocomplete:".purechat-emoji-autocomplete"},ui:{textInput:"textarea",form:"form",userStatus:".purechat-user-status",showPrevious:".purechat-showPrevious",filePicker:".purechat-file-picker",autocomplete:".purechat-autocomplete"},templateHelpers:function(){var t=this.getOption("settings");return{isFileTransferEnabled:function(){return t.isFileTransferEnabled()},isMobile:function(){return t.useMobile()&&!t.isDesktopDimension()},isOperator:function(){return t.get("isOperator")},isInvisible:function(){return t.get("isInvisible")},iconRootUrl:function(){return Z.iconRootUrl(t.get("isDemo"))},svgHrefAttr:function(){return Z.svgHrefAttr()}}},modelEvents:{change:function(t){this.triggerMethod("roomHostChanged",t)}},events:{"keydown textarea":"keyDown","keyup textarea":"keyUp","paste textarea":"handlePaste","submit form":"postMessage","click form":function(t){"button"!==t.target.tagName.toLowerCase()&&(this.ui.textInput.get(0)&&this.ui.textInput.get(0).focus(),this.options.settings.get("isOperator")||this.hideEmojis())},"click .purechat-btn-emoji":"showEmojis","click .purechat-btn-file-transfer":"showFilePicker","change @ui.filePicker":"fileSelected","refreshAutoCompleteSource textarea":function(){var t=this.getRegion("autocomplete");if(t.hasView()){t.currentView.hide();var e=new sr(window.CurrentUser.get("cannedResponses").toAutocompleteList());t.currentView.collection=e}},"disableAutoComplete textarea":function(){this.getRegion("autocomplete").hasView()&&this.getRegion("autocomplete").reset()},"enableAutoComplete textarea":function(){this.getRegion("autocomplete").hasView()||this.renderAutocomplete()},"resize textarea":"resizeTextArea"},childEvents:{showPrevious:function(){this.trigger("showPrevious")},emojiSelected:function(t,e){var n=this.ui.textInput.val(),r=e.get("emoji");this.emojiMatch?(this.replaceEmojiAutocompleteText(r),this.hideEmojiAutocomplete()):(this.ui.textInput.val(n+e.get("emoji")).focus(),this.hideEmojis())},hideAutocomplete:function(){this.ui.autocomplete.purechatDisplay("none")},showAutocomplete:function(){var t=this.$(".purechat-send-form").outerHeight();this.ui.autocomplete.css({bottom:"".concat(t+2,"px")}),this.ui.autocomplete.purechatDisplay("block")}},getLastMessageWithId:function(t){var e=null;return this.collection.forEach((function(n){n.get("userId")&&n.get("messageId")!==t&&(e=n)})),e},initialize:function(){var t=this;window.PureChatEvents&&this.listenTo(window.PureChatEvents.bus,"dashboard:layout:chat-selected",this.onShow),this.getOption("viewController").on("widget:click",(function(e){h()(e.target).hasClass("purechat-btn-emoji")||t.hideEmojis()})),this.kCodePosition=-1},onDestroy:function(){h()(window).off("resize.ScrollToTopMobile"),this.$el.find(".purechat-message-display").off("scroll"),this.getOption("viewController").off("widget:click")},renderMessageListView:function(){var t=x.getOption(this,"chatModel"),e=x.getOption(this,"rm"),n=x.getOption(this,"settings"),r=x.getOption(this,"viewController");this.showChildView("messages",new Xn({rm:e,model:t,collection:t.get("messages"),settings:n,viewController:r,chatModel:t}))},renderEmojiView:function(){this.options.settings.get("isOperator")||this.showChildView("emojis",new hn({viewController:this.getOption("viewController"),registerClose:!0}))},renderAutocomplete:function(){var t=this,e=x.getOption(this,"rm");this.showChildView("autocomplete",new tr({collection:new sr(this.cannedResponseCollection),input:this.ui.textInput,parent:this.ui.autocomplete,widgetId:e.get("room").widgetId,onSelect:function(){return t.resizeTextArea()}}))},onRender:function(){var t=this.options.settings.get("isOperator");this.renderMessageListView(),this.renderEmojiView(),t&&(this.cannedResponseCollection=window.CurrentUser.get("cannedResponses"),0===window.CurrentUser.get("cannedResponses").length?this.cannedResponseCollection=this.options.settings.get("cannedResponses").filter((function(t){return"===separator==="!==t.content})).map((function(t){return{title:t.name,name:h()("<div/>").html(t.content).text(),widgetId:t.get("WidgetId")}})):this.cannedResponseCollection=window.CurrentUser.get("cannedResponses").toAutocompleteList(),this.renderAutocomplete()),this.getRegion("emojis").$el.purechatDisplay("none")},onShow:function(){var t=this;C.defer((function(){t.ui.textInput.is(":visible")&&t.ui.textInput.focus()}))},keyDown:function(t){this.resizeTextArea();var e=this.getRegion("emojiAutocomplete");if(t.keyCode===gt.KeyCodes.Enter&&!t.shiftKey){if(t.ctrlKey)return this.ui.textInput.val("".concat(this.ui.textInput.val(),"\n")),!0;if(e.hasView()){var n=e.currentView.getSelected();return this.replaceEmojiAutocompleteText(n.get("emoji")),this.hideEmojiAutocomplete(),!1}return this.triggerMethod("typingChange",!1),this.activity=!1,this.ui.form.submit(),!1}var r=gt.KeyCodes,i=[r.Enter,r.Escape,r.LeftArrow,r.RightArrow,r.UpArrow,r.DownArrow,r.Tab];return!(e.hasView()&&i.indexOf(t.keyCode)>-1)||(t.preventDefault(),t.stopPropagation(),!1)},keyUp:function(t){var e=this;this.typingTimeout&&(clearTimeout(this.typingTimeout),this.typingTimeout=null),this.typingTimeout=setTimeout((function(){try{var t=e.ui.textInput.val().length>0;e.activity=t,e.triggerMethod("typingChange",t)}catch(t){}}),2e3),this.ui.textInput.val()&&!this.activity&&(this.triggerMethod("typingChange",!0),this.activity=!0);var n=this.getRegion("emojiAutocomplete");if(n.hasView()){switch(t.keyCode){case gt.KeyCodes.Escape:this.hideEmojiAutocomplete();break;case gt.KeyCodes.LeftArrow:n.currentView.selectPrev();break;case gt.KeyCodes.UpArrow:n.currentView.selectUp();break;case gt.KeyCodes.RightArrow:n.currentView.selectNext();break;case gt.KeyCodes.DownArrow:n.currentView.selectDown();break;case gt.KeyCodes.Tab:t.shiftKey?n.currentView.selectPrev():n.currentView.selectNext();break;default:this.checkForEmojiAutocomplete(this.ui.textInput.val())}this.updateKCodePosition(t.keyCode)}else this.checkForEmojiAutocomplete(this.ui.textInput.val())},handlePaste:function(t){var e=this;if(this.options.settings.isFileTransferEnabled()){var n=t.originalEvent.clipboardData.items;if(n){var r=this.getOption("viewController").getDataController();Array.prototype.forEach.call(n,(function(t){if("text/plain"!==t.type||"string"!==t.kind){if(0===t.type.indexOf("image/")){var n=t.getAsFile();if(n)e.options.settings.get("isOperator")&&window.PureChatEvents?window.PureChatEvents.trigger("dashboard:chats:image-pasted",{file:n,onUpload:function(){return r.upload(n)}}):r.upload(n)}}else setTimeout((function(){return e.resizeTextArea()}),0)}))}else this.resizeTextArea()}},resizeTextArea:C.throttle((function(){var t=this,e=this.ui.textInput.get(0),n=this.options.settings.get("isOperator"),r=!n&&"InternetExplorer"===this.options.settings.get("BrowserDetails").Browser;window.requestAnimationFrame((function(){if(e){e.style.cssText="height:auto !important; padding:0 !important;";var i=e.scrollHeight-(r&&e.value.length>0?1:0),o=n?171:66;if(i!==e.offsetHeight){var a="height:".concat(i,"px !important;max-height:").concat(o,"px !important;");if((r||n)&&e.scrollHeight>o&&(a+="-ms-overflow-style:scrollbar !important;"),e.style.cssText=a,n){var s=t.$(".purechat-send-form").outerHeight();t.ui.autocomplete.css({bottom:"".concat(s+2,"px")})}}}}))}),200),convertLegacyEmotsToEmoji:function(t){var e=t;return er.forEach((function(n){if(!n.deprecated){var r=new RegExp("([\\s.]|&nbsp;|^)(".concat(n.regex,")(?=[\\s.]|&nbsp;|$)"),"gim"),i=t.match(r);i&&i.forEach((function(t){e=e.replace(t.trim(),n.emoji)}))}})),e},replaceMessageVariables:function(t){if(!x.getOption(this,"settings").get("isOperator"))return t;var e=x.getOption(this,"rm"),n=e.get("room");return n.roomType!==q.c.Visitor?t:t.replace(/{visitorName}/gi,n.visitorFirstName).replace(/{visitorEmail}/gi,n.visitorEmail).replace(/{pageName}/gi,n.visitorReferer).replace(/{websiteName}/gi,n.widgetName).replace(/{operatorName}/gi,e.get("userDisplayName")).replace(/{operatorEmail}/gi,window.CurrentUser.get("email")).replace(/{companyName}/gi,window.Session.get("Company"))},postMessage:function(t){t.stopPropagation(),t.preventDefault();var e=this.convertLegacyEmotsToEmoji(this.ui.textInput.val()),n=this.replaceMessageVariables(e);this.triggerMethod("newMessage",n),this.ui.textInput.val(""),this.ui.autocomplete.purechatDisplay("none"),this.resizeTextArea()},typing:function(t,e,n){this.model.get("participants").set({userId:t,displayName:e,isTyping:n},{remove:!1}),this.ui.userStatus.html(this.model.get("participants").getOperatorTypingText(this,this.model.get("isOperator")))},showEmojis:function(){var t=this.getRegion("emojis");t.$el.purechatDisplay("flex"),t.currentView.open()},hideEmojis:function(){var t=this.getRegion("emojis");t.$el.purechatDisplay("none"),t.currentView.close()},checkForEmojiAutocomplete:function(t){var e=t.match(ir);e&&0!==e.length?(this.emojiMatch=C.first(e).trim(),this.showEmojiAutocomplete()):this.hideEmojiAutocomplete()},showEmojiAutocomplete:function(){var t=this.getRegion("emojiAutocomplete"),e=this.emojiMatch.replace(or,"");t.hasView()&&t.currentView.destroy();var n=new yn({filter:e});this.showChildView("emojiAutocomplete",n),t.$el.purechatDisplay("flex"),t.currentView.isEmpty()&&this.hideEmojiAutocomplete()},hideEmojiAutocomplete:function(){var t=this.getRegion("emojiAutocomplete");t.hasView()&&(t.$el.purechatDisplay("none"),t.currentView.destroy(),this.emojiMatch=null)},replaceEmojiAutocompleteText:function(t){var e=this.ui.textInput.val();this.ui.textInput.val(e.replace(this.emojiMatch,t)).focus()},showFilePicker:function(){this.ui.filePicker.click()},fileSelected:function(){if(this.ui.filePicker.val()&&this.options.settings.isFileTransferEnabled()){var t=J();Array.prototype.forEach.call(this.ui.filePicker.get(0).files,(function(e){t.upload(e)})),this.ui.filePicker.val(null)}},updateKCodePosition:function(t){this.getRegion("emojiAutocomplete").hasView()?(ar[this.kCodePosition+1]===t?this.kCodePosition+=1:this.kCodePosition=-1,this.kCodePosition===ar.length-1&&(this.replaceEmojiAutocompleteText("🕹️"),this.hideEmojiAutocomplete(),this.kCodePosition=-1)):this.kCodePosition=-1}}),lr=n(53),ur=n.n(lr);function pr(t){return(pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dr(t,e,n){return(dr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gr(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function gr(t){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fr(t,e,n){return e&&mr(t.prototype,e),n&&mr(t,n),t}function yr(t,e){return(yr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var br=1e3,vr=800,wr=function(t){return h()("<div/>").html(t).text()},_r=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==pr(e)&&"function"!=typeof e?hr(t):e}(this,gr(e).call(this,t))).typing={},n.isUserAlone=!0,n.mobileAnimationInterval=null,n.noOperatorMessageTimeout=null,n.onCloseChat=C.throttle(n.onCloseChat.bind(hr(n)),vr,{trailing:!1}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yr(t,e)}(e,t),fr(e,[{key:"name",get:function(){return"chatting"}},{key:"stateSettings",get:function(){return{shouldBeInRoom:!0,UiVisiblity:{popoutButton:!0,closeButton:!0,requeueButton:!0,cannedResponsesButton:!0}}}}]),fr(e,[{key:"onEnter",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];qe.prototype.onEnter.apply(this,n);var i=this.options.get("StartChatImmediately"),o=this.options.get("RequestFromMobileDevice")&&(this.options.get("poppedOut")||this.options.get("isDirectAccess"));this.getWidgetView().$el.purechatDisplay();var a=this.getChatModel();a.set({RequestFromMobileDevice:this.options.get("RequestFromMobileDevice")}),this.messageView=new cr({rm:this.getResources(),model:a,collection:this.getChatModel().get("messages"),settings:this.getWidgetSettings(),viewController:this.getViewController(),chatModel:this.getChatModel()}),this.getWidgetView().showChildView("content",this.messageView),this.listenTo(this.messageView,"showPrevious",(function(){t.chatModel.get("PreviousTranscriptId")&&t.getDataController().getPreviousChat({chatId:t.chatModel.get("PreviousTranscriptId")}).done((function(e){t.appendPreviousChatResults(e)}))}));var s=this.getDataController().connectionInfo.get("roomId"),c=this.getDataController().getOption("widgetId"),l=this.settings.get("AccountId"),u=this.getDataController().connectionInfo.get("chatServerUrl");Y.a.log(Y.a.LEVELS.DEBUG,"Attempting to connect to chat server WidgetId: ".concat(c,", ChatId: ").concat(s,", AccountId: ").concat(l),"",!1,u,""),this.getDataController().connectToChatServer(this).done((function(){try{var e=t.chatModel.get("operators")&&t.chatModel.get("operators").length>0,n=t.status&&t.status.initialData&&t.status.initialData.initiator&&1===t.status.initialData.initiator;if(!t.chatModel.get("isOperator")&&!e&&!n){var r=new Date;r.setTime(0),t.chatModel.get("messages").add({date:r,type:i?gt.MessageTypes.Message:gt.MessageTypes.Note,message:t.getResource("chat_startedMessage"),resourceKey:"chat_startedMessage",avatarUrl:o?ur.a:null})}C.isFunction(t.getDataController().setCurrentPage)&&!t.options.get("isOperator")&&t.getDataController().setCurrentPage(document.location.href),t.messageView.on("newMessage",(function(e){return t.getDataController().newMessage(e)})),t.listenTo(t.messageView,"typingChange",(function(e){return t.getDataController().setTypingIndicator(e)})),t.getWidgetView().$el.find(".purechat-start-chat-button-container button").html('Back to Chat<i style="margin-left: .5em;" class="fa fa-chevron-right"></i>'),t.getWidgetView().onShow(),t.getDataController().sendRoomHistory(),t.getViewController().trigger("stateChanged",gt.WidgetStates.Chatting),t.settings.get("RequestFromMobileDevice")&&t.settings.get("MobileDisplayType")===gt.MobileDisplayTypes.MobileOptimized&&(h()(window).trigger("resize.ResizeChatContent"),t.getWidgetView().$el.find(".purechat-send-form-message").off("blur.ResizeWindow").on("blur.ResizeWindow",(function(){h()(window).trigger("resize.ResizeChatContent")})),t.options.get("isDirectAccess")&&h()(".direct-container-header").purechatDisplay("none")),t.getWidgetView().trigger("resized");var s=t.options.get("room");if(s&&s.closed)return void a.set("state",gt.WidgetStates.Closed);t.getViewController().trigger("chat:start",a.pick(["visitorEmail","visitorName","visitorPhoneNumber","visitorQuestion","visitorFirstName","visitorLastName","visitorCompany"]));var c=t.getWidgetSettings();if(t.isUserAlone&&!t.chatModel.get("isOperator")&&!c.get("StartChatAutomatically")&&!c.get("AskForQuestion")){t.noOperatorMessageTimeout||(t.noOperatorMessageTimeout=setTimeout((function(){var e=new Date;e=t.convertToUserTime(e),t.chatModel.get("messages").add({date:e,type:gt.MessageTypes.Note,message:C.escape(t.getResource("chat_noOperatorMessage")),resourceKey:"chat_noOperatorMessage",isClosedChat:!1}),t.chatModel.set("noOperatorMessageSeen",!0)}),1e3*c.get("NoOperatorMessageTimeout")))}if(t.options.get("room")&&1!==t.options.get("room").roomType&&!t.options.get("room").isDemo)t.getDataController().getPreviousChat({chatId:t.options.get("room")?t.options.get("room").id:-1}).done((function(e){e&&t.appendPreviousChatResults(e)}))}catch(t){}})).fail((function(e){t.getDataController().connectionInfo.clearLocalStorage(),t.getChatModel().set("state",gt.WidgetStates.Inactive),t.logFailedConnection(e)})),a.on("roomHostChanged",(function(){var e=a.get("roomHostAvatarUrl"),n=a.get("roomHostName");t.getWidgetView().showRoomHostAvatar(e),t.updateRoomHostName(n)}))}},{key:"updateRoomHostName",value:function(t){var e=this.getWidgetView();if(t)e.setExpandedTitle(this.getResource("chat_nowChattingWith",{chatUserNames:[t]}),"chat_nowChattingWith");else{var n=this.getInitialTitleResourceKey();e.setExpandedTitle(this.getResource(n),null,n)}}},{key:"onSelectionShow",value:function(){this.messageView.getChildView("messages").updateScroll()}},{key:"appendPreviousChatResults",value:function(t,e){var n=this;t&&t.forEach((function(t){var r=null,i=null,o=0;if(t.Records.forEach((function(t){function a(){t.Type===gt.MessageTypes.Join?n.onJoined(t.UserId,t.Name,-1,t.Name,t.DateCreatedJsTicks/br,!0,!0):t.Type===gt.MessageTypes.Leave?n.onLeft(t.UserId,t.Name,-1,t.Name,t.DateCreatedJsTicks/br,!0,!0):n.onMessage({userId:t.UserId,userDisplayName:t.Name,roomId:-1,roomDisplayName:t.Name,time:t.DateCreatedJsTicks/br,message:t.Message,isHistory:!0,timeElpased:0,protocolVersion:0,avatarUrl:t.AvatarUrl,fromOperator:t.UserId>0,roomUtcOffset:0,type:t.Type,messageId:0,isClosedChat:!0})}e?(setTimeout(a,o),o+=e):a(),r="".concat(t.DateCreatedString," at ").concat(t.TimeCreatedString),i=t})),null!==r){var a=new Date;a.setTime(i.DateCreatedJsTicks);var s=function(){a=n.convertToUserTime(a),n.chatModel.get("messages").add({date:a,type:gt.MessageTypes.Separator,message:r,isClosedChat:!0})};e?(setTimeout(s,o),o+=e):s()}n.chatModel.set("PreviousTranscriptId",t.Id),t.PreviousTranscriptId?n.chatModel.set("HasMoreTransactions",!0):n.chatModel.set("HasMoreTransactions",!1)}))}},{key:"onExit",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];qe.prototype.onExit.apply(this,e),this.chatModel.get("operators").reset(),this.chatModel.get("participants").reset(),this.unbindEvents&&this.unbindEvents(),this.getDataController().unbindHandlerEvents()}},{key:"onRoomChanged",value:function(t){this.onRoomDetailsChanged(t.room)}},{key:"onCloseChat",value:function(){var t=this,e=this.getWidgetSettings(),n=e.useMobile()&&!e.isDesktopDimension(),r=function(t){t.noOperatorMessageTimeout&&(clearTimeout(t.noOperatorMessageTimeout),t.noOperatorMessageTimeout=null),t.getDataController().closeChat().done((function(){return t.getChatModel().set("state",gt.WidgetStates.Closed)}))};n?setTimeout((function(){window.confirm("Are you sure you want to end this chat?")&&r(t)}),500):r(this)}},{key:"onExpanded",value:function(){}},{key:"flashMobileNotificationIcon",value:function(){var t=this;if(this.settings.get("RequestFromMobileDevice")&&this.settings.get("MobileDisplayType")===gt.MobileDisplayTypes.MobileOptimized&&"number"!=typeof this.mobileAnimationInterval){var e=this.getWidgetView().$el,n=e.hasClass("purechat-widget-collapsed")&&e.find(".purechat-expanded").is(":visible")?e:[];if(n.length>0){var r=e.find(".purechat-title-image-out-of-way-hilight").filter(":visible");r.addClass("flash");var i=!0;this.mobileAnimationInterval=setInterval((function(){i?(r.removeClass("flash"),i=!1):(r.addClass("flash"),i=!0)}),1e3),n.off("click.StopNotification").on("click.StopNotification",(function(e){var i=h()(e.currentTarget);t.mobileAnimationInterval=clearInterval(t.mobileAnimationInterval),r.removeClass("flash"),n.off("click.StopNotification"),i.trigger("click")}))}}}},{key:"convertToUserTime",value:function(t){if(this.chatModel&&this.chatModel.get&&this.chatModel.get("isOperator")){var e=window.CurrentUser.get("isInDaylightSavings"),n=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(n.getTime()+6e4*(window.CurrentUser.get("accountUtcOffset")+(e?60:0)))}return t}},{key:"onMessage",value:function(t){var e=this;if(t.id){var n=this.chatModel.get("messages").findWhere({id:t.id});if(n)return void n.set(t)}if(this.chatModel.get("isOperator")&&t.userId!=this.chatModel.get("userId")&&notifier.notify("New message!"),t.type!==gt.MessageTypes.Message||null!==t.message&&"string"==typeof t.message){var r=new Date;r.setTime(1e3*t.time),r=this.convertToUserTime(r);var i={id:t.id,date:r,type:t.type,message:t.message,userName:t.userDisplayName,myMessage:t.userId===this.chatModel.get("userId"),time:Z.toHourMinuteString(r),avatarUrl:t.avatarUrl,fromOperator:t.fromOperator,visitorAvatarUrl:this.settings.get("room")&&this.settings.get("room").visitorAvatarUrl?this.settings.get("room").visitorGravatarHash:"",rootUrl:this.chatModel.get("cdnServerUrl"),userId:t.userId,messageId:t.messageId,isClosedChat:t.isClosedChat};i.type===gt.MessageTypes.File&&(i.status=t.status),this.chatModel.get("messages").add(i),t.userId==this.chatModel.get("userId")||t.isHistory||V.events.trigger("notifications:newMessage")}var o=this.getWidgetSettings(),a=o.useMobile()&&!o.isDesktopDimension(),s=o.get("isDemo"),c=this.chatModel.get("expanded");if(this.chatModel.get("userId")==t.userId||0!=this.chatModel.get("isOperator")||1!=this.chatModel.get("isWidget")||(c||a)&&!a||s||0!=t.isHistory||this.getWidgetView().flashNotification(t.message),c||t.isHistory||this.getWidgetView().incrementMissedMessageCount(),this.isUserAlone&&!this.chatModel.get("isOperator")&&t.message!==this.chatModel.get("Question")&&2===this.chatModel.get("messages").length){var l=function(){var n=new Date;s&&n.setTime(1e3*t.time+1),n=e.convertToUserTime(n),e.chatModel.get("messages").add({date:n,type:gt.MessageTypes.Note,message:C.escape(e.getResource("chat_noOperatorMessage")),resourceKey:"chat_noOperatorMessage",isClosedChat:t.isClosedChat}),e.chatModel.set("noOperatorMessageSeen",!0)};s?l():this.noOperatorMessageTimeout||(this.noOperatorMessageTimeout=setTimeout(l,1e3*o.get("NoOperatorMessageTimeout")))}h()("body").trigger("ChatMessageAdded"),this.flashMobileNotificationIcon()}},{key:"onDeleteMessage",value:function(t){var e=this.chatModel.get("messages"),n=e.findWhere({id:t.messageId})||e.findWhere({serverId:t.messageId})||e.findWhere({id:parseInt(t.messageId,10)});n&&e.remove(n)}},{key:"onTyping",value:function(t,e,n,r,i,o){this.messageView.typing(t,e,i)}},{key:"onRoomClosed",value:function(t){this.options.get("isOperator")||localStorage.roomId||this.getDataController().connectionInfo.get("roomId")!=t||this.onCloseChat(!0)}},{key:"onRoomDestroyed",value:function(t,e,n,r){this.chatModel.set("closedReasonCode",r),r===gt.ClosedReasonCodes.NoOperatorJoined?this.chatModel.set("state",gt.WidgetStates.EmailForm):this.chatModel.set("state",gt.WidgetStates.Closed)}},{key:"onUserDestroyed",value:function(){this.chatModel.set("state",gt.WidgetStates.Closed)}},{key:"onRoomDetailsChanged",value:function(t){this.chatModel.set({roomHostAvatarUrl:t.roomHostAvatarUrl||null,roomHostName:t.roomHostName||null,visitorEmail:t.visitorEmail||this.chatModel.get("visitorEmail"),visitorName:t.visitorName||this.chatModel.get("visitorName"),visitorPhoneNumber:t.visitorPhoneNumber||this.chatModel.get("visitorPhoneNumber"),visitorFirstName:t.visitorFirstName||this.chatModel.get("visitorFirstName"),visitorLastName:t.visitorLastName||this.chatModel.get("visitorLastName"),visitorCompany:t.visitorCompany||this.chatModel.get("visitorCompany")}),this.getViewController().triggerRoomChangedForApi()}},{key:"onJoined",value:function(t,e,n,r,i,o,a){var s=t!==this.chatModel.get("userId");if(!this.chatModel.get("operators").find({userId:t})){if(this.chatModel.get("isOperator")||s){var c=new Date;c.setTime(1e3*i),c=this.convertToUserTime(c),this.chatModel.get("messages").add({date:c,type:gt.MessageTypes.Separator,important:!0,message:wr(C.escape(this.getResource("chat_joinMessage",{displayName:h.a.trim(e)}))),userName:e,resourceKey:"chat_joinMessage",time:Z.toHourMinuteString(c),isClosedChat:a})}if(s)if(this.isUserAlone=!1,this.noOperatorMessageTimeout&&(clearTimeout(this.noOperatorMessageTimeout),this.noOperatorMessageTimeout=null),this.chatModel.get("operators").add({userDisplayName:e,userId:t}),this.chatModel.get("operators").length>0){if(!this.chatModel.get("isOperator")&&(this.getWidgetView().setExpandedTitle(wr(this.getResource("chat_nowChattingWith",{chatUserNames:this.chatModel.chatUserNames()})),"chat_nowChattingWith"),!this.getWidgetView().widgetShown())){var l=this.getTitleResourceKey();this.getWidgetView().setCollapsedTitle(wr(this.getResource(l)),l)}}else this.isUserAlone=!0}}},{key:"onLeft",value:function(t,e,n,r,i,o,a){var s=t!==this.chatModel.get("userId");if(this.chatModel.get("isOperator")||s){var c=new Date;c.setTime(1e3*i),c=this.convertToUserTime(c),this.chatModel.get("messages").add({date:c,type:gt.MessageTypes.Separator,message:this.getResource("chat_leftMessage",{displayName:h.a.trim(e)}),resourceKey:"chat_leftMessage",time:Z.toHourMinuteString(c),isClosedChat:a})}if(s)if(this.chatModel.get("operators").remove(t),!this.chatModel.get("isOperator")&&this.chatModel.chatUserNames().length>0)this.getWidgetView().setTitle(wr(this.getResource("chat_nowChattingWith",{chatUserNames:this.chatModel.chatUserNames()})),"chat_nowChattingWith");else{var l=this.getInitialTitleResourceKey();this.getWidgetView().setTitle(wr(this.getResource(l)),l)}}},{key:"getTitleResourceKey",value:function(){var t=this.getWidgetSettings(),e=t.useMobile()&&!t.isDesktopDimension(),n=this.chatModel.get("operatorsAvailable");return e?n?"mobile_title_initial":"mobile_title_unavailable_initial":n?"title_initial":"title_unavailable_initial"}},{key:"logFailedConnection",value:function(t){var e=this.settings.get("AccountId"),n=this.getDataController().connectionInfo.get("roomId"),r=this.chatModel.get("userId"),i=this.getDataController().connectionInfo.get("chatServerUrl"),o="Failed to connect to chat server. Account: ".concat(e,"; ChatId: ").concat(n,"; User: ").concat(r,"; Error: ").concat(JSON.stringify(t));Y.a.log(Y.a.LEVELS.DEBUG,o,"",!1,i,"")}},{key:"destroy",value:function(){this.stopListening(this.messageView),dr(gr(e.prototype),"destroy",this).call(this)}},{key:"onDisconnected",value:function(){this.getWidgetView().showDisconnect()}},{key:"onConnected",value:function(){this.getWidgetView().hideDisconnect()}}]),e}(qe);window.PureChatEvents&&window.PureChatEvents.on("roomclosed",(function(t){void 0!==window._pcwi&&window._pcwi.state.triggerMethod("roomClosed",t)}));var Cr=_r,Ir=ft.extend({sortOrder:gt.MessageSortOrders.Closed,defaults:{date:new Date,message:"Thanks for chatting!",resourceKey:"chat_closedMessage",type:gt.MessageTypes.Closed}});function xr(t){return(xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jr(t,e){return!e||"object"!==xr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sr(t,e,n){return(Sr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ar(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Ar(t){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tr(t,e){return(Tr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Or=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),jr(this,Ar(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tr(t,e)}(e,t),n=e,(r=[{key:"handleRoomClose",value:function(t,e){var n=this,r=null!=t&&"string"==typeof t.visitorIPAddress?t.visitorIPAddress:"",i=null!=t&&t.Id?t.Id:-1,o=null!=e&&"string"==typeof e.name?e.name:"",a=null!=e&&"string"===e.visitorReferer?e.visitorReferer:"",s=null!=e&&void 0!==e.id?e.id:"",c=this.options.get("isOperator");c&&e.roomType&&e.roomType===q.c.Visitor&&h.a.ajax({url:"".concat(this.options.get("apiServerUrl"),"/ExternalApps"),type:"GET",data:{chatId:this.getDataController().connectionInfo.get("roomId")}}).done((function(t){var e=h()(n.getWidgetView().el);C.each(t,(function(t,n){var r=e.find("#export-".concat(n));t?r.purechatDisplay():r.purechatDisplay("none")}))})),this.getWidgetView().$el.purechatDisplay(),localStorage.expanded=!1,this.getDataController().connectionInfo.set("chatClosed",!0),this.getDataController().connectionInfo.set("chatServerUrl",null),this.getDataController().connectionInfo.set("lastActivity",null),this.getDataController().connectionInfo.persistLocalStorage(),this.getWidgetView().setExpandedTitle(this.getResource("title_chatClosed"),"title_chatClosed");var l=this.getTitleResourceKey();this.getWidgetView().setCollapsedTitle(this.getResource(l),l),this.getWidgetView().clearRoomHostAvatar(),this.getWidgetView().onShow();var u=new I.Model({isOperator:c,roomId:s,visitorIPAddress:r,visitorIPAddressId:i,visitorName:o,visitorReferrer:a,closedReasonCode:this.chatModel.get("closedReasonCode")});c?u.set({GoogId:"",GaTrackingTab:!1,GaTrackingChat:!1,GaTrackingEmail:!1,GaTrackingThumbs:!1,GAUpThumbEvent:!1,GADownThumbEvent:!1,GAEventCategory:!1,UsingGa:!1}):u.set({GoogId:this.getWidgetSettings().get("GoogId"),GaTrackingTab:this.getWidgetSettings().get("GaTrackingTab"),GaTrackingChat:this.getWidgetSettings().get("GaTrackingChat"),GaTrackingEmail:this.getWidgetSettings().get("GaTrackingEmail"),GaTrackingThumbs:this.getWidgetSettings().get("GaTrackingThumbs"),GAUpThumbEvent:this.getWidgetSettings().get("GAUpThumbEvent"),GADownThumbEvent:this.getWidgetSettings().get("GADownThumbEvent"),GAEventCategory:this.getWidgetSettings().get("GAEventCategory"),UsingGa:this.getWidgetSettings().get("UsingGa"),AskForRating:this.getWidgetSettings().get("AskForRating"),CtaButton:this.getWidgetSettings().get("CtaButton"),DownloadTranscript:this.getWidgetSettings().get("DownloadTranscript")}),this._initialCollection=x.getOption(this,"chatModel").get("messages");var p,d={rm:this.getResources(),model:u,collection:this._initialCollection,settings:this.options,viewController:this.getViewController(),chatModel:this.getChatModel()};if(this.closeMessage=c?new window.ClosedOperatorView(d):new Xn(d),this.listenTo(this.closeMessage,"chat:rated",(function(t){n.getDataController().rateChat(t),t?Z.GaEvent(n.getWidgetSettings(),"GaTrackingThumbs","GAUpThumbEvent"):Z.GaEvent(n.getWidgetSettings(),"GaTrackingThumbs","GADownThumbEvent"),n.getViewController().triggerResizedEvent(),n.getViewController().trigger("chat:rate",{rating:t})})),this.getWidgetView().showChildView("content",this.closeMessage),!c){var g=new Date;this._initialCollection.add({date:g,type:gt.MessageTypes.Separator,important:!0,message:(p=C.escape(this.getResource("title_chatClosed")),h()("<div/>").html(p).text()),resourceKey:"title_chatClosed",time:Z.toHourMinuteString(g),isClosedChat:!0}),this._initialCollection.add(new Ir)}this.chatModel.set({roomHostAvatarUrl:null,roomHostName:null}),this.options.get("isDirectAccess")&&h()(".direct-container-header").purechatDisplay("block"),V.events.trigger("footer:hide"),C.isFunction(this.getDataController().unbindHandlerEvents)&&this.getDataController().unbindHandlerEvents(),this.getViewController().trigger("chat:end",this.chatModel.pick(["visitorEmail","visitorName","visitorPhoneNumber","visitorQuestion","visitorFirstName","visitorLastName","visitorCompany"]))}},{key:"onSelectionShow",value:function(){this.closeMessage&&this.closeMessage.updateScroll&&this.closeMessage.updateScroll()}},{key:"onEnter",value:function(){var t=this;qe.prototype.onEnter.apply(this,arguments);var e=this.options.get("room")||{},n=Number(e.id);if(this.getWidgetView().chatAutoStarted=!1,this.chatModel.get("isOperator"))isNaN(n)?this.handleRoomClose(null,e):h.a.ajax({type:"get",dataType:"json",url:"".concat(this.options.get("apiServerUrl"),"/api/Widgets/GetVisitorIPAddress/").concat(e.id||-1)}).done((function(n){return t.handleRoomClose(n,e)}));else{var r="".concat(L.a.authCookieName,"Visitor");document.cookie="".concat(r,"=; Domain=.purechat.com; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"),this.handleRoomClose(null,null)}}},{key:"onExport",value:function(t){window.PureChatEvents.trigger("export:".concat(t.app),{chatId:this.options.get("room").id,visitorEmail:this.options.get("room").visitorEmail,visitorName:this.options.get("room").visitorName})}},{key:"onRestartChat",value:function(){var t=this,e=this.getDataController().checkInRoom();localStorage.expanded=!0,this.syncWithContact().done((function(){e?t.getChatModel().set("state",gt.WidgetStates.Activating):t.getDataController().restartChat().done((function(){t.getChatModel().restartChat(),t.getViewController().resetVisitorQuestion(),t.getViewController().trigger("widget:restart")}))}))}},{key:"getTitleResourceKey",value:function(){var t=this.getWidgetSettings(),e=t.useMobile()&&!t.isDesktopDimension(),n=this.chatModel.get("operatorsAvailable");return e?n?"mobile_title_initial":"mobile_title_unavailable_initial":n?"title_initial":"title_unavailable_initial"}},{key:"destroy",value:function(){this.stopListening(this.closeMessage),Sr(Ar(e.prototype),"destroy",this).call(this)}},{key:"name",get:function(){return"closed"}},{key:"stateSettings",get:function(){return{shouldBeInRoom:!1,UiVisiblity:{restartButton:!0,removeWidgetButton:!0}}}}])&&kr(n.prototype,r),i&&kr(n,i),e}(qe);function Pr(t){return(Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mr(t,e){return!e||"object"!==Pr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wr(t){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Er(t,e){return(Er=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Nr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Mr(this,Wr(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Er(t,e)}(e,t),n=e,(r=[{key:"getRequiredSetting",value:function(t){var e=this.getWidgetSettings().get(t);return void 0===e||Boolean(e)}},{key:"buildInitialQuestionFromMessageList",value:function(){var t=this.chatModel.get("userId");return this.chatModel.get("messages").filter((function(e){return e.get("userId")===t})).reduce((function(t,e){return 0===t.length?e.get("message"):"".concat(t," ").concat(e.get("message"))}),"")}},{key:"onEnter",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];qe.prototype.onEnter.apply(this,n);var i=this.buildInitialQuestionFromMessageList(),o=this.getWidgetView();this.getDataController().connectionInfo.set("chatClosed",!0),this.getDataController().connectionInfo.set("lastActivity",null),this.getDataController().connectionInfo.persistLocalStorage(),this.getWidgetView().setTitle(this.getResource("title_emailForm"),"title_emailForm");var a=new I.Model({EmailForm:!0,InitialVisitorName:this.getViewController().getChatModel().get("visitorName")||"",InitialVisitorFirstName:this.getViewController().getChatModel().get("visitorFirstName")||"",InitialVisitorLastName:this.getViewController().getChatModel().get("visitorLastName")||"",InitialVisitorCompany:this.getViewController().getChatModel().get("visitorCompany")||"",InitialVisitorEmail:this.getViewController().getChatModel().get("visitorEmail")||"",InitialVisitorQuestion:i||this.getViewController().getChatModel().get("visitorQuestion")||"",InitialVisitorPhoneNumber:this.getViewController().getChatModel().get("visitorPhoneNumber")||"",RequireFirstName:this.getRequiredSetting("RequireFirstName"),RequireLastName:this.getRequiredSetting("RequireLastName"),RequireCompany:this.getRequiredSetting("RequireCompany"),RequirePhoneNumber:this.getRequiredSetting("RequirePhoneNumber"),RequireEmail:this.getRequiredSetting("RequireEmail"),RequireQuestion:this.getRequiredSetting("RequireQuestion")});a.on("formSubmit",(function(e){var n=h()(t.getWidgetView().el).find(".purechat-form.purechat-email-form");V.events.trigger("widget:spinner:show"),t.getDataController().submitEmailForm(e).done((function(r){if(r.success){var i=new ce({rm:t.getResources(),model:a});t.getWidgetView().showChildView("content",i),t.getWidgetView().ui.restartButton.purechatDisplay("inline-block"),t.getWidgetView().$el.find(".purechat-btn-restart").on("click.RestartChat",(function(e){t.restartChat.call(t,e)})),t.getViewController().trigger("email:send",e)}else n.find(".purechat-email-error").purechatDisplay("block")})).always((function(){V.events.trigger("widget:spinner:hide")}))})),this.listenTo(this.getViewController().getChatModel(),"change",(function(t){a.set({InitialVisitorName:t.get("visitorName")||"",InitialVisitorFirstName:t.get("visitorFirstName")||"",InitialVisitorLastName:t.get("visitorLastName")||"",InitialVisitorEmail:t.get("visitorEmail")||"",InitialVisitorCompany:t.get("visitorCompany")||"",InitialVisitorQuestion:t.get("visitorQuestion")||"",InitialVisitorPhoneNumber:t.get("visitorPhoneNumber")||""})}));var s=this.options.get("isDemo"),c="PCStateEmailForm"!==this.options.get("requestedState");this.options.fromMissed=c&&!s;var l=new oe({viewController:this.getViewController(),rm:this.getResources(),settings:this.options,chatModel:this.chatModel,model:a});o.showChildView("content",l),o.onShow()}},{key:"onExpanded",value:function(){this.getWidgetView().setTitle(this.getResource("title_emailForm"),"title_emailForm")}},{key:"onCollapsed",value:function(){var t=this.getInitialTitleResourceKey();this.getWidgetView().setTitle(this.getResource(t))}},{key:"restartChat",value:function(t){var e=this;t.stopPropagation(),h()(t.currentTarget).off("click.RestartChat"),this.getDataController().restartChat().done((function(){e.getChatModel().restartChat(),e.getViewController().resetVisitorQuestion(),e.getViewController().trigger("widget:restart")})).fail((function(){throw new Error("Failed to send email. Please try again!")}))}},{key:"onExit",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];qe.prototype.onExit.apply(this,e),this.unbindEvents&&this.unbindEvents()}},{key:"name",get:function(){return"emailForm"}},{key:"stateSettings",get:function(){return{UiVisibility:{popoutButton:!0,closeButton:!0,requeueButton:!0}}}}])&&Rr(n.prototype,r),i&&Rr(n,i),e}(qe),Dr=n(133),Ur=n.n(Dr),Br=x.ItemView.extend({template:Ur.a,className:"purechat-start-chat-form purechat-card",events:{"submit form":"startChatSubmit","keydown textarea":"keyDown","change @ui.userDisplayFirstName":"triggerFirstNameChange","change @ui.userDisplayLastName":"triggerLastNameChange","change @ui.userCompany":"triggerCompanyChange","change @ui.email":"triggerEmailChange","change @ui.question":"triggerQuestionChange","change @ui.phoneNumber":"triggerPhoneNumberChange"},modelEvents:{change:"render"},ui:{form:".purechat-form",userDisplayName:".purechat-name-input",userDisplayFirstName:".purechat-firstname-input",userDisplayLastName:".purechat-lastname-input",userDisplayCompany:".purechat-company-input",email:".purechat-email-input",question:".purechat-question-input",userDisplayNameError:".please-entername",emailError:".please-enteremail",questionError:".please-enterquestion",phoneNumber:".purechat-phonenumber-input",unavailablePhoneNumber:".purechat-unavailablephone-input",phoneNumberError:".please-enterphonenumber",unavailablePhoneError:".please-enterunavailablephone",userDisplayFirstNameError:".please-enterfirstname",userDisplayLastNameError:".please-enterlastname",userDisplayCompanyError:".please-entercompany"},keyDown:function(){},triggerFirstNameChange:function(){var t=h.a.trim(this.ui.userDisplayFirstName.val());this.options.viewController.getChatModel().set("visitorFirstName",t,{silent:!0})},triggerLastNameChange:function(){var t=h.a.trim(this.ui.userDisplayLastName.val());this.options.viewController.getChatModel().set("visitorLastName",t,{silent:!0})},triggerCompanyChange:function(){var t=h.a.trim(this.ui.userDisplayCompany.val());this.options.viewController.getChatModel().set("visitorCompany",t,{silent:!0})},triggerEmailChange:function(){var t=h.a.trim(this.ui.email.val());this.options.viewController.getChatModel().set("visitorEmail",t,{silent:!0})},triggerPhoneNumberChange:function(){var t=h.a.trim(this.ui.phoneNumber.val());this.options.viewController.getChatModel().set("visitorPhoneNumber",t,{silent:!0})},triggerQuestionChange:function(){var t=this.ui.question.val();this.options.viewController.getChatModel().set("visitorQuestion",t,{silent:!0})},startChatSubmit:function(t){try{t.preventDefault(),this.ui.form.prop("disabled",!0);var e=x.getOption(this,"FormType"),n=this.model.get("EmailForm"),r=this.options.settings.get("StartChatImmediately"),i=n?this.model.get("EmailFormAskForFirstName"):this.model.get("AskForFirstName")&&!r,o=n?this.model.get("EmailFormAskForLastName"):this.model.get("AskForLastName")&&!r,a=n?this.model.get("EmailFormAskForCompany"):this.model.get("AskForCompany")&&!r,s=n?this.model.get("EmaiLFormAskForPhoneNumber"):this.model.get("AskForPhoneNumber")&&!r,c=this.model.get("AskForEmail")&&(n||!r),l=this.model.get("AskForQuestion")||r,u=null,p=null;i&&(p=h.a.trim(this.ui.userDisplayFirstName.val()));var d=null;o&&(d=h.a.trim(this.ui.userDisplayLastName.val()));var g=null;a&&(g=h.a.trim(this.ui.userDisplayCompany.val()));var m=null;(c||"email"===e)&&(m=this.ui.email.val());var f=this.ui.question.val()||this.model.get("InitialVisitorQuestion");if(this.ui.form.find('[class*="please"]').purechatDisplay("none"),"string"==typeof p&&0===p.length&&this.model.get("RequireFirstName"))return this.ui.userDisplayFirstNameError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;if("string"==typeof d&&0===d.length&&this.model.get("RequireLastName"))return this.ui.userDisplayLastNameError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;if("string"==typeof m&&0===m.length&&this.model.get("RequireEmail"))return this.ui.emailError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;if("string"==typeof g&&0===g.length&&this.model.get("RequireCompany"))return this.ui.userDisplayCompanyError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;var y=this.ui.phoneNumber.val()||this.ui.unavailablePhoneNumber.val()||this.model.get("InitialVisitorPhoneNumber");if("email"===e&&s){if(0===y.length&&this.model.get("RequirePhoneNumber"))return this.ui.unavailablePhoneError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;this.ui.unavailablePhoneError.purechatDisplay("none"),this.options.viewController.triggerResizedEvent(),this.ui.unavailablePhoneNumber.val(y)}else if(s){if(0===y.length&&this.model.get("RequirePhoneNumber"))return this.ui.phoneNumberError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;this.ui.phoneNumberError.purechatDisplay("none"),this.options.viewController.triggerResizedEvent(),this.ui.phoneNumber.val(y)}if(l&&(null===f||""===h.a.trim(f))&&this.model.get("RequireQuestion"))return this.ui.questionError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;p=p||this.options.viewController.getPublicApi().get("visitor_firstName")||this.model.get("InitialVisitorFirstName"),d=d||this.options.viewController.getPublicApi().get("visitor_lastName")||this.model.get("InitialVisitorLastName"),g=g||this.options.viewController.getPublicApi().get("visitor_company")||this.model.get("InitialVisitorCompany"),m=m||this.options.viewController.getPublicApi().get("visitor_email")||this.model.get("InitialVisitorEmail"),f=f||this.options.viewController.getPublicApi().get("visitor_question"),y=y||this.options.viewController.getPublicApi().get("visitor_phonenumber"),p||d||(u="Visitor",p="Visitor"),u=h.a.trim("".concat(p," ").concat(d)),this.model.set({Name:u,FirstName:p,LastName:d,Company:g,Email:m,Question:f,PhoneNumber:y}),this.model.trigger("formSubmit",{visitorName:Z.escapeHtml(Z.stripDangerousTags(u||""),!0),visitorFirstName:Z.escapeHtml(Z.stripDangerousTags(p||""),!0),visitorLastName:Z.escapeHtml(Z.stripDangerousTags(d||""),!0),visitorCompany:Z.escapeHtml(Z.stripDangerousTags(g||""),!0),visitorEmail:Z.escapeHtml(Z.stripDangerousTags(m||""),!0),visitorQuestion:Z.escapeHtml(Z.stripDangerousTags(f||""),!1),visitorPhoneNumber:Z.escapeHtml(Z.stripDangerousTags(y||""),!0)})}finally{this.ui.form.prop("disabled",!0)}},isMobile:function(){return this.options.settings.useMobile()&&this.options.settings.isDesktopDimension()},initialize:function(){this.startChatSubmit=C.debounce(this.startChatSubmit.bind(this),1e3,!0)}}),Zr=n(134),Hr=n.n(Zr),Vr=Br.extend({template:Hr.a,className:"purechat-start-chat-formauto",templateHelpers:function(){var t=this;return{isMobile:function(){return t.isMobile()},personalAvatarUrl:function(){return void 0!==window.personalAvatarUrl?window.personalAvatarUrl:ur.a}}},isMobile:function(){return this.options.settings.useMobile()&&!this.options.settings.isDesktopDimension()},format:function(t){var e=Z.formatWhitespace(t.replace(/\n/g," <br/> "));return Z.linkify(e)},keyDown:function(t){return!(t.keyCode===gt.KeyCodes.Enter&&!t.shiftKey)||(t.ctrlKey?(this.ui.question.val(this.ui.question.val()+"\n"),!0):(this.startChatSubmit(t),!1))},initialize:function(){var t=this;this._originalOnRender=this.onRender,this.onRender=function(){return t._originalOnRender()}},onRender:function(){var t=this,e=this.$(".purechat-new-thought").html();this.$(".purechat-new-thought").html(this.format(e)),this.getOption("settings").on("change",(function(){var e=t.getOption("settings").get("StringResources").chat_startedMessage;t.$(".purechat-new-thought").html(t.format(e))}))}});function zr(t){return(zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fr(t,e){return!e||"object"!==zr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yr(t,e,n){return(Yr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gr(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Gr(t){return(Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xr(t,e){return(Xr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Jr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Fr(this,Gr(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xr(t,e)}(e,t),n=e,(r=[{key:"getRequiredSetting",value:function(t){var e=this.getWidgetSettings().get(t);return void 0===e||Boolean(e)}},{key:"onEnter",value:function(){var t=this;qe.prototype.onEnter.apply(this,arguments),this.getDataController().checkChatAvailable().done((function(e){var n=t.getViewController().getChatModel();t.getWidgetView().$el.find(".purechat-start-chat-button-container button").html("Start Chat"),e.available||"WidgetDisabled"!==e.reason&&"ChatQuotaExceeded"!==e.reason&&"IpIsbanned"!==e.reason||t.getWidgetSettings().set("UnavailableBehavior",gt.UnavailableBehaviors.ShowMessage),n.set("operatorsAvailable",e.available);var r=t.options.get("isDemo")&&t.options.get("requestedState")===gt.WidgetStates.EmailForm;if(e.available){t.getWidgetView().onShow();var i=t.getWidgetSettings(),o=i.useMobile()&&!i.isDesktopDimension(),a=t.getInitialTitleResourceKey();o&&!t.getWidgetView().widgetShown()?t.getWidgetView().setTitle(t.getResource(a),a):t.getWidgetView().setExpandedTitle(t.getResource(a),a);var s=new I.Model({AskForFirstName:t.getWidgetSettings().get("AskForFirstName"),AskForLastName:t.getWidgetSettings().get("AskForLastName"),AskForEmail:t.getWidgetSettings().get("AskForEmail"),AskForCompany:t.getWidgetSettings().get("AskForCompany"),AskForQuestion:t.getWidgetSettings().get("AskForQuestion"),AskForPhoneNumber:t.getWidgetSettings().get("AskForPhoneNumber"),InitialVisitorFirstName:n.get("visitorFirstName")||"",InitialVisitorLastName:n.get("visitorLastName")||"",InitialVisitorEmail:n.get("visitorEmail")||"",InitialVisitorCompany:n.get("visitorCompany")||"",InitialVisitorQuestion:n.get("visitorQuestion")||"",InitialVisitorPhoneNumber:n.get("visitorPhoneNumber")||"",RequireFirstName:t.getRequiredSetting("RequireFirstName"),RequireLastName:t.getRequiredSetting("RequireLastName"),RequireCompany:t.getRequiredSetting("RequireCompany"),RequirePhoneNumber:t.getRequiredSetting("RequirePhoneNumber"),RequireEmail:t.getRequiredSetting("RequireEmail"),RequireQuestion:t.getRequiredSetting("RequireQuestion")}),c=t.getWidgetSettings().get("StartChatImmediately")?Vr:Br;t.chatForm=new c({viewController:t.getViewController(),rm:t.getResources(),model:s,settings:t.options}),s.on("formSubmit",(function(e){return t.getViewController().onFormSubmitted(e)})),t.settings.browserIsUnsupported()?n.set("state",gt.WidgetStates.Unsupported):r?n.set("state",gt.WidgetStates.EmailForm):(t.getWidgetView().showChildView("content",t.chatForm),t.listenTo(n,"change:operatorsAvailable",(function(t,e){e||n.set("state",gt.WidgetStates.Unavailable)})),t.listenTo(n,"change",(function(t){s.set({InitialVisitorName:t.get("visitorName")||"",InitialVisitorFirstName:t.get("visitorFirstName")||"",InitialVisitorLastName:t.get("visitorLastName")||"",InitialVisitorEmail:t.get("visitorEmail")||"",InitialVisitorCompany:t.get("visitorCompany")||"",InitialVisitorQuestion:t.get("visitorQuestion")||"",InitialVisitorPhoneNumber:t.get("visitorPhoneNumber")||""})})),(t.widgetView.model.get("expanded")||t.getWidgetSettings().get("UnavailableBehavior")===gt.UnavailableBehaviors.HideWidget)&&(t.widgetView.model.get("expanded")&&t.getWidgetView().setTitle(t.getResource("title_initial_open"),"title_initial_open"),window._pcWidgetInitializer.disableAvailabilityPings||t.startAvailabilityPolling()),t.options.get("enableAvailabilityPolling")&&t.startAvailabilityPolling())}else r?n.set("state",gt.WidgetStates.EmailForm):n.set("state",gt.WidgetStates.Unavailable)}))}},{key:"onExit",value:function(){qe.prototype.onExit.apply(this,arguments),this.stopListening(this.getViewController().getChatModel())}},{key:"onExpanded",value:function(){this.getDataController().checkInRoom()?this.getChatModel().set("state",gt.WidgetStates.Activating):(this.getWidgetView().setExpandedTitle(this.getResource("title_initial_open"),"title_initial_open"),window._pcWidgetInitializer.disableAvailabilityPings||this.startAvailabilityPolling())}},{key:"onCollapsed",value:function(){var t=this.getInitialTitleResourceKey();this.getWidgetView().setTitle(this.getResource(t),t),this.getWidgetSettings().get("UnavailableBehavior")!==gt.UnavailableBehaviors.HideWidget&&this.stopAvailabilityPolling()}},{key:"startChatAutomatically",value:function(){var t=this,e=h.a.Deferred(),n={visitorName:"Visitor"},r=this.getWidgetSettings();return this.getDataController().checkChatAvailable().done((function(i){t.getChatModel().set("operatorsAvailable",i.available),i.available?t.getDataController().startChat(n).done((function(i){Z.GaEvent(r,"GaTrackingChat","GAChatEvent"),t.getWidgetView().$el.find(".purechat-init-form").find(".general-error").text("").purechatDisplay("none"),t.status.chatInfo=i,t.status.initialData=n,t.getChatModel().set("visitorName",n.visitorName),t.getChatModel().set("visitorEmail",n.visitorEmail),t.getChatModel().set("visitorQuestion",n.visitorQuestion),t.getChatModel().set("roomId",i.get("roomId")),t.getChatModel().set("userId",i.get("userId")),t.getChatModel().set("authToken",i.get("authToken")),t.getChatModel().set("chatId",i.get("chatId")),t.getChatModel().set("state",gt.WidgetStates.Chatting),t.getDataController().connectionInfo.persistLocalStorage(),e.resolve()})).fail((function(){t.getWidgetView().$el.find(".purechat-init-form").find(".general-error").text("Unable to start chat. Please try again").purechatDisplay("block"),e.reject()})).always((function(){t.submittingChat=!1})):(t.getChatModel().set("state",gt.WidgetStates.Unavailable),e.resolve())})),e.promise()}},{key:"destroy",value:function(){var t=this.getViewController().getChatModel();this.stopListening(t),Yr(Gr(e.prototype),"destroy",this).call(this)}},{key:"name",get:function(){return"inactive"}},{key:"stateSettings",get:function(){return{shouldBeInRoom:!1,UiVisiblity:{}}}}])&&Lr(n.prototype,r),i&&Lr(n,i),e}(qe);function qr(t){return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qr(t,e){return!e||"object"!==qr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kr(t){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ti(t,e){return(ti=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ei=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Qr(this,Kr(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ti(t,e)}(e,t),n=e,(r=[{key:"onEnter",value:function(){var t=this;qe.prototype.onEnter.apply(this,arguments),this.getWidgetView().setExpandedTitle(this.getResource("title_initial_open"),"title_initial_open");var e=new RegExp("^https?://".concat(document.location.hostname),"i");document.referrer.match(e)||(localStorage.acquisitionSource=document.referrer);var n=this.getDataController().checkInRoom(),r=!!n&&this.getDataController().connectionInfo.isChatPastGracePeriod();n&&this.chatModel.get("isPoppedOut")&&this.getDataController().connectionInfo.loadChatServerUrl(),this.syncWithContact().done((function(){r?t.getDataController().restartChat().done((function(){t.getChatModel().restartChat(),t.getViewController().resetVisitorQuestion(),t.getViewController().trigger("widget:restart")})):t.getChatModel().set("state",n?gt.WidgetStates.Activating:gt.WidgetStates.Inactive)}))}},{key:"name",get:function(){return"initializing"}},{key:"stateSettings",get:function(){return{UiVisiblity:{}}}}])&&$r(n.prototype,r),i&&$r(n,i),e}(qe);function ni(t){return(ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ri(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ii(t,e){return!e||"object"!==ni(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function oi(t,e,n){return(oi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ai(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function ai(t){return(ai=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function si(t,e){return(si=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ci=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ii(this,ai(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&si(t,e)}(e,t),n=e,(r=[{key:"getRequiredSetting",value:function(t){var e=this.getWidgetSettings().get(t);return void 0===e||Boolean(e)}},{key:"onEnter",value:function(){var t=this;qe.prototype.onEnter.apply(this,arguments);var e=this.settings.get("IPIsBanned")?gt.UnavailableBehaviors.ShowMessage:this.options.get("UnavailableBehavior"),n=this.getWidgetSettings(),r=this.getInitialTitleResourceKey();if(this.getWidgetView().$el.find(".purechat-start-chat-button-container button").html("Start Chat"),0===e)this.getWidgetView().onShow();else if(1===e)this.getWidgetView().onShow(),this.widgetView.model.get("expanded")?this.getWidgetView().setTitle(this.getResource("title_noOperators"),"title_noOperators"):this.getWidgetView().setTitle(this.getResource(r),r),h()(this.getWidgetView().getRegion("content").el).html('<div data-resourcekey="error_noOperators" class="purechat-closedmessage-container purechat-no-operators">'.concat(this.getResource("error_noOperators"),"</div>"));else{this.getWidgetView().onShow(),this.widgetView.model.get("expanded")?this.getWidgetView().setExpandedTitle(this.getResource("title_emailForm"),"title_emailForm"):this.getWidgetView().setTitle(this.getResource(r),r);var i=new I.Model({AskForFirstName:this.settings.get("AskForFirstName"),AskForLastName:this.settings.get("AskForLastName"),AskForEmail:!0,AskForCompany:this.settings.get("AskForCompany"),AskForQuestion:!0,AskForPhoneNumber:this.settings.get("AskForPhoneNumber"),EmailForm:!0,EmailFormAskForFirstName:this.settings.get("EmailFormAskForFirstName"),EmailFormAskForLastName:this.settings.get("EmailFormAskForLastName"),EmailFormAskForCompany:this.settings.get("EmailFormAskForCompany"),EmailFormAskForPhoneNumber:this.settings.get("EmailFormAskForPhoneNumber"),InitialVisitorFirstName:this.getViewController().getChatModel().get("visitorFirstName")||"",InitialVisitorLastName:this.getViewController().getChatModel().get("visitorLastName")||"",InitialVisitorEmail:this.getViewController().getChatModel().get("visitorEmail")||"",InitialVisitorCompany:this.getViewController().getChatModel().get("visitorCompany")||"",InitialVisitorQuestion:this.getViewController().getChatModel().get("visitorQuestion")||"",InitialVisitorPhoneNumber:this.getViewController().getChatModel().get("visitorPhoneNumber")||"",RequireFirstName:this.getRequiredSetting("RequireFirstName"),RequireLastName:this.getRequiredSetting("RequireLastName"),RequireCompany:this.getRequiredSetting("RequireCompany"),RequirePhoneNumber:this.getRequiredSetting("RequirePhoneNumber"),RequireEmail:this.getRequiredSetting("RequireEmail"),RequireQuestion:this.getRequiredSetting("RequireQuestion")});i.on("formSubmit",(function(e){var n=h()(t.getWidgetView().el).find(".purechat-form.purechat-email-form");V.events.trigger("widget:spinner:show"),t.getDataController().submitEmailForm(e).done((function(r){if(r.success){var o=new ce({rm:t.getResources(),model:i});t.getWidgetView().showChildView("content",o),t.getWidgetView().ui.restartButton.purechatDisplay("inline-block"),t.getWidgetView().$el.find(".purechat-btn-restart").on("click.RestartChat",(function(e){return t.restartChat.call(t,e)})),t.getViewController().trigger("email:send",e)}else n.find(".purechat-email-error").purechatDisplay("block")})).fail((function(){n.find(".purechat-email-error").purechatDisplay("block")})).always((function(){V.events.trigger("widget:spinner:hide")}))})),this.listenTo(this.getViewController().getChatModel(),"change",(function(t){i.set({InitialVisitorName:t.get("visitorName")||"",InitialVisitorFirstName:t.get("visitorFirstName")||"",InitialVisitorLastName:t.get("visitorLastName")||"",InitialVisitorEmail:t.get("visitorEmail")||"",InitialVisitorCompany:t.get("visitorCompany")||"",InitialVisitorQuestion:t.get("visitorQuestion")||"",InitialVisitorPhoneNumber:t.get("visitorPhoneNumber")||""})}));var o=new Br({viewController:this.getViewController(),rm:this.getResources(),model:i,settings:this.options,FormType:"email"});this.getWidgetView().showChildView("content",o)}this.listenTo(this.getChatModel(),"change:operatorsAvailable",(function(e,n){n&&t.getChatModel().set("state",gt.WidgetStates.Inactive)}));var a=n.get("UnavailableBehavior")===gt.UnavailableBehaviors.HideWidget&&n.anyButtonEnabled();(this.widgetView.model.get("expanded")&&!a||a&&this.getChatModel().get("operatorsAvailable")||this.options.get("enableAvailabilityPolling"))&&(window._pcWidgetInitializer.disableAvailabilityPings||this.startAvailabilityPolling())}},{key:"onExpanded",value:function(){this.getDataController().checkInRoom()?this.getChatModel().set("state",gt.WidgetStates.Activating):(1===(this.settings.get("IPIsBanned")?gt.UnavailableBehaviors.ShowMessage:this.options.get("UnavailableBehavior"))?this.getWidgetView().setTitle(this.getResource("title_noOperators"),"title_noOperators"):this.getWidgetView().setExpandedTitle(this.getResource("title_emailForm"),"title_emailForm"),window._pcWidgetInitializer.disableAvailabilityPings||this.startAvailabilityPolling())}},{key:"onCollapsed",value:function(){var t=this.getWidgetSettings(),e=this.getInitialTitleResourceKey();this.getWidgetView().setTitle(this.getResource(e));var n=t.get("UnavailableBehavior");(n!==gt.UnavailableBehaviors.HideWidget||n===gt.UnavailableBehaviors.HideWidget&&!t.anyButtonEnabled())&&this.stopAvailabilityPolling()}},{key:"restartChat",value:function(t){var e=this;h()(t.currentTarget).off("click.RestartChat"),t.stopPropagation(),this.getDataController().restartChat().done((function(){e.getChatModel().restartChat(),e.getViewController().resetVisitorQuestion(),e.getViewController().trigger("widget:restart")})).fail((function(){throw new Error("Failed to send email. Please try again!")}))}},{key:"destroy",value:function(){this.stopListening(this.getChatModel()),oi(ai(e.prototype),"destroy",this).call(this)}},{key:"name",get:function(){return"unavailable"}},{key:"stateSettings",get:function(){return{shouldBeInRoom:!1}}}])&&ri(n.prototype,r),i&&ri(n,i),e}(qe),li=n(135),ui=n.n(li),pi=x.ItemView.extend({template:ui.a,className:"purechat-unsupported-browser"});function hi(t){return(hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function di(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gi(t,e){return!e||"object"!==hi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mi(t){return(mi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fi(t,e){return(fi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var yi={PCStateActivating:nn,PCStateChatting:Cr,PCStateClosed:Or,PCStateEmailForm:Nr,PCStateInactive:Jr,PCStateInitializing:ei,PCStateUnavailable:ci,PCStateUnsupported:function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),gi(this,mi(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fi(t,e)}(e,t),n=e,(r=[{key:"onEnter",value:function(){qe.prototype.onEnter.apply(this,arguments),this.getWidgetView().showChildView("content",new pi)}},{key:"name",get:function(){return"unsupported"}},{key:"stateSettings",get:function(){return{UiVisiblity:{}}}}])&&di(n.prototype,r),i&&di(n,i),e}(qe)};function bi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bi(Object(n),!0).forEach((function(e){wi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ci(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ii(t,e,n){return e&&Ci(t.prototype,e),n&&Ci(t,n),t}var xi=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.noop;_i(this,t),this.eventName=e,this.callback=n||h.a.noop}return Ii(t,[{key:"applyCallback",value:function(t){this.callback.apply(window.vtftw,[t])}}]),t}(),ki=function(t){var e=window.history[t],n=window.location.href;return function(){var r=arguments,i=e.apply(this,arguments);return setTimeout((function(){if(n!==window.location.href){n=window.location.href;var e,i="purechat:".concat(t);"function"==typeof Event?e=new Event(i):(e=document.createEvent("Event")).initEvent(i,!0,!0),e.arguments=r,window.dispatchEvent(e)}}),0),i}},ji=function(t){return function(t){if("null"!==t&&null!==t)return t}(window.localStorage.getItem(t))},Si=function(t,e){window.localStorage.setItem(t,e)},Ai=function(t){window.localStorage.removeItem(t)},Ti=function(){function t(e,n){_i(this,t),this.config=vi({},e),this.accountId=n,this.additionalInfo={},this.pingCount=0,this.pingDelay=this.config.pingInterval,this.pid=null,this.pingInterval=null,this.inactivityTimeout=null,this.userActive=!0,this.userAlwaysActive=!1,this.firstLoad=!0,this.events=[],this.initialized=!1;var r=this.updatePageId.bind(this);window.history.pushState=ki("pushState"),window.history.replaceState=ki("replaceState"),window.addEventListener("purechat:pushState",r),window.addEventListener("purechat:replaceState",r),window.addEventListener("hashchange",r);var i=this.resetTimer.bind(this);document.addEventListener("keypress",i),document.addEventListener("mousemove",i),e.widgetElement&&(e.widgetElement.addEventListener("keypress",i),e.widgetElement.addEventListener("mousemove",i)),this.resetTimer()}return Ii(t,[{key:"init",value:function(){this.pid=(new Date).getTime(),this.activateUser(),this.initialized=!0}},{key:"doPing",value:function(){var t=this;if(this.userActive){var e=null,n=null,r=ji("vc"),i=ji("vn");try{e=ji("i"),this.isActiveSession?n=ji(this.sessionItemName):Ai(this.sessionItemName)}catch(t){}var o={i:e,s:n,f:this.firstLoad.toString(),c:this.pingCount,pid:this.pid,sid:this.accountId,url:document.location.href,ref:document.referrer||"Direct",ai:JSON.stringify(this.additionalInfo),nv:!0};r&&(o.vc=r),i&&(o.vn=i),h.a.ajax({url:this.config.pingQueueUrl,method:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify(o),xhrFields:{withCredentials:!0},success:function(e){if(t.firstLoad=!1,!e.i)return!1;t.pingCount+=1,t.pingDelay=t.config.pingInterval,t.pingInterval=setTimeout(t.doPing.bind(t),t.pingDelay),(e.e||[]).forEach((function(e){return t.trigger(e.eventName,e)}));try{return Si("i",e.i),Si(t.lastCheckinItemName,Date.now()),e.s&&Si(t.sessionItemName,e.s),e.vc&&Si("vc",e.vc),e.vn&&Si("vn",e.vn),!0}catch(t){return!1}},error:function(){t.pingDelay=2*t.pingDelay,t.pingInterval=setTimeout(t.doPing.bind(t),t.pingDelay)}})}}},{key:"updatePageId",value:function(){this.pid=(new Date).getTime()}},{key:"activateUser",value:function(){this.userActive=!0,this.pingInterval||(this.pingDelay=this.config.pingInterval,this.pingInterval=setTimeout(this.doPing.bind(this),0))}},{key:"inactivateUser",value:function(){this.userActive=!1,this.pingInterval&&(clearTimeout(this.pingInterval),this.pingInterval=null)}},{key:"resetTimer",value:function(){this.activateUser(),this.inactivityTimeout&&(clearTimeout(this.inactivityTimeout),this.inactivityTimeout=null),this.userAlwaysActive||(this.inactivityTimeout=setTimeout(this.inactivateUser.bind(this),3e5))}},{key:"setUserAlwaysActive",value:function(){this.userAlwaysActive=!0,this.resetTimer()}},{key:"unsetUserAlwaysActive",value:function(){this.userAlwaysActive=!1,this.resetTimer()}},{key:"setAdditionalInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.additionalInfo=vi({},this.additionalInfo,{},t)}},{key:"trigger",value:function(t,e){this.events.filter((function(e){return e.eventName===t})).forEach((function(t){return t.applyCallback(e)}))}},{key:"on",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.noop;this.events.push(new xi(t,e))}},{key:"off",value:function(t){this.events=this.events.filter((function(e){return e.eventName!==t}))}},{key:"sessionItemName",get:function(){return"s_".concat(this.accountId)}},{key:"lastCheckinItemName",get:function(){return"lastCheckin_".concat(this.accountId)}},{key:"isActiveSession",get:function(){var t=Date.now(),e=ji(this.lastCheckinItemName);return!(e&&t-e>=this.config.sessionTimeout)}}]),t}(),Oi=n(136),Pi=n.n(Oi);function Ri(t){return(Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mi(t){return(Mi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ei(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ni(t,e,n){return e&&Ei(t.prototype,e),n&&Ei(t,n),t}function Di(t,e){return(Di=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ui=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(t,e){return!e||"object"!==Ri(e)&&"function"!=typeof e?Wi(t):e}(this,Mi(e).call(this,t)),t.get("apiCdnServerUrl")||t.set("apiCdnServerUrl","https://cdnva2.purechat.com/api"),V.pureServerUrl=t.get("pureServerUrl");var r=new Ce({isWidget:t.get("isWidget"),position:t.get("position"),pureServerUrl:t.get("pureServerUrl"),cdnServerUrl:t.get("cdnServerUrl")||t.get("pureServerUrl"),apiCdnServerUrl:t.get("apiCdnServerUrl"),chatServerUrl:t.get("chatServerUrl"),widgetType:gt.WidgetType.Tab,isOperator:t.get("isOperator"),isPoppedOut:t.get("poppedOut"),State:gt.WidgetStates.Inactive,messages:new Ie,operators:new ke,origin:t.get("origin")||window.location.href,userId:t.get("userId"),expanded:t.get("expanded")});n.setChatModel(r),n.registerPublicApiEvents(),t.get("isDemo")&&(r.set("operatorsAvailable",!0),r.set("visitorName",t.get("visitorName")));var i=n.options.isMobileRequest()&&!n.options.isDesktopDimension(),o=n.options.get("MobileDisplayType")===gt.MobileDisplayTypes.Hidden;i&&o&&(t.set("ChatBoxEnabled",!1),n.trigger("widget:ready")),t.browserIsUnsupported()||!t.get("ChatBoxEnabled")&&!t.get("isDemo")?t.get("VisitorTrackingEnabled")&&(n.setupPageActivityTest(),n.startVisitorTracking()):(n.setupDataController().done(n.controllerReady.bind(Wi(n))).fail((function(){return n.trigger("widget:fail")})),n.on("all",function(){this.state&&this.state.triggerMethod.apply(this.state,arguments)}.bind(Wi(n))),n.on("chat:start",(function(){return n.disableVisitorTrackingInactivity()})),n.on("chat:end",(function(){return n.enableVisitorTrackingInactivity()})));var a=t.get("Id"),s=t.get("Name");return Y.a.log(Y.a.LEVELS.DEBUG,"Widget ".concat(s," (").concat(a,") loaded on ").concat((new Date).getTime())),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Di(t,e)}(e,t),Ni(e,[{key:"setChatModel",value:function(t){this.chatModel=t}},{key:"getChatModel",value:function(){return this.chatModel}},{key:"setDataController",value:function(t){this.dc=t}},{key:"getDataController",value:function(){return this.dc}}]),Ni(e,[{key:"setupDataController",value:function(){var t=this.options.get("dataController").loadWidgetSettings();return this.setDataController(this.options.get("dataController")),t}},{key:"controllerReady",value:function(){var t=this,e=this.options.get("dataController").widgetSettings.widgetConfig,n=h.a.extend({},e,this.options.toJSON());if(this.options.set(n),this.isExcludedPath())return this.options.set("ChatBoxEnabled",!1),this.startVisitorTracking(),this.trigger("widget:ready"),!1;this.setupPageActivityTest(),this.rm=this.options;var r=this.getDataController().widgetSettings,i=h.a.extend({},r,this.options.toJSON());this.options.set(i);var o=this.getDataController(),a=this.options.isMobileRequest()&&this.options.isAllowedOnMobile()&&!this.options.isDesktopDimension(),s=function(e){t.chatModel.set("operatorsAvailable",e.available);var n=a?e.available?"mobile_title_initial":"mobile_title_unavailable_initial":e.available?"title_initial":"title_unavailable_initial";if(h()(".purechat-button-expand").find(".purechat-button-text").text(t.options.getResource(n),n),t.chatModel.on("change:operatorsAvailable",t.operatorsAvailableChanged.bind(t)),h()(".purechat-button-expand").filter(":not(.purechat)").click((function(e){h()(e.target).hasClass("pc-icon-caret-down")||h()(e.target).hasClass("purechat-super-minimize-link-button")||!(o.options.ForcePopout&&!t.chatModel.get("isPoppedOut")||o.options.usePrototypeFallback)?t.widgetLayout.triggerMethod("expand",e,{collapse:h()(e.target).hasClass("purechat-btn-collapse")||h()(e.target).hasClass("pc-icon-minus"),superMinimize:h()(e.target).hasClass("pc-icon-caret-down")||h()(e.target).hasClass("pc-icon-caret-up")||h()(e.target).hasClass("purechat-super-minimize-link-button")}):t.popoutChatOnExpand(o,o.options,t.chatModel,t.state)})),o.connectionInfo.isInChat()||o.connectionInfo.loadFromLocalStorage(),t.chatModel.set("userId",o.connectionInfo.get("userId")),t.widgetLayout=new de({viewController:t,rm:t.rm,model:t.chatModel,widgetSettings:t.options,cssModules:Pi.a}),t.widgetLayout.render(),!o.connectionInfo.get("chatActiveInOtherWindow")&&o.connectionInfo.get("disabled")&&o.connectionInfo.get("roomId")?t.widgetLayout.$el.purechatDisplay("none"):o.connectionInfo.get("chatActiveInOtherWindow")&&!t.chatModel.get("expanded")&&t.widgetLayout.triggerMethod("collapse"),t.options.get("isOperator"))t.stylesLoaded();else{var r=t.getStyleType(),i=r===gt.StyleTypes.Minimal||r===gt.StyleTypes.Mobile;t.widgetLayout.$el.addClass(gt.StyleTypesMappings[r]),Z.setCssVars("pcwidget-styles",t.options.get("Color"),i),setTimeout((function(){return t.stylesLoaded()}),0)}};this.chatModel.get("isOperator")?s({available:!0}):o.checkChatAvailable().done(s)}},{key:"stylesLoaded",value:function(){var t=this,e=C.isString(this.options.get("renderInto"))?h()(this.options.get("renderInto")):this.options.get("renderInto");e.append(this.widgetLayout.$el),e.on("selectionShow",(function(){return t.onSelectionShow()})),this.bindGobalCommand(this.widgetLayout.$el),this.options.get("dataController").options.chatModel=this.getChatModel(),this.listenTo(this.chatModel,"change:state",this.stateChange),this.chatModel.set("state",this.options.get("initialState")||gt.WidgetStates.Initializing),this.listenTo(this.widgetLayout.$el,"change:state",this.stateChange),this.widgetLayout.$el.purechatDisplay(),this.widgetLayout.triggerMethod("afterInsertion"),this.trigger("widget:ready"),this.triggerWidgetAvailableChange(this.chatModel.get("operatorsAvailable")),this.chatModel.get("expanded")||!this.options.useMobile()||this.options.isDesktopDimension()||setTimeout((function(){return t.widgetLayout.collapseMobile()}),1e3),this.timeBasedTrigger=new Ne(this),this.urlBaseTrigger=new Ve(this),this.startVisitorTracking()}},{key:"triggerWidgetAvailableChange",value:function(t){this.chatModel.trigger(t?"widget:available":"widget:unavailable")}},{key:"operatorsAvailableChanged",value:function(t,e){var n=this,r=h()(".purechat-button-expand");e?(r.addClass("purechat-button-available"),r.removeClass("purechat-button-unavailable"),r.removeClass("purechat-button-hidden"),r.removeAttr("disabled")):(this.options.get("UnavailableBehavior")!==gt.UnavailableBehaviors.HideWidget||this.options.anyButtonEnabled()||(r.removeClass("purechat-button-available"),r.addClass("purechat-button-unavailable"),r.attr("disabled","disabled")),r.each((function(t,e){var r=h()(e),i=r.attr("HideUnavailable");(i?"true"===i:n.options.get("UnavailableBehavior")===gt.UnavailableBehaviors.HideWidget&&!n.options.anyButtonEnabled())&&r.addClass("purechat-button-hidden")}))),this.triggerWidgetAvailableChange(e)}},{key:"popoutChatOnExpand",value:function(t,e,n,r,i){n.set("poppedOut",!0),r.disable(),t.connectionInfo.persistLocalStorage();var o=$({widgetId:e.widgetId,userId:t.connectionInfo.get("userId"),displayName:t.connectionInfo.get("visitorName"),authToken:t.connectionInfo.get("authToken"),roomId:t.connectionInfo.get("roomId"),chatId:t.connectionInfo.get("chatId"),roomType:t.connectionInfo.get("roomType"),origin:encodeURIComponent(n?n.get("origin"):""),contactId:window.localStorage.getItem("i")}),a="".concat(L.a.dashboardRootUrl,"/visitorwidget/chatwindow?").concat(o);window.openedWindow=i?window.open(a,"_blank"):window.open(a,"purechatwindow","menubar=no, location=no, resizable=yes, scrollbars=no, status=no, width=480, height=640"),this.trigger("widget:poppedOut")}},{key:"resetVisitorQuestion",value:function(){this.getChatModel().set("visitorQuestion",null)}},{key:"triggerResizedEvent",value:function(){var t=this;this.resizeTrigger&&clearTimeout(this.resizeTrigger),this.resizeTrigger=setTimeout((function(){if(t.resizeTrigger=null,t.widgetLayout&&t.widgetLayout.$el){var e=t.widgetLayout.$el.height(),n=t.widgetLayout.$el.width();t.widgetLayout.trigger("resized",{height:e,width:n}),t.widgetLayout.trigger("widget:resized",{height:e,width:n}),t.resizeTrigger2&&clearTimeout(t.resizeTrigger2),t.resizeTrigger2=setTimeout((function(){t.resizeTrigger2=null,t.widgetLayout.trigger("resized",{height:e,width:n}),t.widgetLayout.trigger("widget:resized",{height:e,width:n})}),1e3)}}),0)}},{key:"unbindAppLevelCommands",value:function(){V.events.off("roomHostChanged")}},{key:"bindAppLevelCommands",value:function(){var t=this;try{this.unbindAppLevelCommands()}catch(t){}V.events.on("roomHostChanged",(function(e){(t.options.get("MobileDisplayType")===gt.MobileDisplayTypes.MobileOptimized&&t.options.get("RequestFromMobileDevice")||!t.options.get("RequestFromMobileDevice"))&&t.getPublicApi().trigger("room:hostChanged",e)}))}},{key:"getStyleType",value:function(){var t=this.options.isDesktopDimension(),e=this.options.isMobileRequest(),n=this.options.isAllowedOnMobile();if(e&&n&&!t)return gt.StyleTypes.Mobile;switch(this.options.get("StyleName").toLowerCase()){case"classic":return gt.StyleTypes.Classic;case"minimal":default:return gt.StyleTypes.Minimal}}},{key:"getStyleURL",value:function(){var t=this.getStyleType(),e="".concat(this.options.get("cdnServerUrl"),"/assets"),n=gt.StyleTypesMappings[t];return"".concat(e,"/").concat(n,".").concat(11126,".js")}},{key:"bindVisitorTrackingEvents",value:function(){var t=this;this.vtftw&&this.vtftw.on("purechat:startChat",(function(e){t.onFormSubmitted({operatorJoinIds:e.eventArgs.operatorJoinIds||[],initiator:1,startedByOperator:!0})}))}},{key:"unbindVisitorTrackingEvents",value:function(){this.vtftw&&this.vtftw.off("purechat:startChat")}},{key:"isBanned",value:function(){var t=this.options.get("IPIsBanned");if(!t)return!1;try{return JSON.parse(t.toString().toLowerCase())}catch(t){return!1}}},{key:"startVisitorTracking",value:function(){if(!this.getChatModel().get("isOperator")&&this.options.get("VisitorTrackingEnabled")&&!this.options.get("isDemo")&&(C.find(this.options.get("Features"),(function(t){return t.Status!==gt.FeatureStatus.Off&&t.Feature===gt.Features.VisitorTracking}))&&(!this.vtftw||!this.vtftw.initialized))){var t={widgetId:this.options.get("overrideWidgetId")||this.options.get("Id"),widgetName:this.options.get("Name")};this.isBanned()&&(t.isBanned=!0),!L.a.widgetElement&&this.options.get("ChatBoxEnabled")&&(L.a.widgetElement=this.widgetLayout.el),this.vtftw=new Ti(L.a,this.options.get("AccountId")),this.vtftw.setAdditionalInfo(t),this.vtftw.init(),this.bindVisitorTrackingEvents()}}},{key:"disableVisitorTrackingInactivity",value:function(){this.vtftw&&this.vtftw.setUserAlwaysActive()}},{key:"enableVisitorTrackingInactivity",value:function(){this.vtftw&&this.vtftw.unsetUserAlwaysActive()}},{key:"coalesceStartChatData",value:function(t){var e=this.getChatModel();return(!e.get("visitorFirstName")||t.visitorFirstName&&e.get("visitorFirstName")!==t.visitorFirstName)&&e.set("visitorFirstName",t.visitorFirstName),(!e.get("visitorLastName")||t.visitorLastName&&e.get("visitorLastName")!==t.visitorLastName)&&e.set("visitorLastName",t.visitorLastName),(!e.get("visitorName")||t.visitorName&&e.get("visitorName")!==t.visitorName)&&e.set("visitorName",t.visitorName),(!e.get("visitorEmail")||t.visitorEmail&&e.get("visitorEmail")!==t.visitorEmail)&&e.set("visitorEmail",t.visitorEmail),(!e.get("visitorQuestion")||t.visitorQuestion&&e.get("visitorQuestion")!==t.visitorQuestion)&&e.set("visitorQuestion",t.visitorQuestion),(!e.get("visitorCompany")||t.visitorCompany&&e.get("visitorCompany")!==t.visitorCompany)&&e.set("visitorCompany",t.visitorCompany),(!e.get("visitorPhoneNumber")||t.visitorPhoneNumber&&e.get("visitorPhoneNumber")!==t.visitorPhoneNumber)&&e.set("visitorPhoneNumber",t.visitorPhoneNumber),h.a.extend(t,e.attributes)}},{key:"onFormSubmitted",value:function(t){var e=this,n=this.getDataController(),r=n.checkInRoom(),i=this.widgetLayout.$el.find(".purechat-form.purechat-init-form"),o=this.getChatModel();if(i&&i.length>0&&V.events.trigger("widget:spinner:show"),!this.state.submittingChat){if(r)return V.events.trigger("widget:spinner:hide"),void o.set("state",gt.WidgetStates.Activating);var a=n.getContactId(),s=n.getOption("Id"),c="legacy-widget-start-chat-".concat(s,"-").concat(a);F.a.start({id:c,message:"Legacy widget start chat took too long",warnThreshold:5e3,timeout:15e3}),Y.a.log(Y.a.LEVELS.DEBUG,"Starting chat on ".concat(s," for contact ").concat(a),"",!1,"",""),n.checkChatAvailable().done((function(r){if(!t.startedByOperator&&!r.available)return V.events.trigger("widget:spinner:hide"),void o.set("state",gt.WidgetStates.Unavailable);e.submittingChat=!0,t.origin=o.get("origin"),Y.a.log(Y.a.LEVELS.DEBUG,"Attempting to call API to start chat on ".concat(s," for contact ").concat(a),"",!1,"",""),n.startChat(e.coalesceStartChatData(t)).done((function(r){Z.GaEvent(e.options,"GaTrackingChat","GAChatEvent"),e.widgetLayout.$(".purechat-init-form .general-error").text("").purechatDisplay("none"),e.state.status.chatInfo=r,e.state.status.initialData=t,o.set({visitorFirstName:t.visitorFirstName,visitorLastName:t.visitorLastName,visitorName:t.visitorName,visitorEmail:t.visitorEmail,visitorQuestion:t.visitorQuestion,visitorPhoneNumber:t.visitorPhoneNumber,visitorCompany:t.visitorCompany,roomId:r.get("roomId"),userId:r.get("userId"),authToken:r.get("authToken"),chatId:r.get("chatId"),state:gt.WidgetStates.Chatting}),n.connectionInfo.persistLocalStorage(),Y.a.log(Y.a.LEVELS.DEBUG,"Chat successfully started on ".concat(s," for contact ").concat(a,", response: ").concat(JSON.stringify(t)),"",!1,"","")})).fail((function(t){e.widgetLayout.$el.find(".purechat-init-form .general-error").text("Unable to start chat. Please try again").purechatDisplay("block");var n=new Error;Y.a.log(Y.a.LEVELS.ERROR,"Error starting chat: ".concat(t),n.stack,!1,"","")})).always((function(){e.state.submittingChat=!1,V.events.trigger("widget:spinner:hide"),F.a.clear(c)}))}))}}},{key:"setupPageActivityTest",value:function(){var t=this,e=null,n=-9999,r=-9999;this.pageActivity=!1,h()(document).on("mousemove.setupPageActivityTest",C.throttle((function(i){e&&clearTimeout(e);var o=Math.abs(n-i.clientX),a=Math.abs(r-i.clientY);o<=2&&a<=2||(n=i.clientX,r=i.clientY,t.pageActivity=!0,e=setTimeout((function(){t.pageActivity=!1}),45e3))}),1e4))}},{key:"onSelectionShow",value:function(){this.state&&this.state.onSelectionShow&&this.state.onSelectionShow()}},{key:"stateChange",value:function(t,e){var n=new yi[e](this.options);this.setState(n)}},{key:"setState",value:function(t){var e=this.state,n={};this.state&&(n=this.state.status,this.state.onExit&&this.state.onExit(),this.state.destroy()),this.state=t,this.state.status=n,this.state.setChatModel(this.getChatModel()),this.state.setWidgetView(this.widgetLayout),this.state.setWidgetSettings(this.options),this.state.setResources(this.rm),this.state.setDataController(this.getDataController()),this.state.setViewController(this),this.trigger("state:changed",{oldState:e,newState:t}),this.state.onEnter&&this.state.onEnter(),this.triggerResizedEvent()}},{key:"bindGobalCommand",value:function(t){var e=this;t.on("click.delegateEvents","[data-command]",(function(t){t.preventDefault();var n=h()(t.currentTarget),r=n.data("command"),i=n.data("command-params");e.trigger(r,i)}))}},{key:"undelegateEvents",value:function(){return this.$el.off(".delegateEvents"+this.cid),this}},{key:"onClose",value:function(){}},{key:"roomHostChanged",value:function(t){var e=this.getChatModel();C.keys(t).forEach((function(n){return e.set(n,t[n],{silent:!0})})),e.trigger("roomHostChanged")}},{key:"isExcludedPath",value:function(){var t=window.location.href;return(this.options.get("ExcludedPaths")||[]).some((function(e){return new RegExp(e,"gi").test(t)}))}}]),e}(ve),Bi=n(44),Zi=n.n(Bi),Hi=n(137),Vi=n.n(Hi),zi=n(138),Li=n.n(zi),Fi=n(139),Yi=n.n(Fi),Gi=n(140),Xi=n.n(Gi),Ji=n(141),qi=n.n(Ji),$i=n(142),Qi=n.n($i),Ki=n(143),to=n.n(Ki),eo=n(144),no=n.n(eo),ro=n(145),io=n.n(ro),oo=n(146),ao=n.n(oo),so=n(147),co=n.n(so),lo=n(148),uo=n.n(lo),po=n(149),ho=n.n(po),go=n(150),mo=n.n(go),fo=n(151),yo=n.n(fo),bo=n(152),vo=n.n(bo),wo=n(153),_o=n.n(wo),Co=n(154),Io=n.n(Co),xo=n(155),ko=n.n(xo),jo=n(156),So=n.n(jo),Ao=n(157),To=n.n(Ao),Oo=n(158),Po=n.n(Oo),Ro=n(159),Mo=n.n(Ro),Wo=n(160),Eo=n.n(Wo),No=n(161),Do=n.n(No),Uo=n(162),Bo=n.n(Uo),Zo=n(163),Ho=n.n(Zo),Vo=n(164),zo=n.n(Vo),Lo=n(165),Fo=n.n(Lo),Yo=n(166),Go=n.n(Yo),Xo=n(167),Jo=n.n(Xo),qo=n(168),$o=n.n(qo),Qo=n(169),Ko=n.n(Qo),ta=n(170),ea=n.n(ta),na=n(171),ra=n.n(na),ia=n(172),oa=n.n(ia),aa=n(173),sa=n.n(aa),ca=n(174),la=n.n(ca),ua=n(175),pa=n.n(ua),ha=n(176),da=n.n(ha),ga=n(177),ma=n.n(ga),fa=n(178),ya=n.n(fa),ba=n(179),va=n.n(ba),wa=n(180),_a=n.n(wa),Ca=n(181),Ia=n.n(Ca),xa=n(182),ka=n.n(xa),ja=n(183),Sa=n.n(ja),Aa=n(184),Ta=n.n(Aa),Oa=n(185),Pa=n.n(Oa),Ra=n(186),Ma=n.n(Ra),Wa=n(187),Ea=n.n(Wa),Na=n(188),Da=n.n(Na),Ua=n(189),Ba=n.n(Ua),Za=n(190),Ha=n.n(Za),Va=n(191),za=n.n(Va),La=n(192),Fa=n.n(La),Ya=n(193),Ga=n.n(Ya),Xa=n(194),Ja=n.n(Xa),qa=n(195),$a=n.n(qa),Qa=n(196),Ka=n.n(Qa),ts=n(197),es=n.n(ts),ns=n(198),rs=n.n(ns),is=n(199),os=n.n(is),as=n(200),ss=n.n(as),cs=n(201),ls=n.n(cs),us=n(202),ps=n.n(us),hs=n(203),ds=n.n(hs),gs=n(204),ms=n.n(gs),fs={"animals/baby-chicks.png":Li.a,"animals/baby-otter.png":Yi.a,"animals/baby-panda.png":Xi.a,"animals/bunny.png":qi.a,"animals/kitten.png":Qi.a,"animals/puppy.png":to.a,"clipart/black-livechat-bubble.png":no.a,"clipart/blue-livechat-bubble.png":io.a,"clipart/chat-01.png":ao.a,"clipart/chinese.png":co.a,"clipart/contact-01.png":uo.a,"clipart/email.png":ho.a,"clipart/female-hello.png":mo.a,"clipart/female-support2.png":yo.a,"clipart/female-support.png":vo.a,"clipart/female-thumbsup.png":_o.a,"clipart/french.png":Io.a,"clipart/german.png":ko.a,"clipart/global-01.png":So.a,"clipart/hello.png":To.a,"clipart/info-01.png":Po.a,"clipart/italian.png":Mo.a,"clipart/japanese.png":Eo.a,"clipart/male-hello.png":Do.a,"clipart/male-support2.png":Bo.a,"clipart/male-support.png":Ho.a,"clipart/male-thumbsup.png":zo.a,"clipart/pc-bubble.png":Fo.a,"clipart/portugese.png":Go.a,"clipart/red-livechat-bubble.png":Jo.a,"clipart/romanian.png":$o.a,"clipart/russian.png":Ko.a,"clipart/snowman.png":ea.a,"clipart/spanish.png":ra.a,"clipart/white-livechat-bubble.png":oa.a,"flat/bubbles/black-chat-bubble.png":sa.a,"flat/bubbles/black-circle-hi.png":la.a,"flat/bubbles/black-decorative-pointer.png":pa.a,"flat/bubbles/black-pointer.png":da.a,"flat/bubbles/blue-chat.png":ma.a,"flat/bubbles/blue-circle-hi.png":ya.a,"flat/bubbles/blue-decorative-pointer.png":va.a,"flat/bubbles/blue-pin.png":_a.a,"flat/bubbles/bubbles-black.png":Ia.a,"flat/bubbles/bubbles-blue.png":ka.a,"flat/bubbles/bubbles-teal.png":Sa.a,"flat/bubbles/bubbles-white.png":Ta.a,"flat/bubbles/bubble-white.png":Pa.a,"flat/bubbles/chat-with-us-tab.png":Ma.a,"flat/bubbles/green-pin.png":Ea.a,"flat/bubbles/green-tab.png":Da.a,"flat/bubbles/navy-chat.png":Ba.a,"flat/bubbles/red-chat-bubble.png":Ha.a,"flat/bubbles/red-circle-hi.png":za.a,"flat/bubbles/red-decorative-pointer.png":Fa.a,"flat/bubbles/red-pin.png":Ga.a,"flat/bubbles/teal-chat-bubble.png":Ja.a,"flat/bubbles/white-pointer.png":$a.a,"flat/bubbles/yellow-tab.png":Ka.a,"flat/people/operator-person-1.png":es.a,"flat/people/operator-person-2.png":rs.a,"flat/people/operator-tab.png":os.a,"flat/people/support-circle-grey.png":ss.a,"flat/people/support-circle-white.png":ls.a,"people/cs-f-01.png":ps.a,"people/cs-g-01.png":ds.a,"people/cs-m-01.png":ms.a};var ys={resolveAssetFromPath:function(t,e){var n=t.toLowerCase().replace("/content/images/stockwidgetimages/","");return fs[n]||""+e+t}},bs=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(t.toLowerCase()){case"windows":return 1;case"mac os":return 2;case"ubuntu":return 3;case"android":return 4;case"ios":return 5;default:return 0}},vs=I.RelationalModel.extend({initialize:function(){var t=new Vi.a,e=t.getBrowser(),n=t.getOS(),r=t.getDevice();this.set("BrowserDetails",{Browser:e.name,Version:parseInt(e.major,10),OS:n.name,OsType:bs(n.name)}),this.get("isDemo")||this.set("RequestFromMobileDevice","mobile"===r.type)},getResource:function(t,e){var n,r=this.get("StringResources");if(!r)return t;Zi.a.setOptions({renderer:(n=new Zi.a.Renderer,n.link=function(t,e,n){var r=/^https?:\/\/.+$/.test(t)||"newWindow"===e,i='<a href="'.concat(t,'"');return r&&(i+=' target="_blank"'),e&&"newWindow"!==e&&(i+=' title="'.concat(e,'"')),"".concat(i,">").concat(n,"</a>")},n)});var i=gt.MarkdownFields.indexOf(t)>-1;if(!e)return i?Zi()(r[t]):r[t];var o="".concat(r[t]||"");if(e.displayName||(o=o.replace("{displayName}","")),e.chatUserNames||(o=o.replace("{chatUserNames}","")),this.compiledResources||(this.compiledResources={}),!this.compiledResources[o]){var a=i?C.template(Zi()(C.escape(o)),null,{interpolate:/\{(.+?)\}/g}):C.template(o,null,{interpolate:/\{(.+?)\}/g});this.compiledResources[o]=a}return this.compiledResources[o](e)},_isDesktopDimension:null,isDesktopDimension:function(){if(!this._isDesktopDimension){var t=h()(window).height(),e=h()(window).width();this._isDesktopDimension=this.get("isDemo")?!this.isMobileRequest():t>=625&&e>=625}return this._isDesktopDimension},isMobileRequest:function(){return this.get("RequestFromMobileDevice")},isAllowedOnMobile:function(){return this.get("MobileDisplayType")!==gt.MobileDisplayTypes.SameAsDesktop||!!this.get("Demo")},useMobile:function(){return this.isMobileRequest()&&this.isAllowedOnMobile()},showImage:function(){return this.get("CollapsedStyle")===gt.WidgetType.Image||this.get("CollapsedStyle")===gt.WidgetType.ImageTab},anyButtonEnabled:function(){return this.get("ShowEmailButton")||this.get("ShowPhoneButton")||this.get("ShowTwitterButton")||this.get("ShowAddressButton")},poweredByUrl:function(){var t={c:this.get("Company")||"",utm_source:window.location.hostname,utm_medium:"widget",utm_campaign:"poweredby"},e=Object.keys(t).map((function(e){return"".concat(e,"=").concat(encodeURIComponent(t[e]))})).join("&");return"https://purechat.com/powered-by-purechat?".concat(e)},absoluteCollapsedImageUrl:function(t){return this.get("CollapsedStyle")===gt.WidgetType.Button?"":t?this.absoluteUrl(this.get("AvailableCollapsedWidgetImageUrl")):this.absoluteUrl(this.get("UnavailableCollapsedWidgetImageUrl"))},mobileAbsoluteCollapsedImageUrl:function(t){return this.get("CollapsedStyle")===gt.WidgetType.Button?"":t?this.absoluteUrl(this.get("MobileAvailableCollapsedWidgetImageUrl")):this.absoluteUrl(this.get("MobileUnavailableCollapsedWidgetImageUrl"))},absoluteUrl:function(t){var e=(t||"").toLowerCase().trim(),n=0===e.indexOf("~"),r=0===e.indexOf("/");return 1===e.length&&n?null:n||e.indexOf("files/download")>-1?this.get("apiCdnServerUrl")+(n?e.substring(1):e):r?ys.resolveAssetFromPath(e,this.get("cdnServerUrl")):e},formatDateTime:function(t){var e=new Date(t),n=e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear();return n+=" "+(e.getHours()%12==0?"12":e.getHours()%12)+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+(e.getHours()>=12?"PM":"AM")},browserIsUnsupported:function(){var t=!1,e=this.get("BrowserDetails");if(!e)return t;switch(e.Version=parseFloat(e.Version),e.Browser.toLowerCase().replace(/s+/g,"")){case"internetexplorer":case"ie":e.Version<=10&&(t=!0);break;case"safari":e.Version<5&&(t=!0);break;case"opera":e.Version<12&&(t=!0)}return t},isFileTransferEnabled:function(){var t=this.get("room");return(!t||t.roomType===gt.RoomType.Visitor)&&this.get("FileTransferEnabled")}});function ws(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var _s=function(){function t(e){var n=this,r=e.settings;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.notificationSoundTimeout=null,this.soundIsPlaying=!1,this._soundsFolder="/content/audio/",this._localStorageKey="_purechatVisitorWidgetPlaySound",this.settings=r;var i=window.localStorage.getItem(this._localStorageKey);window.localStorage[this._localStorageKey]=null==i||"true"===i.toString().toLowerCase(),V.events.on("notifications:newMessage",(function(){return n.newMessage()}))}var e,n,r;return e=t,(n=[{key:"newMessage",value:function(){if(!this.settings.get("RequestFromMobileDevice")&&!this.settings.get("isInEditorMode")){var t=this.settings.get("pureServerUrl")||"https://app.purechat.com",e="true"===localStorage._purechatVisitorWidgetPlaySound.toString().toLowerCase();if(!this.settings.get("isOperator")&&e&&"undefined"!=typeof Audio&&!this.soundIsPlaying){var n=new Audio;n.canPlayType("audio/wav")||n.canPlayType("audio/wave")?this._playWave(t):this._playMp3(t)}}}},{key:"_playSound",value:function(t){var e=this,n=new Audio(t);n.onended=function(){e.soundIsPlaying=!1,n=null},this.soundIsPlaying=!0,n.play()}},{key:"_playWave",value:function(t){this._playSound(t+this._soundsFolder+"Correct-short.wav")}},{key:"_playMp3",value:function(t){this._playSound(t+this._soundsFolder+"Correct-short.mp3")}}])&&ws(e.prototype,n),r&&ws(e,r),t}();function Cs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Is(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cs(Object(n),!0).forEach((function(e){xs(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cs(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ks(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var js={accountId:"",chatServerUrl:"",checkWidgetAvailableInterval:2e4,config:{},connectionSettings:{},dataController:null,insertElement:null,isOperator:!1,isWidget:!1,apiServerUrl:L.a.apiRootUrl,pureServerUrl:L.a.dashboardRootUrl,cdnServerUrl:L.a.cdnUrl,apiCdnServerUrl:L.a.apiCdnServerUrl,renderInto:"body",userProperties:{userId:null,displayName:null,authToken:null,roomId:null,chatId:null},widgetId:""},Ss=["29AFB4FB-BB02-4683-87AB-61FE4DF53428","437031F4-D568-4CAD-8E12-06F6FB26FEDA","404A985C-0759-4DC3-AB44-EF0C800B522F","77916CD7-8D72-44AC-8CD4-0DF8A99DC4F0"].map((function(t){return t.toLowerCase()})),As=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.settings={}}var e,n,r;return e=t,(n=[{key:"start",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.noop;F.a.init({logger:Y.a}),this.settings=Is({hasAllSettings:!0},js,{},e),Ss.some((function(e){return e===t.settings.widgetId.toLowerCase()}))&&Y.a.setLogLevel(Y.a.LEVELS.DEBUG);var r=this.createServiceOptions(),i=r.test?new Dt(r):new Tt(Is({},this.settings,{},r));X(i);var o=this.createViewOptions();this.purechat=new Ui(new vs(o)),this.notificationsController=new _s({settings:this.purechat.options}),n(this.purechat)}},{key:"createServiceOptions",value:function(){return{test:!1,widgetId:this.settings.widgetId||this.settings.c,connectionSettings:Is({},this.settings),isWidget:this.settings.isWidget||this.settings.f,isOperator:void 0!==this.settings.d&&this.settings.d,pureServerUrl:this.settings.pureServerUrl,apiServerUrl:this.settings.apiServerUrl,renderInto:h()("body")}}},{key:"createViewOptions",value:function(){var t=!1;if(void 0!==window.Prototype)try{var e=window.Prototype.Version.split(/\./g);e.length>0&&(t=!(parseInt(e[0],10)>=2||parseInt(e[1],10)>=7)),t&&console.log("PureChat widgets are not compatible with Prototype.js versions < 1.7. Default widget behavior will popout into a new window")}catch(t){console.log(t)}return Is({},this.settings,{},{test:!1,pureServerUrl:this.settings.pureServerUrl,widgetId:this.settings.widgetId||this.settings.c,isWidget:this.settings.isWidget||this.settings.f,isOperator:void 0!==this.settings.d&&this.settings.d,renderInto:h()("body"),dataController:J(),usePrototypeFallback:t})}},{key:"loadWidgetSettings",value:function(t){var e=this.settings.overrideWidgetId||this.settings.widgetId,n="".concat(L.a.apiCdnServerUrl,"/api/visitorwidget/widget/").concat(e,"/").concat(t);return h.a.ajax({url:n,jsonpCallback:"_WidgetJPCB_WidgetSettings",dataType:"jsonp",cache:!0})}},{key:"disableAvailabilityPings",get:function(){return this.settings.DisableAvailabilityPings||this.settings.IPIsBanned}}])&&ks(e.prototype,n),r&&ks(e,r),t}());window._pcWidgetInitializer=As},,function(t,e,n){"use strict";var r=n(7),i=n(22),o=Object(r.a)((function(t,e){if(0===t.length)return!1;for(var n=e,r=0;r<t.length;){if(!Object(i.a)(t[r],n))return!1;n=n[t[r]],r+=1}return!0})),a=Object(r.a)((function(t,e){return o([t],e)}));e.a=a}]);